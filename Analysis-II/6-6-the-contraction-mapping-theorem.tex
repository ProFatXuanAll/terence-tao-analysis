\section{The contraction mapping theorem}\label{sec 6.6}

\begin{definition}[Contraction]\label{6.6.1}
    Let \((X, d)\) be a metric space, and let \(f : X \to X\) be a map.
    We say that \(f\) is a \emph{contraction} if we have \(d\big(f(x), f(y)\big) \leq d(x, y)\) for all \(x, y \in X\).
    We say that \(f\) is a \emph{strict contraction} if there exists a constant \(0 < c < 1\) such that \(d\big(f(x), f(y)\big) \leq c d(x, y)\) for all \(x, y \in X\);
    we call \(c\) the \emph{contraction constant} of \(f\).
\end{definition}

\begin{example}\label{6.6.2}
    The map \(f : \mathbf{R} \to \mathbf{R}\) defined by \(f(x) \coloneqq x + 1\) is a contraction but not a strict contraction.
    The map \(f : \mathbf{R} \to \mathbf{R}\) defined by \(f(x) \coloneqq x / 2\) is a strict contraction.
    The map \(f : [0, 1] \to [0, 1]\) defined by \(f(x) \coloneqq x - x^2\) is a contraction but not a strict contraction.
\end{example}

\begin{proof}
    Since
    \[
        \forall\ x, y \in \mathbf{R}, \abs*{(x + 1) - (y + 1)} = \abs*{x - y} \leq \abs*{x - y},
    \]
    by Definition \ref{6.6.1} we know that \(x \mapsto x + 1\) is a contraction.
    Suppose for sake of contradiction that \(x \mapsto x + 1\) is a strict contraction.
    Then there exists a \(c \in (0, 1)\) such that
    \[
        \forall\ x, y \in \mathbf{R}, \abs*{(x + 1) - (y + 1)} \leq c \abs*{x - y}.
    \]
    But we see that when \(x \neq y\), we have
    \[
        \abs*{x - y} \leq c \abs*{x - y} \implies 1 \leq c,
    \]
    which contradict to the fact that \(c \in (0, 1)\).
    Thus \(x \mapsto x + 1\) is not a strict contraction.

    Since
    \[
        \forall\ x, y \in \mathbf{R}, \abs*{\frac{x}{2} - \frac{y}{2}} = \frac{1}{2} \abs*{x - y} \leq \frac{1}{2} \abs*{x - y},
    \]
    by Definition \ref{6.6.1} we know that \(x \mapsto \frac{x}{2}\) is a strict contraction.

    Since
    \begin{align*}
                 & \forall\ x, y \in [0, 1], \begin{cases}
            -1 \leq -x \leq 0 \\
            -1 \leq -y \leq 0
        \end{cases} \\
        \implies & -2 \leq -x - y \leq 0                               \\
        \implies & -1 \leq 1 - x - y \leq 1                            \\
        \implies & 0 \leq \abs*{1 - x - y} \leq 1,
    \end{align*}
    we know that
    \begin{align*}
        \forall\ x, y \in [0, 1], \abs*{(x - x^2) - (y - y^2)} & = \abs*{x - y - (x^2 - y^2)}    \\
                                                               & = \abs*{x - y - (x - y)(x + y)} \\
                                                               & = \abs*{(x - y)(1 - x - y)}     \\
                                                               & = \abs*{x - y} \abs*{1 - x - y} \\
                                                               & \leq \abs*{x - y}.
    \end{align*}
    Thus by Definition \ref{6.6.1} we know that \(x \mapsto x - x^2\) is a contraction on \([0, 1]\).
    Suppose for sake of contradiction that \(x \mapsto x - x^2\) is a strict contraction on \([0, 1]\).
    Then there exists a \(c \in (0, 1)\) such that
    \[
        \forall\ x, y \in \mathbf{R}, \abs*{(x - x^2) - (y - y^2)} \leq c \abs*{x - y}.
    \]
    But when \((x, y) = (\frac{1 - c}{2}, 0)\) we have
    \begin{align*}
        \abs*{(x - x^2) - (y - y^2)} & = \abs*{\frac{1 - c}{2} - \bigg(\frac{1 - c}{2}\bigg)^2 - (0 - 0^2)}                  \\
                                     & = \frac{1 - c}{2} \abs*{1 - \frac{1 - c}{2}}                                          \\
                                     & = \frac{1 - c}{2} \frac{1 + c}{2}                                                     \\
                                     & > \frac{1 - c}{2} \frac{c + c}{2}                                    & (c \in (0, 1)) \\
                                     & = c \frac{1 - c}{2}                                                                   \\
                                     & = c \abs*{\frac{1 - c}{2} - 0}                                                        \\
                                     & = c \abs*{x - y},
    \end{align*}
    a contradiction.
    Thus \(x \mapsto x - x^2\) is not a strict contraction on \([0, 1]\).
\end{proof}

\begin{definition}[Fixed points]\label{6.6.3}
    Let \(f : X \to X\) be a map, and \(x \in X\).
    We say that \(x\) is a \emph{fixed point} of \(f\) if \(f(x) = x\).
\end{definition}

\begin{note}
    Contractions do not necessarily have any fixed points;
    for instance, the map \(f : \mathbf{R} \to \mathbf{R}\) defined by \(f(x) = x + 1\) does not.
    However, it turns out that \emph{strict} contractions always do, at least when \(X\) is complete.
\end{note}

\begin{theorem}[Contraction mapping theorem]\label{6.6.4}
    Let \((X, d)\) be a metric space, and let \(f : X \to X\) be a strict contraction.
    Then \(f\) can have at most one fixed point.
    Moreover, if we also assume that \(X\) is non-empty and complete, then \(f\) has exactly one fixed point.
\end{theorem}

\begin{proof}
    We first show that \(f\) can have at most one fixed point.
    Suppose for sake of contradiction that \(f\) has two fixed point \(x_1, x_2 \in X\).
    Since \(f\) is a strict contraction, by Definition \ref{6.6.1} we know that there exists a \(c \in (0, 1)\) such that
    \[
        d\big(f(x_1), f(x_2)\big) \leq c d(x_1, x_2).
    \]
    Since \(x_1, x_2\) are fixed points, by Definition \ref{6.6.3} we know that
    \[
        d(x_1, x_2) \leq c d(x_1, x_2)
    \]
    which implies \(1 \leq c\), a contradiction.
    Thus \(f\) can have at most one fixed point.

    Now we show that when \(X \neq \emptyset\) and \((X, d)\) is complete, \(f\) has exactly one fixed point.
    Let \(x_0 \in X\).
    Since \(f\) is a strict contraction, by Definition \ref{6.6.1} we know that there exists a \(c \in (0, 1)\) such that
    \[
        \forall\ x, y \in X, d\big(f(x), f(y)\big) \leq c d(x, y).
    \]
    Now we define a sequence \((x_n)_{n = 1}^\infty\) as follow:
    \[
        \forall\ n \in \mathbf{Z}^+, x_n = f(x_{n - 1}).
    \]
    We claim that
    \[
        \forall\ n \in \mathbf{Z}^+, d(x_{n + 1}, x_n) \leq c^n d(x_1, x_0).
    \]
    We use induction on \(n\) to proof the claim.
    For \(n = 0\), we have
    \[
        d(x_1, d_0) \leq c^0 d(x_1, x_0) = d(x_1, x_0).
    \]
    Thus the base case holds.
    Suppose inductively that \(d(x_{n + 1}, x_n) \leq c^n d(x_1, x_0)\) for some \(n \geq 0\).
    Then for \(n + 1\), we have
    \begin{align*}
        d(x_{n + 2}, x_{n + 1}) & = d\big(f(x_{n + 1}), f(x_n)\big) & \text{(by the definition of \((x_n)_{n = 1}^\infty\))} \\
                                & \leq c d(x_{n + 1}, x_n)          & \text{(by Definition \ref{6.6.1})}                     \\
                                & \leq c \cdot c^n d(x_1, x_0)                                                               \\
                                & = c^{n + 1} d(x_1, x_0).
    \end{align*}
    This closes the induction.

    Next we claim that \((x_n)_{n = 1}^\infty\) is a Cauchy sequence in \((X, d)\).
    Let \(\varepsilon \in \mathbf{R}^+\).
    Observe that
    \begin{align*}
                 & c \in (0, 1)                                                                                                                             \\
        \implies & \lim_{n \to \infty} c^n = 0                                                                                                              \\
        \implies & \exists\ N \in \mathbf{Z}^+ : \forall\ n \geq N, c^n < \frac{\varepsilon (1 - c)}{1 + d(x_1, x_0)}                                       \\
        \implies & \exists\ N \in \mathbf{Z}^+ : \forall\ n \geq N, \frac{d(x_1, x_0)}{1 - c} \leq \frac{1 + d(x_1, x_0)}{1 - c} < \frac{\varepsilon}{c^n}.
    \end{align*}
    Fix such \(N\).
    Let \(n, m \geq N\) and without the loss of generality suppose that \(n \leq m\).
    Since
    \begin{align*}
        d(x_n, x_m) & \leq \sum_{i = n}^m d(x_i, x_{i + 1})                    & \text{(by Definition \ref{1.1.2}(d))} \\
                    & = \sum_{i = n}^m d(x_{i + 1}, x_i)                       & \text{(by Definition \ref{1.1.2}(c))} \\
                    & \leq \sum_{i = n}^m c^i d(x_1, x_0)                      & \text{(from the claim above)}         \\
                    & = d(x_1, x_0) \bigg(\sum_{i = n}^m c^i\bigg)                                                     \\
                    & = d(x_1, x_0) c^n \bigg(\sum_{i = 0}^{m - n} c^i\bigg)                                           \\
                    & \leq d(x_1, x_0) c^n \bigg(\sum_{i = 0}^\infty c^i\bigg) & (c \in (0, 1))                        \\
                    & = \frac{d(x_1, x_0) c^n}{1 - c}                          & \text{(by geometric series)}          \\
                    & < \frac{\varepsilon c^n}{c^n}                            & (n \geq N)                            \\
                    & = \varepsilon
    \end{align*}
    and \(\varepsilon\) is arbitrary, we know that
    \[
        \forall\ \varepsilon \in \mathbf{R}^+, \exists\ N \in \mathbf{Z}^+ : \forall\ n, m \geq N, d(x_n, x_m) \leq \varepsilon.
    \]
    By Definition \ref{1.4.6} this means \((x_n)_{n = 1}^\infty\) is a Cauchy sequence in \((X, d)\).
    By hypothesis we know that \((X, d)\) is complete, thus by Definition \ref{1.4.10} there exists a \(y_0 \in X\) such that \(\lim_{n \to \infty} d(y_0, x_n) = 0\).

    Now we claim that \(y_0\) is the fixed point of \(f\).
    Suppose for sake of contradiction that \(y_0\) is not the fixed point of \(f\).
    By Definition \ref{6.6.3} this means \(f(y_0) \neq y_0\), in other words, \(d\big(f(y_0), y_0\big) > 0\).
    Since \((x_n)_{n = 1}^\infty\) converges to \(y_0\) in \(X\) with respect to \(d\), we know that
    \begin{align*}
                 & \forall\ \varepsilon \in \mathbf{R}^+, \exists\ N \in \mathbf{Z}^+ : \forall\ n \geq N, d(y_0, x_n) < \varepsilon \\
        \implies & \exists\ N \in \mathbf{Z}^+ : \forall\ n \geq N, d(y_0, x_n) < \frac{d\big(f(y_0), y_0\big)}{2}.
    \end{align*}
    Fix such \(N\).
    But then we have
    \begin{align*}
                 & \begin{cases}
            d(y_0, x_N) < \frac{d\big(f(y_0), y_0\big)}{2} \\
            d(y_0, x_{N + 1}) < \frac{d\big(f(y_0), y_0\big)}{2}
        \end{cases}                                                                    \\
        \implies & \begin{cases}
            c d(y_0, x_N) < c \frac{d\big(f(y_0), y_0\big)}{2} \\
            d(y_0, x_{N + 1}) < \frac{d\big(f(y_0), y_0\big)}{2}
        \end{cases}                                                                    \\
        \implies & \begin{cases}
            d\big(f(y_0), f(x_N)\big) < c d(y_0, x_N) < c \frac{d\big(f(y_0), y_0\big)}{2} \\
            d(y_0, x_{N + 1}) < \frac{d\big(f(y_0), y_0\big)}{2}
        \end{cases}                                                                    \\
        \implies & \begin{cases}
            d\big(f(y_0), x_{N + 1}\big) < c d(y_0, x_N) < c \frac{d\big(f(y_0), y_0\big)}{2} \\
            d(y_0, x_{N + 1}) < \frac{d\big(f(y_0), y_0\big)}{2}
        \end{cases}                                                                    \\
        \implies & d\big(f(y_0), y_0\big) \leq d\big(f(y_0), x_{N + 1}\big) + d(y_0, x_{N + 1})                  \\
                 & < (c + 1) \frac{d\big(f(y_0), y_0\big)}{2} < d\big(f(y_0), y_0\big),         & (c \in (0, 1))
    \end{align*}
    a contraction.
    Thus \(y_0\) is the fixed point of \(f\).
\end{proof}

\begin{remark}\label{6.6.5}
    The contraction mapping theorem is one example of a \emph{fixed point theorem}
    - a theorem which guarantees, assuming certain conditions, that a map will have a fixed point.
    There are a number of other fixed point theorems which are also useful.
    One amusing one is the so-called \emph{hairy ball theorem}, which (among other things) states that any continuous map \(f : S^2 \to S^2\) from the sphere \(S^2 \coloneqq \{(x, y, z) \in \mathbf{R}^3 : x^2 + y^2 + z^2 = 1\}\) to itself, must contain either a fixed point, or an anti-fixed point
    (a point \(x \in S^2\) such that \(f(x) = -x\)).
    A proof of this theorem can be found in any topology text;
    it is beyond the scope of this text.
\end{remark}

\begin{note}
    Basically, Lemma \ref{6.6.6} says that any map \(f\) on a ball which is a ``small'' perturbation (since \(g\) is a strict contraction) of the identity map (since \(f(x) = x + g(x)\)), remains one-to-one and cannot create any internal holes in the ball
    (there is a smaller ball contained in the origin ball such that every element in the smaller ball can be mapped by \(f\)).
\end{note}

\begin{lemma}\label{6.6.6}
    Let \(B(0, r)\) be a ball in \(\mathbf{R}^n\) centered at the origin, and let \(g : B(0, r) \to \mathbf{R}^n\) be a map such that \(g(0) = 0\) and
    \[
        \norm*{g(x) - g(y)} \leq \frac{1}{2} \norm*{x - y}
    \]
    for all \(x, y \in B(0, r)\)
    (here \(\norm*{x}\) denotes the length of \(x\) in \(\mathbf{R}^n\)).
    Then the function \(f : B(0, r) \to \mathbf{R}^n\) defined by \(f(x) \coloneqq x + g(x)\) is one-to-one, and furthermore the image \(f\big(B(0, r)\big)\) of this map contains the ball \(B(0, r / 2)\).
\end{lemma}

\begin{proof}
    We first show that \(f\) is one-to-one.
    Suppose for sake of contradiction that we had two different points \(x, y \in B(0, r)\) such that \(f(x) = f(y)\).
    But then we would have \(x + g(x) = y + g(y)\), and hence
    \[
        \norm*{g(x) - g(y)} = \norm*{x - y}.
    \]
    The only way this can be consistent with our hypothesis \(\norm*{g(x) - g(y)} \leq \frac{1}{2} \norm*{x - y}\) is if \(\norm*{x - y} = 0\), i.e., if \(x = y\), a contradiction.
    Thus \(f\) is one-to-one.

    Now we show that \(f\big(B(0, r)\big)\) contains \(B(0, r / 2)\).
    Let \(y\) be any point in \(B(0, r / 2)\);
    our objective is to find a point \(x \in B(0, r)\) such that \(f(x) = y\), or in other words that \(x = y - g(x)\).
    So the problem is now to find a fixed point of the map \(x \mapsto y - g(x)\).

    Let \(F : B(0, r) \to B(0, r)\) denote the function \(F(x) \coloneqq y - g(x)\).
    Observe that if \(x \in B(0, r)\), then
    \[
        \norm*{F(x)} \leq \norm*{y} + \norm*{g(x)} \leq \frac{r}{2} + \norm*{g(x) - g(0)} \leq \frac{r}{2} + \frac{1}{2} \norm*{x - 0} < \frac{r}{2} + \frac{r}{2} = r,
    \]
    so \(F\) does indeed map \(B(0, r)\) to itself.
    The same argument shows that for a sufficiently small \(\varepsilon > 0\), \(F\) maps the closed ball \(\overline{B(0, r - \varepsilon)}\) to itself.
    Also, for any \(x, x'\) in \(B(0, r)\) we have
    \[
        \norm*{F(x) - F(x')} = \norm*{g(x') - g(x)} \leq \frac{1}{2} \norm*{x' - x}
    \]
    so \(F\) is a strict contraction on \(B(0, r)\), and hence on the complete space \(\overline{B(0, r - \varepsilon)}\) (see Theorem \ref{1.5.7} and Proposition \ref{1.5.5}).
    By the contraction mapping theorem, \(F\) has a fixed point, i.e., there exists an \(x\) such that \(x = y - g(x)\).
    But this means that \(f(x) = y\), as desired.
\end{proof}

\exercisesection

\begin{exercise}\label{ex 6.6.1}
    Let \(f : [a, b] \to [a, b]\) be a differentiable function of one variable such that \(\abs*{f'(x)} \leq 1\) for all \(x \in [a, b]\).
    Prove that \(f\) is a contraction.
    If in addition \(\abs*{f'(x)} < 1\) for all \(x \in [a, b]\) and \(f'\) is continuous, show that \(f\) is a strict contraction.
\end{exercise}

\begin{proof}
    First we show that \(\abs*{f'(x)} \leq 1\) for all \(x \in [a, b]\) implies \(f\) is a contraction.
    Let \(x, y \in [a, b]\).
    If \(x = y\), then we have
    \[
        \abs*{f(x) - f(y)} = 0 \leq 0 = \abs*{x - y}.
    \]
    So suppose that \(x \neq y\).
    By mean value theorem (Corollary 10.2.9 in Analysis I) we know that
    \begin{align*}
                 & \exists\ c \in (x, y) \cup (y, x) : \frac{f(x) - f(y)}{x - y} = f'(c)                      \\
        \implies & \exists\ c \in (x, y) \cup (y, x) : \abs*{\frac{f(x) - f(y)}{x - y}} = \abs*{f'(c)} \leq 1 \\
        \implies & \abs*{f(x) - f(y)} \leq \abs{x - y}.
    \end{align*}
    Thus by Definition \ref{6.6.1} \(f\) is a contraction.

    Now we show that \(\abs*{f'(x)} < 1\) for all \(x \in [a, b]\) and \(f'\) is continuous implies \(f\) is a strict contraction.
    Since \(f'\) is continuous, by Proposition 9.6.7 in Analysis I we know that
    \begin{align*}
                 & \exists\ x_{\min}, x_{\max} \in [a, b] : \forall\ x \in [a, b], f'(x_{\min}) \leq f'(x) \leq f'(x_{\max})                                     \\
        \implies & \exists\ x_{\min}, x_{\max} \in [a, b] : \forall\ x \in [a, b], \abs*{f'(x)} \leq \max\big(\abs*{f'(x_{\min})}, \abs*{f'(x_{\max})}\big) < 1.
    \end{align*}
    Let \(x, y \in [a, b]\).
    If \(x = y\), then we have
    \begin{align*}
        \abs*{f(x) - f(y)} & = 0                                                                          \\
                           & \leq 0                                                                       \\
                           & = \max\big(\abs*{f'(x_{\min})}, \abs*{f'(x_{\max})}\big) \cdot 0             \\
                           & = \max\big(\abs*{f'(x_{\min})}, \abs*{f'(x_{\max})}\big) \cdot \abs*{x - y}.
    \end{align*}
    So suppose that \(x \neq y\).
    By mean value theorem (Corollary 10.2.9) we know that
    \begin{align*}
                 & \exists\ c \in (x, y) \cup (y, x) : \frac{f(x) - f(y)}{x - y} = f'(c)                                                                        \\
        \implies & \exists\ c \in (x, y) \cup (y, x) : \abs*{\frac{f(x) - f(y)}{x - y}} = \abs*{f'(c)} < \max\big(\abs*{f'(x_{\min})}, \abs*{f'(x_{\max})}\big) \\
        \implies & \abs*{f(x) - f(y)} \leq \max\big(\abs*{f'(x_{\min})}, \abs*{f'(x_{\max})}\big) \cdot \abs{x - y}.
    \end{align*}
    Thus by Definition \ref{6.6.1} \(f\) is a strict contraction.
\end{proof}

\begin{exercise}\label{ex 6.6.2}
    Show that if \(f : [a, b] \to \mathbf{R}\) is differentiable and is a contraction, then \(\abs*{f'(x)} \leq 1\).
\end{exercise}

\begin{proof}
    We have
    \begin{align*}
                 & \forall\ x_0 \in [a, b], \forall\ x \in [a, b] \setminus \{x_0\}, \abs*{f(x) - f(x_0)} \leq \abs*{x - x_0}             & \text{(by Definition \ref{6.6.1})} \\
        \implies & \forall\ x_0 \in [a, b], \forall\ x \in [a, b] \setminus \{x_0\}, \abs*{\frac{f(x) - f(x_0)}{x - x_0}} \leq 1                                               \\
        \implies & \forall\ x_0 \in [a, b], \lim_{x \to x_0 ; x \in [a, b] \setminus \{x_0\}} \abs*{\frac{f(x) - f(x_0)}{x - x_0}} \leq 1                                      \\
        \implies & \forall\ x_0 \in [a, b], f'(x_0) \leq 1.
    \end{align*}
\end{proof}

\begin{exercise}\label{ex 6.6.3}
    Give an example of a function \(f : [a, b] \to \mathbf{R}\) which is continuously differentiable and such that \(\abs*{f(x) - f(y)} < \abs*{x - y}\) for all distinct \(x, y \in [a, b]\), but such that \(\abs*{f'(x)} = 1\) for at least one value of \(x \in [a, b]\).
\end{exercise}

\begin{proof}
    Let \(f : [0, 0.5] \to \mathbf{R}\) be the function
    \[
        \forall\ x \in [0, 0.5], f(x) = x^2.
    \]
    Let \(x, y \in [0, 0.5]\) such that \(x \neq y\).
    Since \(x \neq y\), we know that \(x + y < 1\).
    Then we have
    \begin{align*}
        \abs*{f(x) - f(y)} & = \abs*{x^2 - y^2}                    \\
                           & = \abs*{(x - y)(x + y)}               \\
                           & = \abs*{x - y} (x + y)                \\
                           & < \abs*{x - y}.         & (x + y < 1)
    \end{align*}
    Since \(f'(x) = 2x\), we know that \(\abs*{f'(0.5)} = \abs*{1} = 1\).
\end{proof}

\begin{exercise}\label{ex 6.6.4}
    Given an example of a function \(f : [a, b] \to \mathbf{R}\) which is a strict contraction but which is not differentiable for at least one point \(x\) in \([a, b]\).
\end{exercise}

\begin{proof}
    Let \(f : [0, 1] \to \mathbf{R}\) be the function
    \[
        \forall\ x \in [0, 1], f(x) = \begin{cases}
            \frac{x}{2} & \text{if } x \in [0.5, 1] \\
            \frac{x}{3} & \text{if } x \in [0, 0.5)
        \end{cases}.
    \]
    Observe that
    \[
        \lim_{x \to 0.5+} f(x) = \frac{0.5}{2} \neq \frac{0.5}{3} = \lim_{x \to 0.5-} f(x).
    \]
    Thus \(f\) is not continuous at \(0.5\) and by Proposition 10.1.10 in Analysis I \(f\) is not differentiable at \(0.5\).
    Since
    \begin{align*}
                 & \forall\ x, y \in [0, 1], \begin{cases}
            \abs*{f(x) - f(y)} = \frac{1}{2} \abs*{x - y}  & \text{if } x, y \in [0.5, 1]                   \\
            \abs*{f(x) - f(y)} = \frac{1}{3} \abs*{x - y}  & \text{if } x, y \in [0, 0.5)                   \\
            \abs*{f(x) - f(y)} = \frac{x}{2} - \frac{y}{3} & \text{if } x \in [0.5, 1] \land y \in [0, 0.5) \\
            \abs*{f(x) - f(y)} = \frac{y}{2} - \frac{x}{3} & \text{if } x \in [0, 0.5) \land y \in [0.5, 1]
        \end{cases} \\
        \implies & \begin{cases}
            \abs*{f(x) - f(y)} \leq \frac{1}{2} \abs*{x - y}                            & \text{if } x, y \in [0.5, 1]                   \\
            \abs*{f(x) - f(y)} = \frac{1}{3} \abs*{x - y} \leq \frac{1}{2} \abs*{x - y} & \text{if } x, y \in [0, 0.5)                   \\
            \abs*{f(x) - f(y)} < \frac{1}{3} (x - y) \leq \frac{1}{2} \abs*{x - y}      & \text{if } x \in [0.5, 1] \land y \in [0, 0.5) \\
            \abs*{f(x) - f(y)} < \frac{1}{3} (y - x) \leq \frac{1}{2} \abs*{x - y}      & \text{if } x \in [0, 0.5) \land y \in [0.5, 1]
        \end{cases}                           \\
        \implies & \abs*{f(x) - f(y)} \leq \frac{1}{2} \abs*{x - y},
    \end{align*}
    by Definition \ref{6.6.1} we know that \(f\) is a strict contraction.
\end{proof}

\begin{exercise}\label{ex 6.6.5}
    Verify the claims in Examples \ref{6.6.2}.
\end{exercise}

\begin{proof}
    See Example \ref{6.6.2}.
\end{proof}

\begin{exercise}\label{ex 6.6.6}
    Show that every contraction on a metric space \(X\) is necessarily continuous.
\end{exercise}

\begin{proof}
    Let \((X, d)\) be a metric space, let \(f : X \to X\) be a contraction of \(X\) and let \(x_0 \in X\).
    We have
    \begin{align*}
                 & \forall\ \varepsilon \in \mathbf{R}^+, \forall\ x \in X, d(x, x_0) < \varepsilon                                      \\
        \implies & d\big(f(x), f(x_0)\big) \leq d(x, x_0) < \varepsilon.                            & \text{(by Definition \ref{6.6.1})}
    \end{align*}
    By setting \(\delta = \varepsilon\) we see that
    \[
        \forall\ \varepsilon \in \mathbf{R}^+, \exists\ \delta \in \mathbf{R}^+ : \forall\ x \in X, d(x, x_0) < \delta \implies d\big(f(x), f(x_0)\big) < \varepsilon.
    \]
    Since \(x_0\) is arbitrary, by Definition \ref{2.1.1} this means \(f\) is continuous on \(X\) from \((X, d)\) to \((X, d)\).
\end{proof}

\begin{exercise}\label{ex 6.6.7}
    Prove Theorem \ref{6.6.4}.
\end{exercise}

\begin{proof}
    See Theorem \ref{6.6.4}.
\end{proof}

\begin{exercise}\label{ex 6.6.8}
    Let \((X, d)\) be a complete metric space, and let \(f : X \to X\) and \(g : X \to X\) be two strict contractions on \(X\) with contraction coefficients \(c\) and \(c'\) respectively.
    From Theorem \ref{6.6.4} we know that \(f\) has some fixed point \(x_0\), and \(g\) has some fixed point \(y_0\).
    Suppose we know that there is an \(\varepsilon > 0\) such that \(d\big(f(x), g(x)\big) \leq \varepsilon\) for all \(x \in X\)
    (i.e., \(f\) and \(g\) are within \(\varepsilon\) of each other in the uniform metric).
    Show that \(d(x_0, y_0) \leq \varepsilon / \big(1 - \min(c, c')\big)\).
    Thus nearby contractions have nearby fixed points.
\end{exercise}