\section{Periodic functions}\label{ii:sec:5.1}

\begin{defn}\label{ii:5.1.1}
  Let \(L > 0\) be a real number.
  A function \(f : \R \to \C\) is periodic with period \(L\), or \(L\)-periodic, if we have \(f(x + L) = f(x)\) for every real number \(x\).
\end{defn}

\begin{eg}\label{ii:5.1.2}
  The real-valued functions \(f(x) = \sin(x)\) and \(f(x) = \cos(x)\) are \(2\pi\)-periodic, as is the complex-valued function \(f(x) = e^{i x}\).
  These functions are also \(4\pi\)-periodic, \(6\pi\)-periodic, etc.
  The function \(f(x) = x\), however, is not periodic.
  The constant function \(f(x) = 1\) is \(L\)-periodic for every \(L\).
\end{eg}

\begin{rmk}\label{ii:5.1.3}
  If a function \(f\) is \(L\)-periodic, then we have \(f(x + kL) = f(x)\) for every integer \(k\)
  (why? Use induction for the positive \(k\), and then use a substitution to convert the positive \(k\) result to a negative \(k\) result.
  The \(k = 0\) case is of course trivial).
  In particular, if a function \(f\) is \(1\)-periodic, then we have \(f(x + k) = f(x)\) for every \(k \in \Z\).
  Because of this, \(1\)-periodic functions are sometimes also called \(\Z\)-periodic
  (and \(L\)-periodic functions called \(L \Z\)-periodic).
\end{rmk}

\begin{eg}\label{ii:5.1.4}
  For any integer \(n\), the functions \(x \mapsto \cos(2 \pi n x)\), \(x \mapsto \sin(2 \pi n x)\), and \(x \mapsto e^{2 \pi i n x}\) are all \(\Z\)-periodic.
  Another example of a \(\Z\)-periodic function is the function \(f : \R \to \C\) defined by \(f(x) \coloneqq 1\) when \(x \in [n, n + \dfrac{1}{2})\) for some integer \(n\), and \(f(x) \coloneqq 0\) when \(x \in [n + \dfrac{1}{2}, n + 1)\) for some integer \(n\).
  This function is an example of a \emph{square wave}.
\end{eg}

\begin{note}
  In order to completely specify a \(\Z\)-periodic function \(f : \R \to \C\), one only needs to specify its values on the interval \([0, 1)\), since this will determine the values of \(f\) everywhere else.
  This is because every real number \(x\) can be written in the form \(x = k + y\) where \(k\) is an integer (called the \emph{integer part} of \(x\), and sometimes denoted \([x]\)) and \(y \in [0, 1)\) (this is called the \emph{fractional part} of \(x\), and sometimes denoted \(\set{x}\)).
  Because of this, sometimes when we wish to describe a \(\Z\)-periodic function \(f\) we just describe what it does on the interval \([0, 1)\), and then say that it is \emph{extended periodically} to all of \(\R\).
  This means that we define \(f(x)\) for any real number \(x\) by setting \(f(x) \coloneqq f(y)\), where we have decomposed \(x = k + y\) as discussed above.
  (One can in fact replace the interval \([0, 1)\) by any other half-open interval of length \(1\), but we will not do so here.)
\end{note}

\begin{note}
  The space of complex-valued continuous \(\Z\)-periodic functions is denoted
  \[
    C(\R / \Z ; \C).
  \]
  (The notation \(\R / \Z\) comes from algebra, and denotes the quotient group of the additive group \(\R\) by the additive group \(\Z\);
  more information in this can be found in any algebra text.)
  By ``continuous'' we mean continuous at all points on \(\R\);
  merely being continuous on an interval such as \([0, 1]\) will not suffice, as there may be a discontinuity between the left and right limits at \(1\) (or at any other integer).
  Thus for instance, the functions \(x \mapsto \sin(2 \pi n x)\), \(x \mapsto \cos(2 \pi n x)\), and \(x \mapsto e^{2 \pi i n x}\) are all elements of \(C(\R / \Z ; \C)\), as are the constant functions, however the square wave function in \cref{ii:5.1.4} is not in \(C(\R / \Z ; \C)\) because it is not continuous at every integer.
  Also the function \(\sin(x)\) would also not qualify to be in \(C(\R / \Z ; \C)\) since it is not \(\Z\)-periodic.
\end{note}

\begin{lem}[Basic properties of \(C(\R / \Z ; \C)\)]\label{ii:5.1.5}
  \quad
  \begin{enumerate}
    \item (Boundedness)
          If \(f \in C(\R / \Z ; \C)\), then \(f\) is bounded
          (i.e., there exists a real number \(M > 0\) such that \(\abs{f(x)} \leq M\) for all \(x \in \R\)).
    \item (Vector space and algebra properties)
          If \(f, g \in C(\R / \Z ; \C)\), then the functions \(f + g\), \(f - g\), and \(f g\) are also in \(C(\R / \Z ; \C)\).
          Also, if \(c\) is any complex number, then the function \(cf\) is also in \(C(\R / \Z ; \C)\).
    \item (Closure under uniform limits)
          If \((f_n)_{n = 1}^\infty\) is a sequence of functions in \(C(\R / \Z ; \C)\) which converges uniformly to another function \(f : \R \to \C\), then \(f\) is also in \(C(\R / \Z ; \C)\).
  \end{enumerate}
\end{lem}

\begin{proof}{(a)}
  Since \(f \in C(\R / \Z ; \C)\), by \cref{ii:5.1.1} we have
  \[
    \set{f(x) : x \in \R} = \set{f(x) : x \in [0, 1)} = \set{f(x) : x \in [0, 1]}.
  \]
  So it suffices to show that \(\set{f(x) : x \in [0, 1]}\) is bounded.
  Let \(d_{\R} = d_{l^1}|_{\R \times \R}\) and let \(d_{\C}\) be the metric in \cref{ii:4.6.10}.
  Since \([0, 1]\) is closed and bounded in \((\R, d_{\R})\), by Heine-Borel theorem (\cref{ii:1.5.7}) we know that \(([0, 1], d_{\R}|_{[0, 1] \times [0, 1]})\) is compact.
  Since \(f\) is continuous on \([0, 1]\), by \cref{ii:2.3.1} we know that \(\big(f([0, 1]), d_{\C}|_{f([0, 1]) \times f([0, 1])}\big)\) is also compact.
  By \cref{ii:1.5.6} we know that compactness implies boundness, thus we have
  \begin{align*}
             & \forall z \in \C, \exists r \in \R^+ : f([0, 1]) \subseteq B_{(\C, d_{\C})}(z, r) &  & \by{ii:1.5.3}  \\
    \implies & \exists r \in \R^+ : f([0, 1]) \subseteq B_{(\C, d_{\C})}(1, r)                                       \\
    \implies & \exists r \in \R^+ : \forall y \in f([0, 1]), \abs{y - 1} < r                     &  & \by{ii:1.2.1}  \\
    \implies & \exists r \in \R^+ : \forall y \in f([0, 1]),                                                         \\
             & \abs{y} = \abs{y - 1 + 1} \leq \abs{y - 1} + 1 < r + 1.                           &  & \by{ii:4.6.11}
  \end{align*}
  By setting \(M = r + 1\) we are done.
\end{proof}

\begin{proof}{(b)}
  We have
  \begin{align*}
    (f + g)(x + 1) & = f(x + 1) + g(x + 1)                    \\
                   & = f(x) + g(x)         &  & \by{ii:5.1.1} \\
                   & = (f + g)(x)                             \\
    (f - g)(x + 1) & = f(x + 1) - g(x + 1)                    \\
                   & = f(x) - g(x)         &  & \by{ii:5.1.1} \\
                   & = (f - g)(x)                             \\
    (f g)(x + 1)   & = f(x + 1) g(x + 1)                      \\
                   & = f(x) g(x)           &  & \by{ii:5.1.1} \\
                   & = (f g)(x)
  \end{align*}
  and
  \begin{align*}
    \forall c \in \C, (c f)(x + 1) & = c f(x + 1)                    \\
                                   & = c f(x)     &  & \by{ii:5.1.1} \\
                                   & = (c f)(x).
  \end{align*}
\end{proof}

\begin{proof}{(c)}
  Let \(d_{\R} = d_{l^1}|_{\R \times \R}\) and let \(d_{\C}\) be the metric in \cref{ii:4.6.10}.
  Since \((f_n)_{n = 0}^\infty\) converges uniformly to \(f\) on \(\C\) with respect to \(d_{\C}\), by \cref{ii:3.3.2} we know that \(f\) is continuous from \((\R, d_{\R})\) to \((\C, d_{\C})\).
  Suppose for sake of contradiction that \(f \notin C(\R / \Z ; \C)\).
  By \cref{ii:5.1.1} this means
  \[
    \exists x \in \R : f(x + 1) \neq f(x).
  \]
  By \cref{ii:ex:3.2.2} we know that \((f_n)_{n = 0}^\infty\) converges pointwise to \(f\) on \(\C\) with respect to \(d_{\C}\), thus by \cref{ii:3.2.1} we have
  \begin{align*}
             & \begin{dcases}
                 d - \lim_{n \to \infty} f_n(x) = f(x) \\
                 d - \lim_{n \to \infty} f_n(x + 1) = f(x + 1)
               \end{dcases}                                                                       \\
    \implies & \forall \varepsilon \in \R, \exists N \in \Z^+ : \forall n \geq N,                                                 \\
             & \begin{dcases}
                 \abs{f_n(x) - f(x)} < \dfrac{\varepsilon}{2} \\
                 \abs{f_n(x + 1) - f(x + 1)} < \dfrac{\varepsilon}{2}
               \end{dcases}                                                                \\
    \implies & \forall \varepsilon \in \R, \exists N \in \Z^+ : \forall n \geq N, \begin{dcases}
                                                                                    \abs{f_n(x) - f(x)} < \dfrac{\varepsilon}{2} \\
                                                                                    \abs{f_n(x) - f(x + 1)} < \dfrac{\varepsilon}{2}
                                                                                  \end{dcases} &  & \by{ii:5.1.1} \\
    \implies & \forall \varepsilon \in \R, \exists N \in \Z^+ : \forall n \geq N,                                                 \\
             & \abs{f(x) - f(x + 1)} \leq \abs{f(x) - f_n(x)} + \abs{f_n(x) - f(x + 1)}                                           \\
             & < \dfrac{\varepsilon}{2} + \dfrac{\varepsilon}{2} = \varepsilon                                                    \\
    \implies & \forall \varepsilon \in \R^+, \abs{f(x) - f(x + 1)} < \varepsilon                                                  \\
    \implies & f(x) = f(x + 1).
  \end{align*}
  But this contradict to the definition of \(x\).
  Thus \(f \in C(\R / \Z ; \C)\).
\end{proof}

\begin{note}
  One can make \(C(\R / \Z ; \C)\) into a metric space by re-introducing the now familiar sup-norm metric
  \[
    d_\infty(f, g) = \sup_{x \in \R} \abs{f(x) - g(x)} = \sup_{x \in [0, 1)} \abs{f(x) - g(x)}
  \]
  of uniform convergence.
\end{note}

\begin{ac}[modular operation]\label{ii:ac:5.1.1}
  Let \(n \in \Z^+\).
  Define \(\text{mod}_n : \R \to \R\) as follow:
  \[
    \forall x \in \R, \text{mod}_n(x) = x - \bigg[\dfrac{x}{n}\bigg] n.
  \]
  Then \(\text{mod}(\R) \subseteq [0, n)\) and \(\text{mod}\) is \(n\)-periodic.
  We often use \(x \mod n\) instead of \(\text{mod}_n(x)\).
\end{ac}

\begin{proof}
  Since
  \begin{align*}
             & \forall x \in \R, \bigg[\dfrac{x}{n}\bigg] \leq \dfrac{x}{n} < \bigg[\dfrac{x}{n}\bigg] + 1 &              & \by{ii:5.1.1} \\
    \implies & \bigg[\dfrac{x}{n}\bigg] n \leq x < \bigg[\dfrac{x}{n}\bigg] n + n                          & (n \in \Z^+)                 \\
    \implies & 0 \leq x - \bigg[\dfrac{x}{n}\bigg] n < n,
  \end{align*}
  we know that \(\text{mod}_n(x) \subseteq [0, n)\).
  Since
  \begin{align*}
    \forall x \in \R, \text{mod}_n(x + n) & = x + n - \bigg[\dfrac{x + n}{n}\bigg] n                                   \\
                                          & = x + n - \Bigg(\bigg[\dfrac{x}{n}\bigg] + 1\Bigg) n &  & \by{ii:ex:5.1.1} \\
                                          & = x + n - \bigg[\dfrac{x}{n}\bigg] n - n                                   \\
                                          & = x - \bigg[\dfrac{x}{n}\bigg] n                                           \\
                                          & = \text{mod}_n(x),
  \end{align*}
  by \cref{ii:5.1.1} we know that \(\text{mod}_n\) is \(n\)-periodic.
\end{proof}

\exercisesection

\begin{ex}\label{ii:ex:5.1.1}
  Show that every real number \(x\) can be written in exactly one way in the form \(x = k + y\), where \(k\) is an integer and \(y \in [0, 1)\).
\end{ex}

\begin{proof}
  By Exercise 5.4.3 we know that
  \[
    \forall x \in \R, \exists!\ k \in \Z : k \leq x < k + 1.
  \]
  Thus by setting \(y = x - k\) we have \(x = y + k\) and \(y \in [0, 1)\).
\end{proof}

\begin{ex}\label{ii:ex:5.1.2}
  Prove \cref{ii:5.1.5}.
\end{ex}

\begin{proof}
  See \cref{ii:5.1.5}.
\end{proof}

\begin{ex}\label{ii:ex:5.1.3}
  Show that \(C(\R / \Z ; \C)\) with the sup-norm metric \(d_\infty\) is a metric space.
  Furthermore, show that this metric space is complete.
\end{ex}

\begin{proof}
  First we show that \(\big(C(\R / \Z ; \C), d_\infty\big)\) is a metric space.
  Since
  \[
    \forall f \in C(\R / \Z ; \C), d_\infty(f, f) = \sup_{x \in [0, 1)} \abs{f(x) - f(x)} = 0,
  \]
  we know that \(d_\infty\) satisfied \cref{ii:1.1.2}(a).
  Since
  \begin{align*}
             & \forall f, g \in C(\R / \Z ; \C), f \neq g                                \\
    \implies & \exists x \in \R : f(x) \neq g(x)                                         \\
    \implies & \exists x \in [0, 1) : f(x) \neq g(x)               &  & \by{ii:5.1.1}    \\
    \implies & 0 < \sup_{x \in [0, 1)} \abs{f(x) - g(x)} < +\infty &  & \by{ii:5.1.5}[a] \\
    \implies & 0 < d_\infty(f, g) < +\infty,
  \end{align*}
  we know that \(d_\infty\) satisfied \cref{ii:1.1.2}(b).
  Since
  \begin{align*}
    \forall f, g \in C(\R / \Z ; \C), d_\infty(f, g) & = \sup_{x \in [0, 1)} \abs{f(x) - g(x)}                     \\
                                                     & = \sup_{x \in [0, 1)} \abs{g(x) - f(x)} &  & \by{ii:4.6.10} \\
                                                     & = d_\infty(g, f),
  \end{align*}
  we know that \(d_\infty\) satisfied \cref{ii:1.1.2}(c).
  Since
  \begin{align*}
     & \forall f, g, h \in C(\R / \Z ; \C), d_\infty(f, h)                                          \\
     & = \sup_{x \in [0, 1)} \abs{f(x) - h(x)}                                                      \\
     & = \sup_{x \in [0, 1)} \abs{f(x) - g(x) + g(x) - h(x)}                                        \\
     & \leq \sup_{x \in [0, 1)} \big(\abs{f(x) - g(x)} + \abs{g(x) - h(x)}\big) &  & \by{ii:4.6.11} \\
     & = d_\infty(f, g) + d_\infty(g, h),
  \end{align*}
  we know that \(d_\infty\) satisfied \cref{ii:1.1.2}(d).
  From all proofs above we conclude by \cref{ii:1.1.2} that \(\big(C(\R / \Z ; \C), d_\infty\big)\) is a metric space.

  Now we show that \(\big(C(\R / \Z ; \C), d_\infty\big)\) is complete.
  Let \(d_{\R} = d_{l^1}|_{\R \times \R}\) and let \(d_{\C}\) be the metric in \cref{ii:4.6.10}.
  Let \((f_n)_{n = 1}^\infty\) be a Cauchy sequence in \(\big(C(\R / \Z ; \C), d_\infty\big)\) and let \(n_1, n_2 \in \Z^+\).
  Then by \cref{ii:1.4.6} we have
  \begin{align*}
             & \forall \varepsilon \in \R^+, \exists N \in \Z^+ : \forall n_1, n_2 \geq N, d_\infty(f_{n_1}, f_{n_2}) < \varepsilon        \\
    \implies & \forall x \in \R, \forall \varepsilon \in \R^+, \exists N \in \Z^+ : \forall n_1, n_2 \geq N,                               \\
             & \abs{f_{n_1}(x) - f_{n_2}(x)} \leq \sup_{y \in \R} \abs{f_{n_1}(y) - f_{n_2}(y)} = d_\infty(f_{n_1}, f_{n_2}) < \varepsilon \\
    \implies & \forall x \in \R, \big(f_n(x)\big)_{n = 1}^\infty \text{ is a Cauchy sequence in } (\C, d_{\C}).
  \end{align*}
  Since \((\C, d_{\C})\) is complete (by \cref{ii:ex:4.6.10}), we know that
  \[
    \forall x \in \C, \lim_{n \to \infty} f_n(x) \in \C.
  \]
  Thus we can define \(f : \R \to \C\) as follow:
  \[
    \forall x \in \R, f(x) = \lim_{n \to \infty} f_n(x).
  \]
  And we have
  \begin{align*}
             & \forall x \in \R, \forall \varepsilon \in \R^+, \exists N \in \Z^+ : \forall n \geq N, \\
             & \begin{dcases}
                 \abs{f(x) - f_n(x)} < \dfrac{\varepsilon}{2} \\
                 \abs{f(x + 1) - f_n(x + 1)} = \abs{f(x + 1) - f_n(x)} < \dfrac{\varepsilon}{2}
               \end{dcases}         & (f_n \in C(\R / \Z ; \C))          \\
    \implies & \forall x \in \R, \forall \varepsilon \in \R^+, \exists N \in \Z^+ : \forall n \geq N, \\
             & \abs{f(x) - f(x + 1)} \leq \abs{f(x) - f_n(x)} + \abs{f(x + 1) - f_n(x)}               \\
             & < \dfrac{\varepsilon}{2} + \dfrac{\varepsilon}{2} = \varepsilon                        \\
    \implies & \forall x \in \R, \forall \varepsilon \in \R^+, \abs{f(x) - f(x + 1)} < \varepsilon    \\
    \implies & \forall x \in \R, f(x) = f(x + 1)                                                      \\
    \implies & f \in C(\R / \Z ; \C).
  \end{align*}
  Since \((f_n)_{n = 1}^\infty\) was arbitrary, by \cref{ii:1.4.10} we know that \(\big(C(\R / \Z ; \C), d_\infty\big)\) is complete.
\end{proof}
