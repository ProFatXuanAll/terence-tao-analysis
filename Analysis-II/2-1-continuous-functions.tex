\section{Continuous functions}\label{sec:2.1}

\begin{defn}[Continuous functions]\label{2.1.1}
  Let \((X, d_X)\) be a metric space, and let \((Y, d_Y)\) be another metric space, and let \(f : X \to Y\) be a function.
  If \(x_0 \in X\), we say that \(f\) is \emph{continuous at \(x_0\)} iff for every \(\varepsilon > 0\), there exists a \(\delta > 0\) such that \(d_Y(f(x), f(x_0 )) < \varepsilon\) whenever \(d_X(x, x_0) < \delta\).
  We say that \(f\) is \emph{continuous} iff it is continuous at every point \(x \in X\).
\end{defn}

\begin{rmk}\label{2.1.2}
  Continuous functions are also sometimes called \emph{continuous maps}.
  Mathematically, there is no distinction between the two terminologies.
\end{rmk}

\begin{rmk}\label{2.1.3}
  If \(f : X \to Y\) is continuous, and \(K\) is any subset of \(X\), then the restriction \(f|_K : K \to Y\) of \(f\) to \(K\) is also continuous.
\end{rmk}

\begin{proof}
  Let \(x_0 \in K\).
  Suppose that \(f : X \to Y\) is continuous at \(x_0\) from \((X, d_X)\) to \((Y, d_Y)\).
  Then we have
  \begin{align*}
             & f : X \to Y \text{ is continuous at } x_0                                                                                       \\
             & \text{from } (X, d_X) \text{ to } (Y, d_Y)                                                                                      \\
    \implies & \forall \varepsilon \in \R^+, \exists \delta \in \R^+ :                                                                         \\
             & \Big(\forall x \in X, d_X(x, x_0) < \delta \implies d_Y\big(f(x), f(x_0) < \varepsilon\big)\Big) &                 & \by{2.1.1} \\
    \implies & \forall \varepsilon \in \R^+, \exists \delta \in \R^+ :                                                                         \\
             & \Big(\forall x \in K, d_X(x, x_0) < \delta \implies d_Y\big(f(x), f(x_0) < \varepsilon\big)\Big) & (K \subseteq X)              \\
    \implies & f|_K : K \to Y \text{ is continuous at } x_0                                                                                    \\
             & \text{from } (K, d_X|_{K \times K}) \text{ to } (Y, d_Y).                                        &                 & \by{2.1.1}
  \end{align*}

  Now suppose that \(f : X \to Y\) is continuous from \((X, d_X)\) to \((Y, d_Y)\).
  Then we have
  \begin{align*}
             & f : X \to Y \text{ is continuous from } (X, d_X) \text{ to } (Y, d_Y)                                                         \\
    \implies & \forall x_0 \in X, f \text{ is continuous at } x_0 \text{ from } (X, d_X) \text{ to } (Y, d_Y) &                 & \by{2.1.1} \\
    \implies & \forall x_0 \in K, f \text{ is continuous at } x_0                                                                            \\
             & \text{from } (K, d_X|_{K \times K}) \text{ to } (Y, d_Y)                                       & (K \subseteq X)              \\
    \implies & f|_K : K \to Y \text{ is continuous from } (K, d_X|_{K \times K}) \text{ to } (Y, d_Y).        &                 & \by{2.1.1}
  \end{align*}
\end{proof}

\begin{thm}[Continuity preserves convergence]\label{2.1.4}
  Suppose that \((X, d_X)\) and \((Y, d_Y)\) are metric spaces.
  Let \(f : X \to Y\) be a function, and let \(x_0 \in X\) be a point in \(X\).
  Then the following three statements are logically equivalent:
  \begin{enumerate}
    \item \(f\) is continuous at \(x_0\).
    \item Whenever \((x^{(n)})_{n = 1}^\infty\) is a sequence in \(X\) which converges to \(x_0\) with respect to the metric \(d_X\), the sequence \(\big(f(x^{(n)})\big)_{n = 1}^\infty\) converges to \(f(x_0)\) with respect to the metric \(d_Y\).
    \item For every open set \(V \subseteq Y\) that contains \(f(x_0)\), there exists an open set \(U \subseteq X\) containing \(x_0\) such that \(f(U) \subseteq V\).
  \end{enumerate}
\end{thm}

\begin{proof}
  We first show that statement (a) implies statement (b).
  Suppose that \(f : X \to Y\) is continuous at \(x_0\) from \((X, d_X)\) to \((Y, d_Y)\).
  Then by \cref{2.1.1} we have
  \[
    \forall \varepsilon \in \R^+, \exists d \in \R^+ : \Big(\forall x \in X, d_X(x, x_0) < \delta \implies d_Y\big(f(x), f(x_0)\big) < \varepsilon\Big).
  \]
  Now we choose \(\delta\) for each \(\varepsilon \in \R^+\) and denoted it as \(\delta_\varepsilon\).
  Let \((x^{(n)})_{n = 1}^\infty\) be a sequence in \(X\) such that \(\lim_{n \to \infty} d_X(x^{(n)}, x_0) = 0\).
  Then we have
  \begin{align*}
             & \lim_{n \to \infty} d_X(x^{(n)}, x_0) = 0                                                                                                                \\
    \implies & \forall \delta \in \R^+, \exists N \in \Z^+ : \forall n \geq N, d_X(x^{(n)}, x_0) \leq \delta                                &  & \by{1.1.14}            \\
    \implies & \forall \varepsilon \in \R^+, \exists \delta_\varepsilon \in \R^+ :                                                                                      \\
             & \bigg(\exists N \in \Z^+ : \forall n \geq N, d_X(x^{(n)}, x_0) \leq \dfrac{\delta_\varepsilon}{2} < \delta_\varepsilon\bigg)                             \\
    \implies & \forall \varepsilon \in \R^+, \exists \delta_\varepsilon \in \R^+ :                                                                                      \\
             & \bigg(\exists N \in \Z^+ : \forall n \geq N, d_Y\big(f(x^{(n)}), f(x_0)\big) < \varepsilon\bigg)                             &  & \text{(by hypothesis)} \\
    \implies & \lim_{n \to \infty} d_Y\big(f(x^{(n)}), f(x_0)\big) = 0.                                                                     &  & \by{1.1.14}
  \end{align*}
  Since \((x^{(n)})_{n = 1}^\infty\) is arbitrary, we know that statement (a) implies statement (b).

  Next we show that statement (b) implies statement (c).
  Suppose that
  \[
    \forall (x^{(n)})_{n = 1}^\infty \text{ in } X, \lim_{n \to \infty} d_X(x^{(n)}, x_0) = 0 \implies \lim_{n \to \infty} d_Y\big(f(x^{(n)}), f(x_0)\big) = 0.
  \]
  Let \(V\) be an open set in \((Y, d_Y)\) such that \(f(x_0) \in V\).
  Then we have
  \begin{align*}
             & V \text{ is open in } (Y, d_Y)                                                                                          \\
    \implies & V = \text{int}_{(Y, d_Y)}(V)                                                          &  & \text{(by \cref{1.2.15}(a))} \\
    \implies & \exists \varepsilon \in \R^+ : B_{(Y, d_Y)}\big(f(x_0), \varepsilon\big) \subseteq V. &  & \by{1.2.5}
  \end{align*}
  Now we choose one \(\varepsilon\) and define \(V_\varepsilon = B_{(Y, d_Y)}\big(f(x_0), \varepsilon\big)\).
  By \cref{1.2.4} we know that \(f(x_0) \in V_\varepsilon\), thus we have \(x_0 \in f^{-1}(V_\varepsilon)\) and \(f^{-1}(V_\varepsilon) \neq \emptyset\).
  Now we claim that
  \[
    \exists \delta \in \R^+ : B_{(X, d_X)}(x_0, \delta) \subseteq f^{-1}(V_\varepsilon).
  \]
  Suppose the claim is false.
  Then we have
  \begin{align*}
             & \forall \delta \in \R^+, B_{(X, d_X)}(x_0, \delta) \not\subseteq f^{-1}(V_\varepsilon)                            \\
    \implies & \forall \delta \in \R^+, B_{(X, d_X)}(x_0, \delta) \setminus f^{-1}(V_\varepsilon) \neq \emptyset                 \\
    \implies & \forall \delta \in \R^+, \exists x \in X :                                                                        \\
             & \big(d_X(x, x_0) < \delta\big) \land \Big(d_Y\big(f(x), f(x_0)\big) \geq \varepsilon\Big)         &  & \by{1.2.1} \\
    \implies & \forall n \in \Z^+, \exists x \in X :                                                                             \\
             & \big(d_X(x, x_0) < \dfrac{1}{n}\big) \land \Big(d_Y\big(f(x), f(x_0)\big) \geq \varepsilon\Big).
  \end{align*}
  For each \(n \in \Z^+\), we define \(X_n = B_{(X, d_X)}(x_0, \dfrac{1}{n}) \setminus f^{-1}(V_\varepsilon)\).
  We choose one sequence \((x^{(n)})_{n = 1}^\infty \in \prod_{n \in \Z^+} X_n\).
  Then we have
  \begin{align*}
             & \forall n \in \Z^+, d_X(x^{(n)}, x_0) < \dfrac{1}{n}                                                                            \\
    \implies & \lim_{n \to \infty} d_X(x^{(n)}, x_0) = 0                                                                                       \\
    \implies & \lim_{n \to \infty} d_Y\big(f(x^{(n)}), f(x_0)\big) = 0                                             &  & \text{(by hypothesis)} \\
    \implies & \exists N \in \Z^+ : \forall n \geq N, d_Y\big(f(x^{(n)}), f(x_0)\big) \leq \dfrac{\varepsilon}{2}. &  & \by{1.1.14}
  \end{align*}
  But by the definition of \((x^{(n)})_{n = 1}^\infty\) we know that
  \[
    \forall n \in \Z^+, d_Y\big(f(x^{(n)}), f(x_0)\big) \geq \varepsilon,
  \]
  a contradiction.
  Thus the claim is true.
  Using the claim we choose one \(\delta\) and define \(U = B_{(X, d_X)}(x_0, \delta)\).
  By \cref{1.2.15}(c) we know that \(U\) is open in \((X, d_X)\).
  By \cref{1.2.4} we know that \(x_0 \in U\).
  Since \(U \subseteq f^{-1}(V_\varepsilon) \subseteq X\), we know that \(f(U) \subseteq V\).

  Finally we show that statement (c) implies statement (a).
  Suppose that
  \begin{align*}
             & \forall V \subseteq Y, \big(V \text{ is open in } (Y, d_Y)\big) \land \big(f(x_0) \in V\big)                         \\
    \implies & \exists U \subseteq X : \big(U \text{ is open in } (X, d_X)\big) \land (x_0 \in U) \land \big(f(U) \subseteq V\big).
  \end{align*}
  Let \(\varepsilon \in \R^+\).
  By \cref{1.2.15}(c) we know that \(B_{(Y, d_Y)}\big(f(x_0), \varepsilon\big)\) is open in \((Y, d_Y)\).
  By hypothesis we know that
  \[
    \exists U \subseteq X : \big(U \text{ is open in } (X, d_X)\big) \land (x_0 \in U) \land \Big(f(U) \subseteq B_{(Y, d_Y)}\big(f(x_0), \varepsilon\big)\Big).
  \]
  Now we choose one such \(U\).
  Since \(U\) is open in \((X, d_X)\) and \(x_0 \in U\), we have
  \begin{align*}
             & x_0 \in \text{int}_{(X, d_X)}(U)                                                                                   &  & \text{(by \cref{1.2.15}(a))} \\
    \implies & \exists \delta \in \R^+ : B_{(X, d_X)}(x_0, \delta) \subseteq U                                                    &  & \by{1.2.5}                   \\
    \implies & \exists \delta \in \R^+ : f\big(B_{(X, d_X)}(x_0, \delta)\big) \subseteq f(U)                                                                        \\
    \implies & \exists \delta \in \R^+ : f\big(B_{(X, d_X)}(x_0, \delta)\big) \subseteq B_{(Y, d_Y)}\big(f(x_0), \varepsilon\big)                                   \\
    \implies & \exists \delta \in \R^+ :                                                                                                                            \\
             & \Big(\forall x \in X, d_X(x, x_0) < \delta \implies d_Y\big(f(x), f(x_0)\big) < \varepsilon\Big).                  &  & \by{1.2.1}
  \end{align*}
  Since \(\varepsilon\) is arbitrary, we have
  \[
    \forall \varepsilon \in \R^+, \exists \delta \in \R^+ : \Big(\forall x \in X, d_X(x, x_0) < \delta \implies d_Y\big(f(x), f(x_0)\big) < \varepsilon\Big).
  \]
  Thus by \cref{2.1.1} \(f\) is continuous at \(x_0\) from \((X, d_X)\) to \((Y, d_Y)\).
  We conclude that statements (a)(b)(c) are equivalent.
\end{proof}

\begin{thm}\label{2.1.5}
  Let \((X, d_X)\) be a metric space, and let \((Y, d_Y)\) be another metric space.
  Let \(f : X \to Y\) be a function.
  Then the following four statements are equivalent:
  \begin{enumerate}
    \item \(f\) is continuous.
    \item Whenever \((x^{(n)})_{n = 1}^\infty\) is a sequence in \(X\) which converges to some point \(x_0 \in X\) with respect to the metric \(d_X\), the sequence \(\big(f(x^{(n)})\big)_{n = 1}^\infty\) converges to \(f(x_0)\) with respect to the metric \(d_Y\).
    \item Whenever \(V\) is an open set in \(Y\), the set \(f^{-1}(V) \coloneqq \{x \in X : f(x) \in V\}\) is an open set in \(X\).
    \item Whenever \(F\) is a closed set in \(Y\), the set \(f^{-1}(F) \coloneqq \{x \in X : f(x) \in F\}\) is a closed set in \(X\).
  \end{enumerate}
\end{thm}

\begin{proof}
  We first show that statements (a)(b) are equivalent.
  \begin{align*}
         & f \text{ is continuous from } (X, d_X) \text{ to } (Y, d_Y)                                                                              \\
    \iff & \forall x_0 \in X, f \text{ is continuous at } x_0                                                                                       \\
         & \text{from } (X, d_X) \text{ to } (Y, d_Y)                                                           &  & \by{2.1.1}                     \\
    \iff & \forall x_0 \in X, \text{ every sequence } (x^{(n)})_{n = 1}^\infty \text{ in } X \text{ satisfies }                                     \\
         & \lim_{n \to \infty} d_X(x^{(n)}, x_0) = 0 \text{ implies}                                                                                \\
         & \lim_{n \to \infty} d_Y\big(f(x^{(n)}), f(x_0)\big) = 0.                                             &  & \text{(by \cref{2.1.4}(a)(b))}
  \end{align*}

  Next we show that statements (a) implies statement (c).
  Suppose that \(f\) is continuous from \((X, d_X)\) to \((Y, d_Y)\).
  Let \(V\) be an open set in \((Y, d_Y)\) and let \(E = f^{-1}(V)\).
  Then we have
  \begin{align*}
             & f \text{ is continuous from } (X, d_X) \text{ to } (Y, d_Y)                                                                          \\
    \implies & f|_{E} \text{ is continuous from } \big(E, d_X|_{E \times E}\big) \text{ to } (Y, d_Y)      &  & \by{2.1.3}                          \\
    \implies & \forall x_0 \in E, f \text{ is continuous at } x_0                                                                                   \\
             & \text{from } \big(E, d_X|_{E \times E}\big) \text{ to } (Y, d_Y)                            &  & \by{2.1.1}                          \\
    \implies & \forall x_0 \in E, \exists U \subseteq X :                                                                                           \\
             & \big(U \text{ is open in } (X, d_X)\big) \land (x_0 \in U) \land \big(f(U) \subseteq V\big) &  & \text{(by \cref{2.1.4}(a)(c))}      \\
    \implies & \forall x_0 \in E, \exists U \subseteq X :                                                                                           \\
             & \big(U \text{ is open in } (X, d_X)\big) \land (x_0 \in U) \land \big(U \subseteq E\big)    &  & \text{(by the definition of \(E\))} \\
    \implies & \forall x_0 \in E, \exists U \subseteq X :                                                                                           \\
             & \big(\exists r \in \R^+ : B_{(X, d_X)}(x_0, r) \subseteq U \subseteq E\big)                 &  & \text{(by \cref{1.2.15}(a))}        \\
    \implies & E \text{ is open in } (X, d_X).                                                             &  & \text{(by \cref{1.2.15}(a))}
  \end{align*}
  Since \(V\) is arbitrary, we know that statement (a) implies statement (c).

  Next we show that statements (c) implies statement (a).
  Suppose that
  \[
    \forall V \subseteq Y, V \text{ is open in } (Y, d_Y) \implies f^{-1}(V) \text{ is open in } (X, d_X).
  \]
  Let \(x_0 \in X\).
  Then we have
  \begin{align*}
             & \forall V \subseteq Y, \big(V \text{ is open in } (Y, d_Y)\big) \land \big(f(x_0) \in V\big)                             \\
    \implies & \big(f^{-1}(V) \text{ is open in } (X, d_X)\big) \land \big(x_0 \in f^{-1}(V)\big)           &  & \text{(by hypothesis)}
  \end{align*}
  and by \cref{2.1.4}(a)(c) we know that \(f\) is continuous at \(x_0\) from \((X, d_X)\) to \((Y, d_Y)\).
  Since \(x_0\) is arbitrary, we know that \(f\) is continuous from \((X, d_X)\) to \((Y, d_Y)\).
  Thus statements (c) implies statement (a) and from the proof above we conclude that statements (a)(c) are equivalent.

  Next we show that statements (c) implies statement (d).
  Suppose that
  \[
    \forall V \subseteq Y, V \text{ is open in } (Y, d_Y) \implies f^{-1}(V) \text{ is open in } (X, d_X).
  \]
  Let \(F\) be an closed set in \((Y, d_Y)\).
  Then we have
  \begin{align*}
             & F \text{ is closed in } (Y, d_Y)                                                                                  \\
    \implies & Y \setminus F \text{ is open in } (Y, d_Y)                                      &  & \text{(by \cref{1.2.15}(e))} \\
    \implies & f^{-1}(Y \setminus F) \text{ is open in } (X, d_X)                              &  & \text{(by hypothesis)}       \\
    \implies & X \setminus f^{-1}(Y \setminus F) \text{ is closed in } (X, d_X)                &  & \text{(by \cref{1.2.15}(e))} \\
    \implies & X \setminus \{x \in X : f(x) \in Y \setminus F\} \text{ is closed in } (X, d_X)                                   \\
    \implies & \{x \in X : f(x) \in F\} \text{ is closed in } (X, d_X)                                                           \\
    \implies & f^{-1}(F) \text{ is closed in } (X, d_X).
  \end{align*}
  Since \(F\) is arbitrary, we know that statement (c) implies statement (d).

  Finally we show that statements (d) implies statement (c).
  Suppose that
  \[
    \forall F \subseteq Y, F \text{ is closed in } (Y, d_Y) \implies f^{-1}(F) \text{ is closed in } (X, d_X).
  \]
  Let \(V\) be an open set in \((Y, d_Y)\).
  Then we have
  \begin{align*}
             & V \text{ is open in } (Y, d_Y)                                                                                  \\
    \implies & Y \setminus V \text{ is closed in } (Y, d_Y)                                  &  & \text{(by \cref{1.2.15}(e))} \\
    \implies & f^{-1}(Y \setminus V) \text{ is closed in } (X, d_X)                          &  & \text{(by hypothesis)}       \\
    \implies & X \setminus f^{-1}(Y \setminus V) \text{ is open in } (X, d_X)                &  & \text{(by \cref{1.2.15}(e))} \\
    \implies & X \setminus \{x \in X : f(x) \in Y \setminus V\} \text{ is open in } (X, d_X)                                   \\
    \implies & \{x \in X : f(x) \in V\} \text{ is open in } (X, d_X)                                                           \\
    \implies & f^{-1}(V) \text{ is open in } (X, d_X).
  \end{align*}
  Since \(V\) is arbitrary, we know that statement (d) implies statement (c).
  We conclude that statements (a)(b)(c)(d) are all equivalent.
\end{proof}

\begin{rmk}\label{2.1.6}
  It may seem strange that continuity ensures that the \emph{inverse} image of an open set is open.
  One may guess instead that the reverse should be true, that the \emph{forward} image of an open set is open;
  but this is not true;
  see \cref{ex:1.5.4,ex:1.5.5}.
\end{rmk}

\begin{cor}[Continuity preserved by composition]\label{2.1.7}
  Let \((X, d_X)\), \((Y, d_Y)\), and \((Z, d_Z)\) be metric spaces.
  \begin{enumerate}
    \item If \(f : X \to Y\) is continuous at a point \(x_0 \in X\), and \(g : Y \to Z\) is continuous at \(f(x_0)\), then the composition \(g \circ f : X \to Z\), defined by \(g \circ f(x) \coloneqq g(f(x))\), is continuous at \(x_0\).
    \item If \(f : X \to Y\) is continuous, and \(g : Y \to Z\) is continuous, then \(g \circ f : X \to Z\) is also continuous.
  \end{enumerate}
\end{cor}

\begin{proof}{(a)}
  Since \(f\) is continuous at \(x_0\) from \((X, d_X)\) to \((Y, d_Y)\), by \cref{2.1.4}(a)(c) we know that
  \begin{align*}
             & \forall V \subseteq Y, \big(V \text{ is open in } (Y, d_Y)\big) \land \big(f(x_0) \in V\big)                        \\
    \implies & \exists U \subseteq X : \big(U \text{ is open in } (X, d_X)\big) \land (x_0 \in U) \land \big(f(U) \subseteq V\big)
  \end{align*}
  Now we choose such \(U\) for each open set \(V\) in \((Y, d_Y)\) and denote it as \(U_V\).
  Since \(g\) is continuous at \(f(x_0)\) from \((Y, d_Y)\) to \((Z, d_Z)\), by \cref{2.1.4}(a)(c) we know that
  \begin{align*}
             & \forall W \subseteq Z, \big(W \text{ is open in } (Z, d_Z)\big) \land \Big(g\big(f(x_0)\big) \in W\Big)                                                \\
    \implies & \exists V \subseteq Y : \big(V \text{ is open in } (Y, d_Y)\big) \land (y_0 \in V) \land \big(g(V) \subseteq W\big)                                    \\
    \implies & \exists U_V \subseteq X : \big(U_V \text{ is open in } (X, d_X)\big) \land (x_0 \in U_V) \land \big(f(U_V) \subseteq V\big)                            \\
    \implies & \exists U_V \subseteq X : \big(U_V \text{ is open in } (X, d_X)\big) \land (x_0 \in U_V) \land \Big(g\big(f(U_V)\big) \subseteq g(V) \subseteq W\Big).
  \end{align*}
  Thus by \cref{2.1.4}(a)(c) we know that \(g \circ f\) is continuous at \(x_0\) from \((X, d_X)\) to \((Z, d_Z)\).
\end{proof}

\begin{proof}{(b)}
  Let \(x_0 \in X\).
  Then we have
  \begin{align*}
             & f \text{ is continuous from } (X, d_X) \text{ to } (Y, d_Y)                                  \\
    \implies & f \text{ is continuous at } x_0 \text{ from } (X, d_X) \text{ to } (Y, d_Y). &  & \by{2.1.1}
  \end{align*}
  Since \(f(x_0) \in Y\), we have
  \begin{align*}
             & g \text{ is continuous from } (Y, d_Y) \text{ to } (Z, d_Z)                                                           \\
    \implies & g \text{ is continuous at } f(x_0) \text{ from } (Y, d_Y) \text{ to } (Z, d_Z)       &  & \by{2.1.1}                  \\
    \implies & g \circ f \text{ is continuous at } x_0 \text{ from } (X, d_X) \text{ to } (Z, d_Z). &  & \text{(by \cref{2.1.7}(a))}
  \end{align*}
  Since \(x_0\) is arbitrary, by \cref{2.1.1} we know that \(g \circ f\) is continuous from \((X, d_X)\) to \((Z, d_Z)\).
\end{proof}

\exercisesection

\begin{ex}\label{ex:2.1.1}
  Prove \cref{2.1.4}.
\end{ex}

\begin{proof}
  See \cref{2.1.4}.
\end{proof}

\begin{ex}\label{ex:2.1.2}
  Prove \cref{2.1.5}.
\end{ex}

\begin{proof}
  See \cref{2.1.5}.
\end{proof}

\begin{ex}\label{ex:2.1.3}
  Use \cref{2.1.4} and \cref{2.1.5} to prove \cref{2.1.7}.
\end{ex}

\begin{proof}
  See \cref{2.1.7}.
\end{proof}

\begin{ex}\label{ex:2.1.4}
  Give an example of functions \(f : \R \to \R\) and \(g : \R \to \R\) such that
  \begin{enumerate}
    \item \(f\) is not continuous, but \(g\) and \(g \circ f\) are continuous;
    \item \(g\) is not continuous, but \(f\) and \(g \circ f\) are continuous;
    \item \(f\) and \(g\) are not continuous, but \(g \circ f\) is continuous.
  \end{enumerate}
  Explain briefly why these examples do not contradict \cref{2.1.7}.
\end{ex}

\begin{proof}{(a)}
  Let \(f : \R \to \R\) be the function
  \[
    \forall x \in \R, f(x) = \begin{dcases}
      1 & \text{if } x = 0    \\
      0 & \text{if } x \neq 0
    \end{dcases}
  \]
  and let \(g : \R \to \R\) be the function \(g(x) = 0\) for all \(x \in \R^+\).
  Then we know that \(f\) is not continuous at \(0\) from \((\R, d_{l^1}|_{\R \times \R})\) to \((\R, d_{l^1}|_{\R \times \R})\) and thus \(f\) is not continuous from \((\R, d_{l^1}|_{\R \times \R})\) to \((\R, d_{l^1}|_{\R \times \R})\).
  Since \(g\) is constant function, we know that \(g\) is continuous from \((\R, d_{l^1}|_{\R \times \R})\) to \((\R, d_{l^1}|_{\R \times \R})\).
  Since \(g \circ f\) is also a constant function, we know that \(g \circ f\) is continuous from \((\R, d_{l^1}|_{\R \times \R})\) to \((\R, d_{l^1}|_{\R \times \R})\).
  This does not contradict to \cref{2.1.7} since \(f\) is not continuous from \((\R, d_{l^1}|_{\R \times \R})\) to \((\R, d_{l^1}|_{\R \times \R})\).
\end{proof}

\begin{proof}{(b)}
  Let \(f : \R \to \R\) be the function \(f(x) = 0\) for all \(x \in \R^+\).
  Let \(g : \R \to \R\) be the function
  \[
    \forall x \in \R, g(x) = \begin{dcases}
      1 & \text{if } x = 0    \\
      0 & \text{if } x \neq 0
    \end{dcases}
  \]
  Since \(f\) is constant function, we know that \(f\) is continuous from \((\R, d_{l^1}|_{\R \times \R})\) to \((\R, d_{l^1}|_{\R \times \R})\).
  Since \(g\) is not continuous at \(0\) from \((\R, d_{l^1}|_{\R \times \R})\) to \((\R, d_{l^1}|_{\R \times \R})\), we know that \(g\) is not continuous from \((\R, d_{l^1}|_{\R \times \R})\) to \((\R, d_{l^1}|_{\R \times \R})\).
  Since \(g \circ f\) is a constant function, we know that \(g \circ f\) is continuous from \((\R, d_{l^1}|_{\R \times \R})\) to \((\R, d_{l^1}|_{\R \times \R})\).
  This does not contradict to \cref{2.1.7} since \(g\) is not continuous from \((\R, d_{l^1}|_{\R \times \R})\) to \((\R, d_{l^1}|_{\R \times \R})\).
\end{proof}

\begin{proof}{(c)}
  Let \(f : \R \to \R\) be the function
  \[
    \forall x \in \R, f(x) = \begin{dcases}
      1 & \text{if } x = 0    \\
      0 & \text{if } x \neq 0
    \end{dcases}
  \]
  and let \(g : \R \to \R\) be the function
  \[
    \forall x \in \R, g(x) = \begin{dcases}
      1 & \text{if } x = 2    \\
      0 & \text{if } x \neq 2
    \end{dcases}
  \]
  Since \(f\) is not continuous at \(0\) from \((\R, d_{l^1}|_{\R \times \R})\) to \((\R, d_{l^1}|_{\R \times \R})\), we know that \(f\) is not continuous from \((\R, d_{l^1}|_{\R \times \R})\) to \((\R, d_{l^1}|_{\R \times \R})\).
  Similarly \(g\) is not continuous from \((\R, d_{l^1}|_{\R \times \R})\) to \((\R, d_{l^1}|_{\R \times \R})\).
  Since \(g \circ f\) is a constant function, we know that \(g \circ f\) is continuous from \((\R, d_{l^1}|_{\R \times \R})\) to \((\R, d_{l^1}|_{\R \times \R})\).
  This does not contradict to \cref{2.1.7} since \(f, g\) are not continuous from \((\R, d_{l^1}|_{\R \times \R})\) to \((\R, d_{l^1}|_{\R \times \R})\).
\end{proof}

\begin{ex}\label{ex:2.1.5}
  Let \((X, d)\) be a metric space, and let \((E, d|_{E \times E})\) be a subspace of \((X, d)\).
  Let \(\iota_{E \to X} : E \to X\) be the inclusion map, defined by setting \(\iota_{E \to X}(x) \coloneqq x\) for all \(x \in E\).
  Show that \(\iota_{E \to X}\) is continuous.
\end{ex}

\begin{proof}
  Let \(x_0 \in E\).
  Since
  \begin{align*}
             & \forall \varepsilon \in \R^+, \forall x \in E, d|_{E \times E}(x, x_0) < \varepsilon                                                                              \\
    \implies & d|_{E \times E}\big(\iota_{E \to X}(x), \iota_{E \to X}(x_0)\big) = d|_{E \times E}(x, x_0) < \varepsilon, &  & \text{(by the definition of \(\iota_{E \to X}\))}
  \end{align*}
  by setting \(\delta = \varepsilon\) we have
  \begin{align*}
     & \forall \varepsilon \in \R^+, \exists \delta \in \R^+ :                                                                                              \\
     & \Big(\forall x \in E, d|_{E \times E}(x, x_0) < \delta \implies d|_{E \times E}\big(\iota_{E \to X}(x), \iota_{E \to X}(x_0)\big) < \varepsilon\Big)
  \end{align*}
  and thus by \cref{2.1.1} \(\iota_{E \to X}\) is continuous at \(x_0\) from \((E, d|_{E \times E})\) to \((X, d)\).
  Since \(x_0\) is arbitrary, by \cref{2.1.1} \(\iota_{E \to X}\) is continuous from \((E, d|_{E \times E})\) to \((X, d)\).
\end{proof}

\begin{ex}\label{ex:2.1.6}
  Let \(f : X \to Y\) be a function from one metric space \((X, d_X)\) to another \((Y, d_Y)\).
  Let \(E\) be a subset of \(X\) (which we give the induced metric \(d_X|_{E \times E}\)), and let \(f|_E : E \to Y\) be the restriction of \(f\) to \(E\), thus \(f|_E(x) \coloneqq f(x)\) when \(x \in E\).
  If \(x_0 \in E\) and \(f\) is continuous at \(x_0\), show that \(f|_E\) is also continuous at \(x_0\).
  (Is the converse of this statement true? Explain.)
  Conclude that if \(f\) is continuous, then \(f|_E\) is continuous.
  Thus restriction of the domain of a function does not destroy continuity.
\end{ex}

\begin{proof}
  See \cref{2.1.3}.
  The converse is not true since the statement
  \[
    \forall \varepsilon \in \R^+, \exists \delta \in \R^+ : \Big(\forall x \in E, d_X|_{E \times E}(x, x_0) < \delta \implies d_Y\big(f(x), f(x_0)\big) < \varepsilon\Big)
  \]
  does not imply the statement
  \[
    \forall \varepsilon \in \R^+, \exists \delta \in \R^+ : \Big(\forall x \in X, d_X(x, x_0) < \delta \implies d_Y\big(f(x), f(x_0)\big) < \varepsilon\Big).
  \]
\end{proof}

\begin{ex}\label{ex:2.1.7}
  Let \(f : X \to Y\) be a function from one metric space \((X, d_X)\) to another \((Y, d_Y)\).
  Suppose that the image \(f(X)\) of \(X\) is contained in some subset \(E \subseteq Y\) of \(Y\).
  Let \(g : X \to E\) be the function which is the same as \(f\) but with the range restricted from \(Y\) to \(E\), thus \(g(x) = f(x)\) for all \(x \in X\).
  We give \(E\) the metric \(d_Y|_{E \times E}\) induced from \(Y\).
  Show that for any \(x_0 \in X\), that \(f\) is continuous at \(x_0\) iff \(g\) is continuous at \(x_0\).
  Conclude that \(f\) is continuous iff \(g\) is continuous.
  (Thus the notion of continuity is not affected if one restricts the range of the function.)
\end{ex}

\begin{proof}
  Since \(f(X) \subseteq E \subseteq Y\), we have
  \[
    \forall x \in X, d_Y(x, x_0) = d_Y|_{E \times E}(x, x_0).
  \]
  Thus by \cref{2.1.1} we have
  \begin{align*}
         & \forall \varepsilon \in \R^+, \exists \delta \in \R^+ : \Big(\forall x \in X, d_X(x, x_0) < \delta \implies d_Y\big(f(x), f(x_0)\big) < \varepsilon\Big)                \\
    \iff & \forall \varepsilon \in \R^+, \exists \delta \in \R^+ : \Big(\forall x \in X, d_X(x, x_0) < \delta \implies d_Y|_{E \times E}\big(f(x), f(x_0)\big) < \varepsilon\Big).
  \end{align*}
  This means \(f\) is continuous at \(x_0\) from \((X, d_X)\) to \((Y, d_Y)\) iff \(g\) is continuous at \(x_0\) from \((X, d_X)\) to \((E, d_Y|_{E \times E})\).
  By \cref{2.1.1} we conclude that \(f\) is continuous from \((X, d_X)\) to \((Y, d_Y)\) iff \(g\) is continuous from \((X, d_X)\) to \((E, d_Y|_{E \times E})\).
\end{proof}