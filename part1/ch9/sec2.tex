\section{The algebra of real-valued functions}\label{i:sec:9.2}

\begin{note}
  We can take any one of the previous functions \(f : \R \to \R\) defined on all of \(\R\), and restrict the domain to a smaller set \(X \subseteq \R\), creating a new function, sometimes called \(f|_X\), from \(X\) to \(\R\).
  This is the same function as the original function \(f\), but is only defined on a smaller domain.
  (Thus, \(f|_X(x) \coloneqq f(x)\) when \(x \in X\), and \(f|_X(x)\) is undefined when \(x \notin X\).)
\end{note}

\begin{note}
  If \(X\) is a subset of \(\R\), and \(f : X \to \R\) is a function, we can form the \emph{graph} \(\set{(x, f(x)) : x \in X}\) of the function \(f\);
  this is a subset of \(X \times \R\), and hence a subset of the Euclidean plane \(\R^2 = \R \times \R\).
  One can certainly study a function through its graph, by using the geometry of the plane \(\R^2\)
  (e.g., employing such concepts as tangent lines, area, and so forth).
  We however will pursue a more ``analytic'' approach, in which we rely instead on the properties of the real numbers to analyze these functions.
  The two approaches are complementary;
  the geometric approach offers more visual intuition, while the analytic approach offers rigour and precision.
  Both the geometric intuition and the analytic formalism become useful when extending analysis of functions of one variable to functions of many variables
  (or possibly even infinitely many variables).
\end{note}

\begin{defn}[Arithmetic operations on functions]\label{i:9.2.1}
  Given two functions \(f : X \to \R\) and \(g : X \to \R\), we can define their sum \(f + g : X \to \R\) by the formula
  \[
    (f + g)(x) \coloneqq f(x) + g(x),
  \]
  their difference \(f - g : X \to \R\) by the formula
  \[
    (f - g)(x) \coloneqq f(x) - g(x),
  \]
  their maximum \(\max(f, g) : X \to \R\) by
  \[
    \max(f, g)(x) \coloneqq \max(f(x), g(x)),
  \]
  their minimum \(\min(f, g) : X \to \R\) by
  \[
    \min(f, g)(x) \coloneqq \min(f(x), g(x)),
  \]
  their product \(fg : X \to \R\) (or \(f \cdot g : X \to \R\)) by the formula
  \[
    (fg)(x) \coloneqq f(x)g(x),
  \]
  and (provided that \(g(x) = 0\) for all \(x \in X\)) the quotient \(f / g : X \to \R\) by the formula
  \[
    (f / g)(x) \coloneqq f(x) / g(x).
  \]
  Finally, if \(c\) is a real number, we can define the function \(cf : X \to \R\) (or \(c \cdot f : X \to \R\)) by the formula
  \[
    (cf)(x) \coloneqq c \times f(x).
  \]
\end{defn}

\exercisesection

\begin{ex}\label{i:ex:9.2.1}
  Let \(f : \R \to \R\), \(g : \R \to \R\), \(h : \R \to \R\).
  Which of the following identities are true, and which ones are false?
  In the former case, give a proof;
  in the latter case, give a counterexample.
  \begin{align*}
    (f + g) \circ h & = (f \circ h) + (g \circ h) \\
    f \circ (g + h) & = (f \circ g) + (f \circ h) \\
    (f + g) \cdot h & = (f \cdot h) + (g \cdot h) \\
    f \cdot (g + h) & = (f \cdot g) + (f \cdot h)
  \end{align*}
\end{ex}

\begin{proof}
  We first show that \((f + g) \circ h = (f \circ h) + (g \circ h)\).
  Since
  \begin{align*}
             & f + g \text{ has domain } \R \text{ and codomain } \R                                   &  & \by{i:9.2.1}  \\
    \implies & (f + g) \circ h, f \circ h, g \circ h  \text{ have domain } \R \text{ and codomain } \R &  & \by{i:3.3.10} \\
    \implies & (f \circ h) + (g \circ h)  \text{ has domain } \R \text{ and codomain } \R              &  & \by{i:9.2.1}  \\
    \implies & (f + g) \circ h \text{ and }                                                                               \\
             & (f \circ h) + (g \circ h) \text{ have same domain and codomain}
  \end{align*}
  and
  \begin{align*}
    \forall x \in \R, \big((f + g) \circ h\big)(x) & = (f + g)\big(h(x)\big)                   &  & \by{i:3.3.10} \\
                                                   & = f\big(h(x)\big) + g\big(h(x)\big)       &  & \by{i:9.2.1}  \\
                                                   & = (f \circ h)(x) + (g \circ h)(x)         &  & \by{i:3.3.10} \\
                                                   & = \big((f \circ h) + (g \circ h)\big)(x), &  & \by{i:9.2.1}
  \end{align*}
  by \cref{i:3.3.7} we have \((f + g) \circ h = (f \circ h) + (g \circ h)\).

  Next we show that \(f \circ (g + h) = (f \circ g) + (f \circ h)\) may not be true.
  Let \(f(x) = 2^x\), \(g(x) = h(x) = x\).
  Then we have
  \begin{align*}
    \big(f \circ (g + h)\big)(x) & = f\big((g + h)(x)\big)  &  & \by{i:3.3.10} \\
                                 & = f\big(g(x) + h(x)\big) &  & \by{i:9.2.1}  \\
                                 & = f(x + x)                                  \\
                                 & = f(2x)                                     \\
                                 & = 2^{2x}
  \end{align*}
  and
  \begin{align*}
    \big((f \circ g) + (f \circ h)\big)(x) & = (f \circ g)(x) + (f \circ h)(x)   &  & \by{i:9.2.1}  \\
                                           & = f\big(g(x)\big) + f\big(h(x)\big) &  & \by{i:3.3.10} \\
                                           & = f(x) + f(x)                                          \\
                                           & = 2^x + 2^x                                            \\
                                           & = 2 \cdot 2^x.
  \end{align*}
  When \(x = 2\) we have \(2^{2x} = 16\) and \(2 \cdot 2^x = 8\).
  Thus, \(f \circ (g + h) = (f \circ g) + (f \circ h)\) may not be true.

  Next we show that \((f + g) \cdot h = (f \cdot h) + (g \cdot h)\).
  Since
  \begin{align*}
             & f + g \text{ has domain } \R \text{ and codomain } \R                                   &  & \by{i:9.2.1}  \\
    \implies & (f + g) \cdot h, f \cdot h, g \cdot h  \text{ have domain } \R \text{ and codomain } \R &  & \by{i:3.3.10} \\
    \implies & (f \cdot h) + (g \cdot h)  \text{ has domain } \R \text{ and codomain } \R              &  & \by{i:9.2.1}  \\
    \implies & (f + g) \cdot h \text{ and }                                                                               \\
             & (f \cdot h) + (g \cdot h) \text{ have same domain and codomain}
  \end{align*}
  and
  \begin{align*}
    \forall x \in \R, \big((f + g) \cdot h\big)(x) & = (f + g)(x) \cdot h(x)                   &  & \by{i:9.2.1} \\
                                                   & = \big(f(x) + g(x)\big) \cdot h(x)        &  & \by{i:9.2.1} \\
                                                   & = f(x)h(x) + g(x)h(x)                                       \\
                                                   & = (f \cdot h)(x) + (g \cdot h)(x)         &  & \by{i:9.2.1} \\
                                                   & = \big((f \cdot h) + (g \cdot h)\big)(x), &  & \by{i:9.2.1}
  \end{align*}
  by \cref{i:3.3.7} we have \((f + g) \cdot h = (f \cdot h) + (g \cdot h)\).

  Finally we show that \(f \cdot (g + h) = (f \cdot g) + (f \cdot h)\).
  Since
  \begin{align*}
             & g + h \text{ has domain } \R \text{ and codomain } \R                                   &  & \by{i:9.2.1}  \\
    \implies & f \cdot (g + h), f \cdot g, f \cdot h  \text{ have domain } \R \text{ and codomain } \R &  & \by{i:3.3.10} \\
    \implies & (f \cdot g) + (f \cdot h)  \text{ has domain } \R \text{ and codomain } \R              &  & \by{i:9.2.1}  \\
    \implies & f \cdot (g + h) \text{ and }                                                                               \\
             & (f \cdot g) + (f \cdot h) \text{ have same domain and codomain}
  \end{align*}
  and
  \begin{align*}
    \forall x \in \R, \big(f \cdot (g + h)\big)(x) & = f(x) \cdot (g + h)(x)                   &  & \by{i:9.2.1} \\
                                                   & = f(x) \cdot \big(g(x) + h(x)\big)        &  & \by{i:9.2.1} \\
                                                   & = f(x)g(x) + f(x)h(x)                                       \\
                                                   & = (f \cdot g)(x) + (f \cdot h)(x)         &  & \by{i:9.2.1} \\
                                                   & = \big((f \cdot g) + (f \cdot h)\big)(x), &  & \by{i:9.2.1}
  \end{align*}
  by \cref{i:3.3.7} we have \(f \cdot (g + h) = (f \cdot g) + (f \cdot h)\).
\end{proof}
