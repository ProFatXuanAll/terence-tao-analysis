\section{Left and right limits}\label{sec:9.5}

\begin{defn}[Left and right limits]\label{9.5.1}
  Let \(X\) be a subset of \(\R\), \(f : X \to \R\) be a function, and let \(x_0\) be a real number.
  If \(x_0\) is an adherent point of \(X \cap (x_0, \infty)\), then we define the \emph{right limit} \(f(x_0+)\) of \(f\) at \(x_0\) by the formula
  \[
    f(x_0+) \coloneqq \lim_{x \to x_0 ; x \in X \cap (x_0, \infty)} f(x),
  \]
  provided of course that this limit exists.
  Similarly, if \(x_0\) is an adherent point of \(X \cap (-\infty, x_0)\), then we define the \emph{left limit} \(f(x_0-)\) of \(f\) at \(x_0\) by the formula
  \[
    f(x_0-) \coloneqq \lim_{x \to x_0 ; x \in X \cap (-\infty, x_0)} f(x),
  \]
  again provided that the limit exists.
  (Thus in many cases \(f(x_0+)\) and \(f(x_0-)\) will not be defined.)
  Sometimes we use the shorthand notations
  \begin{align*}
    \lim_{x \to x_0+} f(x) & \coloneqq \lim_{x \to x_0 ; x \in X \cap (x_0, \infty)} f(x); \\
    \lim_{x \to x_0-} f(x) & \coloneqq \lim_{x \to x_0 ; x \in X \cap (-\infty, x_0)} f(x)
  \end{align*}
  when the domain \(X\) of \(f\) is clear from context.
\end{defn}

\begin{note}
  From \cref{9.3.9} we see that if the right limit \(f(x_0+)\) exists, and \((a_n)_{n = 0}^\infty\) is a sequence in \(X\) converging to \(x_0\) from the right (i.e., \(a_n > x_0\) for all \(n \in \N\)), then \(\lim_{n \to \infty} f(a_n) = f(x_0+)\).
  Similarly, if \((b_n)_{n = 0}^\infty\) is a sequence converging to \(x_0\) from the left (i.e., \(a_n < x_0\) for all \(n \in \N\)) then \(\lim_{n \to \infty} f(a_n) = f(x_0-)\).
\end{note}

\begin{ac}\label{ac:9.5.1}
  Let \(x_0\) be an adherent point of both \(X \cap (x_0, \infty)\) and \(X \cap (-\infty, x_0)\).
  If \(f\) is continuous at \(x_0\), then \(f(x_0+)\) and \(f(x_0-)\) both exists and are equal to \(f(x_0)\).
\end{ac}

\begin{proof}
  Since \(f\) is continuous at \(x_0\), by \cref{9.4.1} we know that
  \[
    \forall \varepsilon \in \R^+, \exists\ \delta \in \R^+ : \big(\forall x \in X, \abs{x - x_0} < \delta \implies \abs{f(x) - f(x_0)} < \varepsilon\big).
  \]
  Since \(X \cap (-\infty, x_0) \subseteq X\), we must have
  \[
    \forall \varepsilon \in \R^+, \exists\ \delta \in \R^+ : \big(\forall x \in X \cap (-\infty, x_0), \abs{x - x_0} < \delta \implies \abs{f(x) - f(x_0)} < \varepsilon\big)
  \]
  and by \cref{9.5.1} we have \(f(x_0+) = f(x_0)\).
  Similarly we have \(f(x_0-) = f(x_0)\).
\end{proof}

\setcounter{thm}{2}
\begin{prop}\label{9.5.3}
  Let \(X\) be a subset of \(\R\) containing a real number \(x_0\), and suppose that \(x_0\) is an adherent point of both \(X \cap (x_0, \infty)\) and \(X \cap (-\infty, x_0)\).
  Let \(f : X \to \R\) be a function.
  If \(f(x_0+)\) and \(f(x_0-)\) both exist and are both equal to \(f(x_0)\), then \(f\) is continuous at \(x_0\).
\end{prop}

\begin{proof}
  Let us write \(L \coloneqq f(x_0)\).
  Then by hypothesis we have
  \[
    \lim_{x \to x_0 ; x \in X \cap (x_0, \infty)} f(x) = L
  \]
  and
  \[
    \lim_{x \to x_0 ; x \in X \cap (-\infty, x_0)} f(x) = L.
  \]
  Let \(\varepsilon > 0\) be given.
  From the first statement above and \cref{9.4.7} (applied to the restriction of \(f\) to \(X \cap (x_0, +\infty)\)), we know that there exists a \(\delta_+ > 0\) such that \(\abs{f(x) - L} < \varepsilon\) for all \(x \in X \cap(x_0, \infty)\) for which \(\abs{x - x_0} < \delta_+\).
  From the second statement above we similarly know that there exists a \(\delta_- > 0\) such that \(\abs{f(x) - L} < \varepsilon\) for all \(x \in X \cap (-\infty, x_0)\) for which \(\abs{x - x_0} < \delta_-\).
  Now let \(\delta \coloneqq \min(\delta_-, \delta_+)\);
  then \(\delta > 0\), and suppose that \(x \in X\) is such that \(\abs{x - x_0} < \delta\).
  Then there are three cases:
  \(x > x_0\), \(x = x_0\), and \(x < x_0\), but in all three cases we know that \(\abs{f(x) - L} < \varepsilon\) since
  \begin{itemize}
    \item If \(x > x_0\), then \(x \in X \cap (x_0, \infty)\) and \(\abs{x - x_0} < \delta \leq \delta_+ \implies \abs{f(x) - L} < \varepsilon\).
    \item If \(x < x_0\), then \(x \in X \cap (-\infty, x_0)\) and \(\abs{x - x_0} < \delta \leq \delta_- \implies \abs{f(x) - L} < \varepsilon\).
    \item If \(x = x_0\), then we have \(\abs{x_0 - x_0} = 0 < \delta\) and \(\abs{f(x_0) - f(x_0)} = 0 < \varepsilon\).
  \end{itemize}
  By \cref{9.4.7} we thus have that \(f\) is continuous at \(x_0\), as desired.
\end{proof}

\begin{note}
  When both \(f(x_0+), f(x_0-)\) exist and \(f(x_0+) \neq f(x_0-)\), we say that \(f\) has a \emph{jump discontinuity} at \(x_0\).
  When both \(f(x_0+), f(x_0-)\) exist and \(f(x_0+) = f(x_0-) \neq f(x_0)\), we say that \(f\) has a \emph{removable discontinuity} (or \emph{removable singularity}) at \(x_0\).
\end{note}

\begin{rmk}\label{9.5.4}
  Jump discontinuities and removable discontinuities are not the only way a function can be discontinuous.
  Another way is for a function to go to infinity at the discontinuity:
  for instance, the function \(f : \R \setminus \{0\} \to \R\) defined by \(f(x) \coloneqq 1 / x\) has a discontinuity at \(0\) which is neither a jump discontinuity or a removable singularity;
  informally, \(f(x)\) converges to \(+\infty\) when \(x\) approaches \(0\) from the right, and converges to \(-\infty\) when \(x\) approaches \(0\) from the left.
  These types of singularities are sometimes known as \emph{asymptotic discontinuities}.
  There are also \emph{oscillatory discontinuities}, where the function remains bounded but still does not have a limit near \(x_0\).
  For instance, the function \(f : \R \to \R\) defined by
  \[
    f(x) \coloneqq \begin{cases}
      1 & \text{if } x \in \Q    \\
      0 & \text{if } x \notin \Q
    \end{cases}
  \]
  has an oscillatory discontinuity at \(0\) (and in fact at any other real number also).
  This is because the function does not have left or right limits at \(0\), despite the fact that the function is bounded.
\end{rmk}

\begin{note}
  The study of discontinuities is also called \emph{singularities}.
\end{note}

\begin{ac}\label{ac:9.5.2}
  We define \(\lim_{x \to x_0 ; x \in E} f(x) = +\infty\) iff
  \[
    \forall \varepsilon \in \R^+, \exists\ \delta \in \R^+ : \big(\forall x \in E, \abs{x - x_0} < \delta \implies f(x) > \varepsilon\big).
  \]
  And define \(\lim_{x \to x_0 ; x \in E} f(x) = -\infty\) iff
  \[
    \forall \varepsilon \in \R^+, \exists\ \delta \in \R^+ : \big(\forall x \in E, \abs{x - x_0} < \delta \implies f(x) < -\varepsilon\big).
  \]
  Show that \(\lim_{x \to 0 ; x \in \R \cap (0, \infty)} 1 / x = +\infty\) and \(\lim_{x \to 0 ; x \in \R \cap (-\infty, 0)} 1 / x = -\infty\).
\end{ac}

\begin{proof}
  We first show that \(\lim_{x \to 0 ; x \in \R \cap (0, +\infty)} 1 / x = +\infty\) and \(\lim_{x \to 0 ; x \in \R \cap (-\infty, 0)} 1 / x = -\infty\).
  Let \(\varepsilon \in \R^+\).
  \(\forall x \in \R \cap (0, \infty)\), we have
  \[
    x = \abs{x} = \abs{x - 0} < 1 / \varepsilon \implies 1 / x < \varepsilon.
  \]
  By letting \(\delta = 1 / \varepsilon\) we have
  \[
    \forall \varepsilon \in \R^+, \exists\ \delta \in \R^+ : \big(\forall x \in \R \cap (0, \infty), \abs{x - 0} < \delta \implies 1 / x > \varepsilon\big).
  \]
  Thus by definition we have \(\lim_{x \to 0 ; x \in \R \cap (0, +\infty)} 1 / x = +\infty\).
  Similarly, \(\forall x \in \R \cap (-\infty, 0)\), we have
  \[
    -x = \abs{x} = \abs{x - 0} < 1 / \varepsilon \implies 1 / x < -\varepsilon.
  \]
  By letting \(\delta = 1 / \varepsilon\) we have
  \[
    \forall \varepsilon \in \R^+, \exists\ \delta \in \R^+ : \big(\forall x \in \R \cap (-\infty, 0), \abs{x - 0} < \delta \implies 1 / x < -\varepsilon\big).
  \]
  Thus by definition we have \(\lim_{x \to 0 ; x \in \R \cap (-\infty, 0)} 1 / x = -\infty\).
\end{proof}

\begin{ac}\label{ac:9.5.3}
  Let \(X \subseteq \R\), let \(E \subseteq X\), let \(x_0 \in \overline{E}\).
  Show that the following two statements are equivalent:
  \begin{enumerate}
    \item \(\lim_{x \to x_0 ; x \in E} f(x) = +\infty\).
    \item For every sequence \((a_n)_{n = 0}^\infty\) which consists entirely of elements of \(E\) and converges to \(x_0\), the sequence \((f(a_n))_{n = 0}^\infty\) diverges to \(+\infty\).
  \end{enumerate}
\end{ac}

\begin{proof}
  We first show that statement (a) implies statement (b).
  By \cref{ac:9.5.2} we have
  \begin{align*}
         & \lim_{x \to x_0 ; x \in E} f(x) = +\infty                                                                                               \\
    \iff & \forall \varepsilon \in \R^+, \exists\ \delta \in \R^+ : \big(\forall x \in E, \abs{x - x_0} < \delta \implies f(x) > \varepsilon\big).
  \end{align*}
  Let \((a_n)_{n = 0}^\infty\) be a sequence which consists entirely of elements of \(E\) and \(\lim_{n \to \infty} a_n = x_0\).
  Such sequence exists since \cref{9.1.14}.
  Then we have
  \begin{align*}
             & \lim_{n \to \infty} a_n = x_0                                                                      \\
    \implies & \exists\ N \in \N : \forall n \geq N, \abs{a_n - x_0} \leq \frac{\delta}{2} < \delta               \\
    \implies & \exists\ N \in \N : \forall n \geq N, f(a_n) > \varepsilon                           & (a_n \in E) \\
    \implies & \lim_{n \to \infty} f(a_n) = +\infty.
  \end{align*}
  Since \((a_n)_{n = 0}^\infty\) is arbitrary, we conclude that statement (a) implies statement (b).

  Now we show that statement (b) implies statement (a).
  Suppose for sake of contradiction that \(\lim_{x \to x_0 ; x \in E} f(x) \neq +\infty\).
  Then we must have
  \[
    \exists\ \varepsilon \in \R^+ : \forall \delta \in \R^+, (\abs{x - x_0} < \delta) \land \big(f(x) \leq \varepsilon\big).
  \]
  Let \((a_n)_{n = 0}^\infty\) be a sequence in \(E\) such that \(\lim_{n \to \infty} a_n = x_0\).
  Such sequence exists since \cref{9.1.14}.
  Then we have
  \begin{align*}
             & (\lim_{n \to \infty} a_n = x_0) \land \big(\lim_{n \to \infty} f(a_n) = +\infty\big)                                 & \text{(by hypothesis)} \\
    \implies & \begin{cases}
                 \forall \delta \in \R^+, \exists\ N_1 \in \N : \forall n \geq N_1, \abs{a_n - x_0} \leq \frac{\delta}{2} < \delta \\
                 \forall \varepsilon \in \R^+, \exists\ N_2 \in \N : \forall n \geq N_2, f(a_n) > \varepsilon
               \end{cases}                             \\
    \implies & \exists\ N = \max(N_1, N_2) : \forall n \geq N, (\abs{a_n - x_0} < \delta) \land \big(f(a_n) > \varepsilon\big).
  \end{align*}
  But this contradict to \((\abs{x - x_0} < \delta) \land \big(f(x) \leq \varepsilon\big)\).
  Thus \(\lim_{x \to x_0 ; x \in E} f(x) = +\infty\).
\end{proof}

\begin{ac}\label{ac:9.5.4}
  Let \(X \subseteq \R\), let \(E \subseteq X\), let \(x_0 \in \overline{E}\).
  Show that the following two statements are equivalent:
  \begin{enumerate}
    \item \(\lim_{x \to x_0 ; x \in E} f(x) = -\infty\).
    \item For every sequence \((a_n)_{n = 0}^\infty\) which consists entirely of elements of \(E\) and converges to \(x_0\), the sequence \((f(a_n))_{n = 0}^\infty\) diverges to \(-\infty\).
  \end{enumerate}
\end{ac}

\begin{proof}
  We first show that statement (a) implies statement (b).
  By \cref{ac:9.5.2} we have
  \begin{align*}
         & \lim_{x \to x_0 ; x \in E} f(x) = -\infty                                                                                                \\
    \iff & \forall \varepsilon \in \R^+, \exists\ \delta \in \R^+ : \big(\forall x \in E, \abs{x - x_0} < \delta \implies f(x) < -\varepsilon\big).
  \end{align*}
  Let \((a_n)_{n = 0}^\infty\) be a sequence which consists entirely of elements of \(E\) and \(\lim_{n \to \infty} a_n = x_0\).
  Such sequence exists since \cref{9.1.14}.
  Then we have
  \begin{align*}
             & \lim_{n \to \infty} a_n = x_0                                                                      \\
    \implies & \exists\ N \in \N : \forall n \geq N, \abs{a_n - x_0} \leq \frac{\delta}{2} < \delta               \\
    \implies & \exists\ N \in \N : \forall n \geq N, f(a_n) < -\varepsilon                          & (a_n \in E) \\
    \implies & \lim_{n \to \infty} f(a_n) = -\infty.
  \end{align*}
  Since \((a_n)_{n = 0}^\infty\) is arbitrary, we conclude that statement (a) implies statement (b).

  Now we show that statement (b) implies statement (a).
  Suppose for sake of contradiction that \(\lim_{x \to x_0 ; x \in E} f(x) \neq -\infty\).
  Then we must have
  \[
    \exists\ \varepsilon \in \R^+ : \forall \delta \in \R^+, (\abs{x - x_0} < \delta) \land \big(f(x) \geq -\varepsilon\big).
  \]
  Let \((a_n)_{n = 0}^\infty\) be a sequence in \(E\) such that \(\lim_{n \to \infty} a_n = x_0\).
  Such sequence exists since \cref{9.1.14}.
  Then we have
  \begin{align*}
             & (\lim_{n \to \infty} a_n = x_0) \land \big(\lim_{n \to \infty} f(a_n) = -\infty\big)                                 & \text{(by hypothesis)} \\
    \implies & \begin{cases}
                 \forall \delta \in \R^+, \exists\ N_1 \in \N : \forall n \geq N_1, \abs{a_n - x_0} \leq \frac{\delta}{2} < \delta \\
                 \forall \varepsilon \in \R^+, \exists\ N_2 \in \N : \forall n \geq N_2, f(a_n) < -\varepsilon
               \end{cases}                             \\
    \implies & \exists\ N = \max(N_1, N_2) : \forall n \geq N, (\abs{a_n - x_0} < \delta) \land \big(f(a_n) < -\varepsilon\big).
  \end{align*}
  But this contradict to \((\abs{x - x_0} < \delta) \land \big(f(x) \geq -\varepsilon\big)\).
  Thus \(\lim_{x \to x_0 ; x \in E} f(x) = -\infty\).
\end{proof}

\exercisesection

\begin{ex}\label{ex:9.5.1}
  Let \(E\) be a subset of \(\R\), let \(f : E \to \R\) be a function, and let \(x_0\) be an adherent point of \(E\).
  Write down a definition of what it would mean for the limit \(\lim_{x \to x_0 ; x \in E} f(x)\) to exist and equal \(+\infty\) or \(-\infty\).
  If \(f : \R \setminus \{0\} \to \R\) is the function \(f(x) \coloneqq 1 / x\), use your definition to conclude \(f(0+) = +\infty\) and \(f(0-) = -\infty\).
  Also, state and prove some analogue of \cref{9.3.9} when \(L = +\infty\) or \(L = -\infty\).
\end{ex}

\begin{proof}
  See \cref{ac:9.5.2}, \cref{ac:9.5.3} and \cref{ac:9.5.4}.
\end{proof}