\section{Uniform continuity}\label{sec:9.9}

\setcounter{thm}{1}
\begin{defn}[Uniform continuity]\label{9.9.2}
  Let \(X\) be a subset of \(\R\), and let \(f : X \to \R\) be a function.
  We say that \(f\) is \emph{uniformly continuous} on \(X\) if, for every \(\varepsilon > 0\), there exists a \(\delta > 0\) such that \(f(x)\) and \(f(x_0)\) are \(\varepsilon\)-close whenever \(x, x_0 \in X\) are two points in \(X\) which are \(\delta\)-close.
\end{defn}

\begin{rmk}\label{9.9.3}
  This definition should be compared with the notion of continuity.
  From \cref{9.4.7}(c), we know that a function \(f\) is \emph{continuous} if for every \(\varepsilon > 0\), and every \(x_0 \in X\), there is a \(\delta > 0\) such that \(f(x)\) and \(f(x_0)\) are \(\varepsilon\)-close whenever \(x \in X\) is \(\delta\)-close to \(x_0\).
  The difference between uniform continuity and continuity is that in uniform continuity one can take a single \(\delta\) which works for all \(x_0 \in X\);
  for ordinary continuity, each \(x_0 \in X\) might use a different \(\delta\).
  Thus every uniformly continuous function is continuous, but not conversely.
\end{rmk}

\setcounter{thm}{4}
\begin{defn}[Equivalent sequences]\label{9.9.5}
  Let \(m\) be an integer, let \((a_n)_{n = m}^\infty\) and \((b_n)_{n = m}^\infty\) be two sequences of real numbers, and let \(\varepsilon > 0\) be given.
  We say that \((a_n)_{n = m}^\infty\) is \emph{\(\varepsilon\)-close} to \((b_n)_{n = m}^\infty\) iff \(a_n\) is \(\varepsilon\)-close to \(b_n\) for each \(n \geq m\).
  We say that \((a_n)_{n = m}^\infty\) is \emph{eventually \(\varepsilon\)-close} to \((b_n)_{n = m}^\infty\) iff there exists an \(N \geq m\) such that the sequences \((a_n)_{n = N}^\infty\) and \((b_n)_{n = N}^\infty\) are \(\varepsilon\)-close.
  Two sequences \((a_n)_{n = m}^\infty\) and \((b_n)_{n = m}^\infty\) are \emph{equivalent} iff for each \(\varepsilon > 0\), the sequences \((a_n)_{n = m}^\infty\) and \((b_n)_{n = m}^\infty\) are eventually \(\varepsilon\)-close.
\end{defn}

\begin{rmk}\label{9.9.6}
  One could debate whether \(\varepsilon\) should be assumed to be rational or real, but a minor modification of \cref{6.1.4} shows that this does not make any difference to the above definitions.
\end{rmk}

\begin{lem}\label{9.9.7}
  Let \((a_n)_{n = 1}^\infty\) and \((b_n)_{n = 1}^\infty\) be sequences of real numbers
  (not necessarily bounded or convergent).
  Then \((a_n)_{n = 1}^\infty\) and \((b_n)_{n = 1}^\infty\) are equivalent if and only if \(\lim_{n \to \infty} (a_n - b_n) = 0\).
\end{lem}

\begin{proof}
  \begin{align*}
         & (a_n)_{n = 1}^\infty = (b_n)_{n = 1}^\infty                                                                                                \\
    \iff & \forall \varepsilon \in \R^+, \exists\ N \in \Z^+ : \forall n \geq N, \abs{a_n - b_n} \leq \varepsilon       &  & \text{(by \cref{9.9.5})} \\
    \iff & \forall \varepsilon \in \R^+, \exists\ N \in \Z^+ : \forall n \geq N, \abs{(a_n - b_n) - 0} \leq \varepsilon                               \\
    \iff & \lim_{n \to \infty} (a_n - b_n) = 0.                                                                         &  & \text{(by \cref{6.1.5})}
  \end{align*}
\end{proof}

\begin{prop}\label{9.9.8}
  Let \(X\) be a subset of \(\R\), and let \(f : X \to \R\) be a function.
  Then the following two statements are logically equivalent:
  \begin{enumerate}
    \item \(f\) is uniformly continuous on \(X\).
    \item Whenever \((x_n)_{n = 0}^\infty\) and \((y_n)_{n = 0}^\infty\) are two equivalent sequences consisting of elements of \(X\), the sequences \((f(x_n))_{n = 0}^\infty\) and \((f(y_n))_{n = 0}^\infty\) are also equivalent.
  \end{enumerate}
\end{prop}

\begin{proof}
  We first show that statement (a) implies statement (b).
  By \cref{9.9.2}, \(f\) is uniformly continuous on \(X\) iff
  \[
    \forall \varepsilon \in \R^+, \exists\ \delta \in \R^+ : \big(\forall x, y \in X, \abs{x - y} < \delta \implies \abs{f(x) - f(y)} \leq \varepsilon\big).
  \]
  By \cref{9.9.5}, \((x_n)_{n = 0}^\infty = (y_n)_{n = 0}^\infty\) iff
  \[
    \forall \varepsilon \in \R^+, \exists\ N \in \N : \forall n \geq N, \abs{x_n - y_n} \leq \varepsilon.
  \]
  In particular, we have
  \[
    \exists\ N \in \N : \forall n \geq N, \abs{x_n - y_n} \leq \delta / 2 < \delta.
  \]
  Since \(\forall n \geq 0\) we have \(x_n, y_n \in X\), by replacing \(x, y\) with \(x_n, y_n\) we see that
  \[
    \forall \varepsilon \in \R^+, \exists\ \delta \in \R^+ : \big(\forall x_n, y_n \in X, \abs{x_n - y_n} < \delta \implies \abs{f(x_n) - f(y_n)} \leq \varepsilon\big).
  \]
  Thus we have
  \[
    \forall \varepsilon \in \R^+, \exists\ N \in \N : \forall n \geq N, \abs{f(x_n) - f(y_n)} \leq \varepsilon
  \]
  and by \cref{9.9.5} \(\big(f(x_n)\big)_{n = 0}^\infty = \big(f(y_n)\big)_{n = 0}^\infty\).

  Now we show that statement (b) implies statement (a).
  By hypothesis we know that if \((x_n)_{n = 0}^\infty, (y_n)_{n = 0}^\infty\) in \(X\), then \((x_n)_{n = 0}^\infty = (y_n)_{n = 0}^\infty \implies \big(f(x_n)\big)_{n = 0}^\infty = \big(f(y_n)\big)_{n = 0}^\infty\).
  Suppose for sake of contradiction that \(f\) is not uniformly continuous on \(X\).
  Then we have
  \[
    \exists\ \varepsilon \in \R^+ : \forall \delta \in \R^+, \Big(\forall x, y \in X, (\abs{x - y} < \delta) \land \big(\abs{f(x) - f(y)} > \varepsilon\big)\Big).
  \]
  By replacing \(x, y\) with \(x_n, y_n\) we have
  \[
    \exists\ \varepsilon \in \R^+ : \forall \delta \in \R^+, \Big(\forall x_n, y_n \in X, (\abs{x_n - y_n} < \delta) \land \big(\abs{f(x_n) - f(y_n)} > \varepsilon\big)\Big).
  \]
  Since \((x_n)_{n = 0}^\infty = (y_n)_{n = 0}^\infty\), we have
  \[
    \exists\ N_1 \in \N : \forall n \geq N_1, \abs{x_n - y_n} \leq \delta / 2 < \delta.
  \]
  Since \(\big(f(x_n)\big)_{n = 0}^\infty = \big(f(y_n)\big)_{n = 0}^\infty\), we have
  \[
    \exists\ N_2 \in \N : \forall n \geq N_2, \abs{f(x_n) - f(y_n)} \leq \varepsilon.
  \]
  Let \(N = \max(N_1, N_2)\).
  Then we have
  \[
    \forall n \in \N \land n \geq N, (\abs{x_n - y_n} < \delta) \land \big(\abs{f(x_n) - f(y_n)} \leq \varepsilon\big),
  \]
  which contradict to \((\abs{x_n - y_n} < \delta) \land \big(\abs{f(x_n) - f(y_n)} > \varepsilon\big)\).
  Thus \(f\) is uniformly continuous on \(X\).
\end{proof}

\begin{rmk}\label{9.9.9}
  The reader should compare \cref{9.9.8} with \cref{9.3.9}.
  \cref{9.3.9} asserted that if \(f\) was continuous, then \(f\) maps convergent sequences to convergent sequences.
  In contrast, \cref{9.9.8} asserts that if \(f\) is \emph{uniformly} continuous, then \(f\) maps \emph{equivalent} pairs of sequences to equivalent pairs of sequences.
  To see how the two Propositions are connected, observe from \cref{9.9.7} that \((x_n)_{n = 0}^\infty\) will converge to \(x_*\) if and only if the sequences \((x_n)_{n = 0}^\infty\) and \((x_*)_{n = 0}^\infty\) are equivalent.
\end{rmk}

\setcounter{thm}{11}
\begin{prop}\label{9.9.12}
  Let \(X\) be a subset of \(\R\), and let \(f : X \to \R\) be a uniformly continuous function.
  Let \((x_n)_{n = 0}^\infty\) be a Cauchy sequence consisting entirely of elements in \(X\).
  Then \((f(x_n))_{n = 0}^\infty\) is also a Cauchy sequence.
\end{prop}

\begin{proof}
  Since \(f\) is uniformly continuous, by \cref{9.9.2} we have
  \[
    \forall \varepsilon \in \R^+, \exists\ \delta \in \R^+ : \big(\forall x, y \in X, \abs{x - y} < \delta \implies \abs{f(x) - f(y)} \leq \varepsilon\big).
  \]
  Let \(i, j \in \N\).
  Since \((x_n)_{n = 0}^\infty\) is a Cauchy sequence, by \cref{6.1.3} we have
  \[
    \forall \varepsilon \in \R^+, \exists\ N \in \N : \forall i, j \geq N, \abs{x_i - x_j} \leq \varepsilon.
  \]
  In particular, we have
  \[
    \exists\ N \in \N : \forall i, j \geq N, \abs{x_i - x_j} \leq \delta / 2 < \delta.
  \]
  Since \(x_i, x_j \in X\), we have
  \[
    \abs{x_i - x_j} < \delta \implies \abs{f(x_i) - f(x_j)} \leq \varepsilon.
  \]
  Thus we have
  \[
    \forall \varepsilon \in \R^+, \exists\ N \in \N : \forall i, j \geq N, \abs{f(x_i) - f(x_j)} \leq \varepsilon.
  \]
  and by \cref{6.1.3} \(\big(f(x_n)\big)_{n = 0}^\infty\) is a Cauchy sequence.
\end{proof}

\setcounter{thm}{13}
\begin{cor}\label{9.9.14}
  Let \(X\) be a subset of \(\R\), let \(f : X \to \R\) be a uniformly continuous function, and let \(x_0\) be an adherent point of \(X\).
  Then the limit \(\lim_{x \to x_0 ; x \in X} f(x)\) exists
  (in particular, it is a real number ).
\end{cor}

\begin{proof}
  Since \(x_0\) is an adherent point of \(X\), by \cref{9.1.14} there exists a sequence \((a_n)_{n = 0}^\infty\), consisting entirely of elements in \(X\), which converges to \(x_0\).
  Since \(\lim_{n \to \infty} a_n = x_0\), by \cref{6.1.12} \((a_n)_{n = 0}^\infty\) is a Cauchy sequence.
  Since \(f\) is uniformly continuous, by \cref{9.9.12} \(\big(f(a_n)\big)_{n = 0}^\infty\) is also a Cauchy sequence.
  Let \((b_n)_{n = 0}^\infty\) in \(X\) such that \(\lim_{n \to \infty} b_n = x_0\).
  Since
  \begin{align*}
             & \lim_{n \to \infty} b_n = x_0                                                                    \\
    \implies & \lim_{n \to \infty} a_n - b_n = 0                                 &  & \text{(by \cref{6.1.19})} \\
    \implies & (a_n)_{n = 0}^\infty = (b_n)_{n = 0}^\infty                       &  & \text{(by \cref{9.9.7})}  \\
    \implies & \big(f(a_n)\big)_{n = 0}^\infty = \big(f(b_n)\big)_{n = 0}^\infty &  & \text{(by \cref{9.9.8})}  \\
    \implies & \lim_{n \to \infty} f(a_n) = \lim_{n \to \infty} f(b_n)           &  & \text{(by \cref{9.9.12})}
  \end{align*}
  and \((b_n)_{n = 0}^\infty\) is arbitrary, by \cref{9.3.9} we know that \(\lim_{x \to x_0 ; x \in X} f(x)\) exists.

  Now we show that \(f : (0, 2) \to \R\) defined by \(f(x) = 1 / x\) is not uniformly continuous.
  Suppose for sake of contradiction that \(f\) is uniformly continuous.
  Since \(0\) is an adherent point of \((0, 2)\), we know that \(\lim_{x \to 0 ; x \in (0, 2)} f(x)\) exists.
  Since \(f\) is continuous, \(f(0) = 1 / 0\) must exist, a contradiction.
  Thus \(f\) is not uniformly continuous.
\end{proof}

\begin{prop}\label{9.9.15}
  Let \(X\) be a subset of \(\R\), and let \(f : X \to \R\) be a uniformly continuous function.
  Suppose that \(E\) is a bounded subset of \(X\).
  Then \(f(E)\) is also bounded.
\end{prop}

\begin{proof}
  Suppose for sake of contradiction that \(f(E)\) is unbounded.
  Thus for every real number \(M\) there exists an element \(x \in E\) such that \(\abs{f(x)} \geq M\).

  In particular, for every natural number \(n\), the set \(\{x \in E : \abs{f(x)} \geq n\}\) is non-empty.
  We can thus choose a sequence \((x_n)_{n = 0}^\infty\) in \(E\) such that \(\abs{f(x_n)} \geq n\) for all \(n\).
  Since \((x_n)_{n = 0}^\infty\) in \(E\), by Bolzano-Weierstrass theorem (\cref{6.6.8}) there exists a subsequence \((x_{n_j})_{j = 0}^\infty\) which converges, where \(n_0 < n_1 < n_2 < \dots\) is an increasing sequence of natural numbers.
  In particular, we see that \(n_j \geq j\) for all \(j \in \N\) (use induction).

  Let \(\lim_{n \to \infty} x_n = x_*\).
  Since \((x_n)_{n = 0}^\infty\) in \(E\), by \cref{9.1.14} we know that \(x_*\) is an adherent point of \(E\).
  Since \(f\) is continuous on \(X\), by \cref{ex:9.4.6} \(f\) is continuous on \(E\).
  In particular, \(f\) is uniformly continuous on \(E\).
  Thus by \cref{9.9.14} we know that \(\lim_{x \to x_* ; x \in E} f(x)\) exists.
  By \cref{9.3.9} we see that
  \[
    \lim_{j \to \infty} f(x_{n_j}) = \lim_{x \to x_* ; x \in E} f(x).
  \]
  Thus the sequence \(\big(f(x_{n_j})\big)_{j = 0}^\infty\) is convergent, and hence it is bounded.
  On the other hand, we know from the construction that \(\abs{f(x_{n_j})} \geq n_j \geq j\) for all \(j\), and hence the sequence \(\big(f(x_{n_j})\big)_{j = 0}^\infty\) is unbounded, a contradiction.
\end{proof}

\begin{thm}\label{9.9.16}
  Let \(a < b\) be real numbers, and let \(f : [a, b] \to \R\) be a function which is continuous on \([a, b]\).
  Then \(f\) is also uniformly continuous.
\end{thm}

\begin{proof}
  Suppose for sake of contradiction that \(f\) is not uniformly continuous.
  By \cref{9.9.8}, there must therefore exist two equivalent sequences \((x_n)_{n = 0}^\infty\) and \((y_n)_{n = 0}^\infty\) in \([a, b]\) such that the sequences \(\big(f(x_n)\big)_{n = 0}^\infty\) and \(\big(f(y_n)\big)_{n = 0}^\infty\) are not equivalent.
  In particular, we can find an \(\varepsilon > 0\) such that \(\big(f(x_n)\big)_{n = 0}^\infty\) and \(\big(f(y_n)\big)_{n = 0}^\infty\) are not eventually \(\varepsilon\)-close.

  Fix this value of \(\varepsilon\), and let \(E\) be the set
  \[
    E \coloneqq \{n \in \N : f(x_n) \text{ and } f(y_n) \text{ are not \(\varepsilon\)-close}\}.
  \]
  We must have \(E\) infinite, since if \(E\) were finite then \(\big(f(x_n)\big)_{n = 0}^\infty\) and \(\big(f(y_n)\big)_{n = 0}^\infty\) would be eventually \(\varepsilon\)-close.
  By \cref{8.1.5}, \(E\) is countable;
  in fact from the proof of that proposition we see that we can find an infinite sequence
  \[
    n_0 < n_1 < n_2 < \dots
  \]
  consisting entirely of elements in \(E\).
  In particular, we have
  \[
    \abs{f(x_{n_j}) - f(y_{n_j})} > \varepsilon \text{ for all } j \in \N. \tag{9.3}\label{eq 9.3}
  \]
  On the other hand, the sequence \((x_{n_j})_{j = 0}^\infty\) is a sequence in \([a, b]\), and so by the Heine-Borel theorem (\cref{9.1.24}) there must be a subsequence \((x_{n_{j_k}})_{k = 0}^\infty\) which converges to some limit \(L\) in \([a, b]\).
  In particular, \(f\) is continuous at \(L\), and so by \cref{9.4.7},
  \[
    \lim_{k \to \infty} f(x_{n_{j_k}}) = f(L). \tag{9.4}\label{eq 9.4}
  \]
  Note that \((x_{n_{j_k}})_{k = 0}^\infty\) is a subsequence of \((x_n)_{n = 0}^\infty\), and \((y_{n_{j_k}})_{k = 0}^\infty\) is a subsequence of \((y_n)_{n = 0}^\infty\), by \cref{6.6.4}.
  On the other hand, from \cref{9.9.7} we have
  \[
    \lim_{n \to \infty} (x_n - y_n) = 0.
  \]
  By \cref{6.6.5}, we thus have
  \[
    \lim_{k \to \infty} (x_{n_{j_k}} - y_{n_{j_k}}) = 0.
  \]
  Since \(x_{n_{j_k}}\) converges to \(L\) as \(k \to \infty\), we thus have by limit laws
  \[
    \lim_{k \to \infty} y_{n_{j_k}} = L.
  \]
  and hence by continuity of \(f\) at \(L\)
  \[
    \lim_{k \to \infty} f(y_{n_{j_k}}) = f(L).
  \]
  Subtracting this from (9.4) using limit laws, we obtain
  \[
    \lim_{k \to \infty} (f(x_{n_{j_k}}) - f(y_{n_{j_k}})) = 0.
  \]
  But this contradicts (9.3) (by \cref{9.9.7}).
  From this contradiction we conclude that \(f\) is in fact uniformly continuous.
\end{proof}

\begin{rmk}\label{9.9.17}
  One should compare \cref{9.6.3}, \cref{9.9.15}, and \cref{9.9.16} with each other.
  Note in particular that \cref{9.6.3} follows from combining \cref{9.9.15} and \cref{9.9.16}.
\end{rmk}

\exercisesection

\begin{ex}\label{ex:9.9.1}
  Prove \cref{9.9.7}.
\end{ex}

\begin{proof}
  See \cref{9.9.7}.
\end{proof}

\begin{ex}\label{ex:9.9.2}
  Prove \cref{9.9.8}.
\end{ex}

\begin{proof}
  See \cref{9.9.8}.
\end{proof}

\begin{ex}\label{ex:9.9.3}
  Prove \cref{9.9.12}.
\end{ex}

\begin{proof}
  See \cref{9.9.12}.
\end{proof}

\begin{ex}\label{ex:9.9.4}
  Use \cref{9.9.12} to prove \cref{9.9.14}.
  Use this corollary to give an alternate demonstration of the results in Example 9.9.10.
\end{ex}

\begin{proof}
  See \cref{9.9.14}.
\end{proof}

\begin{ex}\label{ex:9.9.5}
  Prove \cref{9.9.15}.
\end{ex}

\begin{proof}
  See \cref{9.9.15}.
\end{proof}

\begin{ex}\label{ex:9.9.6}
  Let \(X, Y, Z\) be subsets of \(\R\).
  Let \(f : X \to Y\) be a function which is uniformly continuous on \(X\), and let \(g : Y \to Z\) be a function which is uniformly continuous on \(Y\).
  Show that the function \(g \circ f : X \to Z\) is uniformly continuous on \(X\).
\end{ex}

\begin{proof}
  Since \(f\) is continuous on \(X\) and \(g\) is continuous on \(Y\), by \cref{9.4.13} we know that \(g \circ f\) is continuous on \(X\).
  Since \(g\) is uniformly continuous, by \cref{9.9.2} we have
  \[
    \forall \varepsilon \in \R^+, \exists\ \delta' \in \R^+ : \big(\forall y_1, y_2 \in Y, \abs{y_1 - y_2} < \delta' \implies \abs{g(y_1) - g(y_2)} \leq \varepsilon\big).
  \]
  Similarly, since \(f\) is uniformly continuous, by \cref{9.9.2} we have
  \[
    \forall \varepsilon' \in \R^+, \exists\ \delta \in \R^+ : \big(\forall x_1, x_2 \in X, \abs{x_1 - x_2} < \delta \implies \abs{f(x_1) - f(x_2)} \leq \varepsilon'\big).
  \]
  In particular, we have
  \[
    \exists\ \delta \in \R^+ : \big(\forall x_1, x_2 \in X, \abs{x_1 - x_2} < \delta \implies \abs{f(x_1) - f(x_2)} \leq \delta' / 2 < \delta'\big).
  \]
  Since \(f(x_1), f(x_2) \in Y\), we have
  \[
    \abs{f(x_1) - f(x_2)} < \delta' \implies \abs{g\big(f(x_1)\big) - g\big(f(x_2)\big)} \leq \varepsilon.
  \]
  Thus we have showed that
  \[
    \forall \varepsilon \in \R^+, \exists\ \delta \in \R^+ : \Big(\forall x_1, x_2 \in X, \abs{x_1 - x_2} < \delta \implies \abs{g\big(f(x_1)\big) - g\big(f(x_2)\big)} \leq \varepsilon\Big).
  \]
  and by \cref{9.9.2} \(g \circ f\) is uniformly continuous on \(X\).
\end{proof}