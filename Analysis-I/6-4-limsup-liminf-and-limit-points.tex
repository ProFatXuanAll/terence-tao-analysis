\section{Limsup, Liminf, and limit points}\label{sec:6.4}

\begin{defn}[Limit points]\label{6.4.1}
  Let \((a_n)_{n = m}^\infty\) be a sequence of real numbers, let \(x\) be a real number, and let \(\varepsilon > 0\) be a real number.
  We say that \(x\) is \emph{\(\varepsilon\)-adherent} to \((a_n)_{n = m}^\infty\) iff there exists an \(n \geq m\) such that \(a_n\) is \(\varepsilon\)-close to \(x\).
  We say that \(x\) is \emph{continually \(\varepsilon\)-adherent} to \((a_n)_{n = m}^\infty\) iff it is \(\varepsilon\)-adherent to \((a_n)_{n = N}^\infty\) for every \(N \geq m\).
  We say that \(x\) is a \emph{limit point} or \emph{adherent point} of \((a_n)_{n = m}^\infty\) iff it is continually \(\varepsilon\)-adherent to \((a_n)_{n = m}^\infty\) for every \(\varepsilon > 0\).
\end{defn}

\begin{rmk}\label{6.4.2}
  The verb ``to adhere'' means much the same as ``to stick to'';
  hence the term ``adhesive''.
\end{rmk}

\begin{note}
  Unwrapping all the definitions, we see that \(x\) is a limit point of \((a_n)_{n = m}^\infty\) if, for every \(\varepsilon > 0\) and every \(N \geq m\), there exists an \(n \geq N\) such that \(\abs{a_n - x} \leq \varepsilon\).
  Note the difference between a sequence being \(\varepsilon\)-close to \(L\)
  (which means that \emph{all} the elements of the sequence stay within a distance \(\varepsilon\) of \(L\))
  and \(L\) being \(\varepsilon\)-adherent to the sequence
  (which only needs a \emph{single} element of the sequence to stay within a distance \(\varepsilon\) of \(L\)).
  Also, for \(L\) to be continually \(\varepsilon\)-adherent to \((a_n)_{n = m}^\infty\), it has to be \(\varepsilon\)-adherent to \((a_n)_{n = N}^\infty\) for \emph{all} \(N \geq m\), whereas for \((a_n)_{n = m}^\infty\) to be eventually \(\varepsilon\)-close to \(L\), we only need \((a_n)_{n = m}^\infty\) to be \(\varepsilon\)-close to \(L\) for \emph{some} \(N \geq m\).
  Thus there are some subtle differences in quantifiers between limits and limit points.
\end{note}

\setcounter{thm}{4}
\begin{prop}[Limits are limit points]\label{6.4.5}
  Let \((a_n)_{n = m}^\infty\) be a sequence which converges to a real number \(c\).
  Then \(c\) is a limit point of \((a_n)_{n = m}^\infty\), and in fact it is the only limit point of \((a_n)_{n = m}^\infty\).
\end{prop}

\begin{proof}
  We first show that \(c\) is a limit point of \((a_n)_{n = m}^\infty\).
  Let \(N_1, N_2 \in \N\).
  Since \(\lim_{n \to \infty} a_n = c\), we have \(\forall \varepsilon \in \R^+\), \(\exists N_1 \geq m\) such that \(\abs{a_n - c} \leq \varepsilon\) for every \(n \geq N_1\).
  This means \(\forall N_2 \geq m\), \(\exists n \geq \max(N_1, N_2)\) such that \(\abs{a_n - c} \leq \varepsilon\).
  Thus by \cref{6.4.1} \(c\) is a limit point of \((a_n)_{n = m}^\infty\).

  Now we show that \(c\) is the only limit point of \((a_n)_{n = m}^\infty\).
  Let \(N \in \N\).
  Suppose for sake of contradiction that \(c'\) is also a limit point of \((a_n)_{n = m}^\infty\) and \(c' \neq c\).
  Since \(\lim_{n \to \infty} a_n = c\), we have \(\forall \varepsilon \in \R^+\), \(\exists N \geq m\) such that \(\abs{a_n - c} \leq \varepsilon\) for every \(n \geq N\).
  In particular, \(\abs{a_n - c} \leq \abs{c - c'} / 2\).
  So
  \begin{align*}
    \abs{c - c'} & = \abs{a_n - a_n + c - c'}          \\
                 & = \abs{c - a_n + a_n - c'}          \\
                 & \leq \abs{c - a_n} + \abs{a_n - c'} \\
                 & = \abs{a_n - c} + \abs{a_n - c'}.
  \end{align*}
  This means \(\abs{a_n - c'} \geq \abs{c - c'} - \abs{a_n - c}\).
  Then \(\forall n \geq N\),
  \begin{align*}
    \abs{a_n - c'} & \geq \abs{c - c'} - \abs{a_n - c}    \\
                   & \geq \abs{c - c'} - \abs{c - c'} / 2 \\
                   & = \abs{c - c'} / 2.
  \end{align*}
  Since \(\abs{c - c'} / 2 > 0\), this means we can not find an \(n \geq N\) where \(\abs{a_n - c'} < \abs{c - c'} / 2\), which contradict to the fact that \(c'\) is limit point.
  Thus \(\lim_{n \to \infty} a_n = c\) is the only limit point of \((a_n)_{n = m}^\infty\).
\end{proof}

\begin{defn}[Limit superior and limit inferior]\label{6.4.6}
  Suppose that \((a_n)_{n = m}^\infty\) is a sequence.
  We define a new sequence \((a_N^+)_{N = m}^\infty\) by the formula
  \[
    a_N^+ \coloneqq \sup(a_n)_{n = N}^\infty.
  \]
  More informally, \(a_N^+\) is the supremum of all the elements in the sequence from \(a_N\) onwards.
  We then define the \emph{limit superior} of the sequence \((a_n)_{n = m}^\infty\) by the formula
  \[
    \limsup_{n \to \infty} a_n \coloneqq \inf(a_N^+)_{N = m}^\infty.
  \]
  Similarly, we can define
  \[
    a_N^- \coloneqq \inf(a_n)_{n = N}^\infty
  \]
  and define the \emph{limit inferior} of the sequence \((a_n)_{n = m}^\infty\) by the formula
  \[
    \liminf_{n \to \infty} a_n \coloneqq \sup(a_N^-)_{N = m}^\infty.
  \]
\end{defn}

\setcounter{thm}{10}
\begin{rmk}\label{6.4.11}
  Some authors use the notation \(\overline{\lim}_{n \to \infty} a_n\) instead of \(\limsup_{n \to \infty} a_n\), and \(\underline{\lim}_{n \to \infty} a_n\) instead of \(\liminf_{n \to \infty} a_n\).
  Note that the starting index \(m\) of the sequence is irrelevant.
\end{rmk}

\begin{note}
  Returning to the piston analogy, imagine a piston at \(+\infty\) moving leftward until it is stopped by the presence of the sequence \(a_1, a_2, \dots\).
  The place it will stop is the supremum of \(a_1, a_2, a_3, \dots\), which in our new notation is \(a_1^+\).
  Now let us remove the first element \(a_1\) from the sequence;
  this may cause our piston to slip leftward, to a new point \(a_2^+\)
  (though in many cases the piston will not move and \(a_2^+\) will just be the same as \(a_1^+\)).
  Then we remove the second element \(a_2\), causing the piston to slip a little more.
  If we keep doing this the piston will keep slipping, but there will be some point where it cannot go any further, and this is the limit superior of the sequence.
  A similar analogy can describe the limit inferior of the sequence.
\end{note}

\begin{prop}\label{6.4.12}
  Let \((a_n)_{n = m}^\infty\) be a sequence of real numbers, let \(L^+\) be the limit superior of this sequence, and let \(L^-\) be the limit inferior of this sequence
  (thus both \(L^+\) and \(L^-\) are extended real numbers).
  \begin{enumerate}
    \item For every \(x > L^+\), there exists an \(N \geq m\) such that \(a_n < x\) for all \(n \geq N\).
          (In other words, for every \(x > L^+\), the elements of the sequence \((a_n)_{n = m}^\infty\) are eventually less than \(x\).)
          Similarly, for every \(y < L^-\) there exists an \(N \geq m\) such that \(a_n > y\) for all \(n \geq N\).
    \item For every \(x < L^+\), and every \(N \geq m\), there exists an \(n \geq N\) such that \(a_n > x\).
          (In other words, for every \(x < L^+\), the elements of the sequence \((a_n)_{n = m}^\infty\) exceed \(x\) infinitely often.)
          Similarly, for every \(y > L^-\) and every \(N \geq m\), there exists an \(n \geq N\) such that \(a_n < y\).
    \item We have \(\inf(a_n)_{n = m}^\infty \leq L^- \leq L^+ \leq \sup(a_n)_{n = m}^\infty\).
    \item If \(c\) is any limit point of \((a_n)_{n = m}^\infty\), then we have \(L^- \leq c \leq L^+\).
    \item If \(L^+\) is finite, then it is a limit point of \((a_n)_{n = m}^\infty\).
          Similarly, if \(L^-\) is finite, then it is a limit point of \((a_n)_{n = m}^\infty\).
    \item Let \(c\) be a real number.
          If \((a_n)_{n = m}^\infty\) converges to \(c\), then we must have \(L^+ = L^- = c\).
          Conversely, if \(L^+ = L^- = c\), then \((a_n)_{n = m}^\infty\) converges to \(c\).
  \end{enumerate}
\end{prop}

\begin{proof}{(a)}
  Suppose first that \(x > L^+\).
  Then by definition of \(L^+\), we have \(x > \inf(a_N^+)_{N = m}^\infty\).
  By \cref{6.3.7}, there must then exist an integer \(N \geq m\) such that \(x > a_N^+\).
  By definition of \(a_N^+\), this means that \(x > \sup(a_n)_{n = N}^\infty\).
  Thus by \cref{6.3.6}, we have \(x > a_n\) for all \(n \geq N\), as desired.

  Now suppose that \(y < L^-\).
  Then by definition of \(L^-\), we have \(y < \sup(a_N^-)_{N = m}^\infty\).
  By \cref{6.3.6}, there must then exist an integer \(N \geq m\) such that \(y < a_N^-\).
  By definition of \(a_N^-\), this means that \(y < \inf(a_n)_{n = N}^\infty\).
  Thus by \cref{6.3.7}, we have \(y < a_n\) for all \(n \geq N\), as desired.
\end{proof}

\begin{proof}{(b)}
  Suppose that \(x < L^+\).
  Then we have \(x < \inf(a_N^+)_{N = m}^\infty\).
  If we fix any \(N \geq m\), then by \cref{6.3.7}, we thus have \(x < a_N^+\).
  By definition of \(a_N^+\), this means that \(x < \sup(a_n)_{n = N}^\infty\).
  By \cref{6.3.6}, there must thus exist \(n \geq N\) such that \(a_n > x\), as desired.

  Now suppose that \(y > L^-\).
  Then we have \(y > \sup(a_N^-)_{N = m}^\infty\).
  If we fix any \(N \geq m\), then by \cref{6.3.6}, we thus have \(y > a_N^-\).
  By definition of \(a_N^-\), this means that \(y > \inf(a_n)_{n = N}^\infty\).
  By \cref{6.3.7}, there must thus exist \(n \geq N\) such that \(a_n < y\), as desired.
\end{proof}

\begin{proof}{(c)}
  Let \(N \in \N\).
  We first show that \(\inf(a_n)_{n = m}^\infty \leq L^-\).
  \begin{align*}
    L^- & = \liminf_{n \to \infty} a_n &  & \by{6.4.6} \\
        & = \sup(a_N^-)_{N = m}^\infty &  & \by{6.4.6} \\
        & \geq a_m^-                   &  & \by{6.3.1} \\
        & = \inf(a_n)_{n = m}^\infty.  &  & \by{6.4.6}
  \end{align*}

  Next we show that \(L^+ \leq \sup(a_n)_{n = m}^\infty\).
  \begin{align*}
    L^+ & = \limsup_{n \to \infty} a_n &  & \by{6.4.6} \\
        & = \inf(a_N^+)_{N = m}^\infty &  & \by{6.4.6} \\
        & \leq a_m^+                   &  & \by{6.3.1} \\
        & = \sup(a_n)_{n = m}^\infty.  &  & \by{6.4.6}
  \end{align*}

  Finally we show that \(L^- \leq L^+\).
  Let \(N_1, N_2 \in \N\).
  Suppose for sake of contradiction that \(L^- > L^+\).
  Then we have
  \begin{align*}
             & L^+ < L^-                                                                   \\
    \implies & \inf(a_N^+)_{N = m}^\infty < \sup(a_N^-)_{N = m}^\infty     &  & \by{6.4.6} \\
    \implies & \exists N_1 \geq m : a_{N_1}^+ < \sup(a_N^-)_{N = m}^\infty &  & \by{6.3.7} \\
    \implies & \exists N_2 \geq m : a_{N_1}^+ < a_{N_2}^-                  &  & \by{6.3.6} \\
    \implies & \sup(a_n)_{n = N_1}^\infty < \inf(a_n)_{n = N_2}^\infty.    &  & \by{6.4.6}
  \end{align*}
  Let \(N = \max(N_1, N_2)\).
  Then we have
  \[
    \sup(a_n)_{n = N}^\infty \leq \sup(a_n)_{n = N_1}^\infty < \inf(a_n)_{n = N_2}^\infty \leq \inf(a_n)_{n = N}^\infty,
  \]
  a contradiction.
  Thus \(L^- \leq L^+\), and we conclude that
  \[
    \inf(a_n)_{n = m}^\infty \leq L^- \leq L^+ \leq \sup(a_n)_{n = m}^\infty.
  \]
\end{proof}

\begin{proof}{(d)}
  Let \(N, n' \in \N\).
  Suppose that \(c\) is a limit point of \((a_n)_{n = m}^\infty\).
  We first show that \(L^- \leq c\).
  Suppose for sake of contradiction that \(L^- > c\).
  Let \(\varepsilon = (L^- - c) / 2\).
  Since \(c\) is a limit point, by \cref{6.4.1} \(\forall N \geq m\), \(\exists n \geq N\) such that \(\abs{a_n - c} \leq \varepsilon\).
  So we have \(-\varepsilon \leq a_n - c \leq \varepsilon\) and thus \(a_n \leq c + \varepsilon\).
  Since \(L^- - \varepsilon < L^-\), by \cref{6.4.12}(a) we have \(\exists N \geq m\) such that \(a_{n'} > L^- - \varepsilon\) for every \(n' \geq N\).
  Combine with the above result we get \(L^- - \varepsilon < c + \varepsilon\), but substituting \(\varepsilon\) with \((L^- - c) / 2\) we get \((L^- + c) / 2 < (L^- + c) / 2\), a contradiction.
  Thus \(L^- \leq c\).

  Now we show that \(L^+ \geq c\).
  Suppose for sake of contradiction that \(L^+ < c\).
  Let \(\varepsilon = (c - L^+) / 2\).
  Since \(c\) is a limit point, by \cref{6.4.1} \(\forall N \geq m\), \(\exists n \geq N\) such that \(\abs{a_n - c} \leq \varepsilon\).
  So we have \(-\varepsilon \leq a_n - c \leq \varepsilon\) and thus \(c - \varepsilon \leq a_n\).
  Since \(L^+ < L^+ + \varepsilon\), by \cref{6.4.12}(a) we have \(\exists N \geq m\) such that \(a_{n'} < L^+ + \varepsilon\) for every \(n' \geq N\).
  Combine with the above result we get \(c - \varepsilon < L^+ + \varepsilon\), but substituting \(\varepsilon\) with \((c - L^+) / 2\) we get \((c + L^+) / 2 < (c + L^+) / 2\), a contradiction.
  Thus \(L^+ \geq c\).
  And we conclude that \(L^- \leq c \leq L^+\).
\end{proof}

\begin{proof}{(e)}
  Let \(N, N' \in \N\).
  We first show that if \(L^+\) is finite, then \(L^+\) is a limit point of \((a_n)_{n = m}^\infty\).
  By \cref{6.4.1} we need to show that \(\forall \varepsilon \in \R^+\), \(\forall N \geq m\), \(\exists n \geq N\) such that \(\abs{a_n - L^+} \leq \varepsilon\).
  Since \(L^+ < L^+ + \varepsilon\), by \cref{6.4.12}(a) \(\exists N' \geq m\) such that \(a_n < L^+ + \varepsilon\) for every \(n \geq N'\).
  But this also means \(\forall N \geq m\), \(\exists n \geq N\) such that \(a_n < L^+ + \varepsilon\) as long as we always choose \(n \geq \max(N', N)\).
  Since \(L^+ - \varepsilon < L^+\), by \cref{6.4.12}(b), \(\forall N \geq m\), \(\exists n \geq N\) such that \(a_n > L^+ - \varepsilon\).
  Combine the two statements above we have \(\forall N \geq m\), \(\exists n \geq N\) such that \(L^+ - \varepsilon < a_n < L^+ + \varepsilon\).
  Thus \(\abs{a_n - L^+} < \varepsilon\) and \(L^+\) is a limit point.

  Now we show that if \(L^-\) is finite, then \(L^-\) is a limit point of \((a_n)_{n = m}^\infty\).
  By \cref{6.4.1} we need to show that \(\forall \varepsilon \in \R^+\), \(\forall N \geq m\), \(\exists n \geq N\) such that \(\abs{a_n - L^-} \leq \varepsilon\).
  Since \(L^- - \varepsilon < L^-\), by \cref{6.4.12}(a) \(\exists N' \geq m\) such that \(a_n > L^- - \varepsilon\) for every \(n \geq N'\).
  But this also means \(\forall N \geq m\), \(\exists n \geq N\) such that \(a_n > L^- - \varepsilon\) as long as we always choose \(n \geq \max(N', N)\).
  Since \(L^- < L^- + \varepsilon\), by \cref{6.4.12}(b), \(\forall N \geq m\), \(\exists n \geq N\) such that \(a_n < L^- + \varepsilon\).
  Combine the two statements above we have \(\forall N \geq m\), \(\exists n \geq N\) such that \(L^- - \varepsilon < a_n < L^- + \varepsilon\).
  Thus \(\abs{a_n - L^-} < \varepsilon\) and \(L^-\) is also a limit point.
\end{proof}

\begin{proof}{(f)}
  Let \(N, N_1, N_2, n_1, n_2 \in \N\).
  We first show that if \(\lim_{n \to \infty} a_n = c\), then \(L^+ = c\).
  By \cref{6.4.5}, \(c\) is the only limit point of \((a_n)_{n = m}^\infty\).
  And by \cref{6.4.12}(d), we have \(L^- \leq c \leq L^+\).
  Suppose for sake of contradiction that \(c \neq L^+\).
  Then we must have \(c < L^+\).
  Let \(\varepsilon = (L^+ - c) / 2\).
  Since \(L^+ - \varepsilon < L^+\), by \cref{6.4.12}(b), \(\forall N_1 \geq m\), \(\exists n_1 \geq N_1\) such that \(a_{n_1} > L^+ - \varepsilon\).
  Since \(\lim_{n \to \infty} a_n = c\), \(\exists N_2 \geq m\) such that \(\abs{a_{n_2} - c} \leq \varepsilon\) for every \(n_2 \geq N_2\), so \(-\varepsilon \leq a_{n_2} - c \leq \varepsilon\) and \(a_{n_2} \leq c + \varepsilon\).
  By setting \(N = \max(N_1, N_2)\) we have \(L^+ - \varepsilon < a_n \leq c + \varepsilon\), but substituting \(\varepsilon\) with \((L^+ - c) / 2\) we get \((L^+ + c) / 2 < (L^+ + c) / 2\), a contradiction.
  Thus \(c = L^+\).

  Next we show that if \(\lim_{n \to \infty} a_n = c\), then \(L^- = c\).
  By \cref{6.4.5}, \(c\) is the only limit point of \((a_n)_{n = m}^\infty\).
  And by \cref{6.4.12}(d), we have \(L^- \leq c \leq L^+\).
  Suppose for sake of contradiction that \(c \neq L^-\).
  Then we must have \(L^- < c\).
  Let \(\varepsilon = (c - L^-) / 2\).
  Since \(L^- < L^- + \varepsilon\), by \cref{6.4.12}(b), \(\forall N_1 \geq m\), \(\exists n_1 \geq N_1\) such that \(a_{n_1} < L^- + \varepsilon\).
  Since \(\lim_{n \to \infty} a_n = c\), \(\exists N_2 \geq m\) such that \(\abs{a_{n_2} - c} \leq \varepsilon\) for every \(n_2 \geq N_2\), so \(-\varepsilon \leq a_{n_2} - c \leq \varepsilon\) and \(c - \varepsilon \leq a_{n_2}\).
  By setting \(N = \max(N_1, N_2)\) we have \(c - \varepsilon \leq a_n < L^- + \varepsilon\), but substituting \(\varepsilon\) with \((c - L^-) / 2\) we get \((L^- + c) / 2 < (L^- + c) / 2\), a contradiction.
  Thus \(c = L^-\).
  We conclude that if \(\lim_{n \to \infty} a_n = c\), then \(L^+ = L^- = c\).

  Finally we show that if \(L^+ = L^- = c\), then \(\lim_{n \to \infty} a_n = c\).
  Let \(\varepsilon \in \R^+\).
  Then we have \(c - \varepsilon < c < c + \varepsilon\).
  Since \(c = L^+\), by \cref{6.4.11}(a) \(\exists N_1 \geq m\) such that \(a_{n_1} < c + \varepsilon\) for every \(n_1 \geq N_1\).
  Similarly since \(c = L^-\), by \cref{6.4.11}(a) \(\exists N_2 \geq m\) such that \(c - \varepsilon < a_{n_2}\) for every \(n_2 \geq N_2\).
  Let \(N = \max(N_1, N_2)\).
  Then \(\exists N \geq m\) such that \(c - \varepsilon < a_n < c + \varepsilon\) for every \(n \geq N\).
  But this means \(\abs{a_n - c} < \varepsilon\), and thus \(\lim_{n \to \infty} a_n = c\).
  We conclude that \(L^+ = L^- = c \iff \lim_{n \to \infty} a_n = c\).
\end{proof}

\begin{note}
  Parts (d) and (e) of \cref{6.4.12} say, in particular, that \(L^+\) is the largest limit point of \((a_n)_{n = m}^\infty\), and \(L^-\) is the smallest limit point
  (providing that \(L^+\) and \(L^-\) are finite).
  \cref{6.4.12} (f) then says that if \(L^+\) and \(L^-\) coincide (so there is only one limit point), then the sequence in fact converges.
  This gives a way to test if a sequence converges: compute its limit superior and limit inferior, and see if they are equal.
\end{note}

\begin{lem}[Comparison principle]\label{6.4.13}
  Suppose that \((a_n)_{n = m}^\infty\) and \((b_n)_{n = m}^\infty\) are two sequences of real numbers such that \(a_n \leq b_n\) for all \(n \geq m\).
  Then we have the inequalities
  \begin{align*}
    \sup(a_n)_{n = m}^\infty   & \leq \sup(b_n)_{n = m}^\infty   \\
    \inf(a_n)_{n = m}^\infty   & \leq \inf(b_n)_{n = m}^\infty   \\
    \limsup_{n \to \infty} a_n & \leq \limsup_{n \to \infty} b_n \\
    \liminf_{n \to \infty} a_n & \leq \liminf_{n \to \infty} b_n
  \end{align*}
\end{lem}

\begin{proof}
  Let \(n' \in \N\).
  We first show that \(\sup(a_n)_{n = m}^\infty \leq \sup(b_n)_{n = m}^\infty\).
  Suppose for sake of contradiction that \(\sup(a_n)_{n = m}^\infty > \sup(b_n)_{n = m}^\infty\).
  Then by \cref{6.3.6} \(\exists n' \geq m\) such that \(a_{n'} > \sup(b_n)_{n = m}^\infty\).
  Also by \cref{6.3.1} \(\forall n \geq m\) we have \(\sup(b_n)_{n = m}^\infty \geq b_n\).
  But this means \(a_{n'} > b_n\), in particular, \(a_{n'} > b_{n'}\), a contradiction.
  Thus we must have \(\sup(a_n)_{n = m}^\infty \leq \sup(b_n)_{n = m}^\infty\).

  Next we show that \(\inf(a_n)_{n = m}^\infty \leq \inf(b_n)_{n = m}^\infty\).
  Suppose for sake of contradiction that \(\inf(a_n)_{n = m}^\infty > \inf(b_n)_{n = m}^\infty\).
  Then by \cref{6.3.7} \(\exists n' \geq m\) such that \(b_{n'} < \inf(a_n)_{n = m}^\infty\).
  Also by \cref{6.3.1} \(\forall n \geq m\) we have \(\inf(a_n)_{n = m}^\infty \leq a_n\).
  But this means \(b_{n'} < a_n\), in particular, \(b_{n'} < a_{n'}\), a contradiction.
  Thus we must have \(\inf(a_n)_{n = m}^\infty \leq \inf(b_n)_{n = m}^\infty\).

  Next we show that \(\limsup_{n \to \infty} a_n \leq \limsup_{n \to \infty} b_n\).
  Suppose for sake of contradiction that \(\limsup_{n \to \infty} a_n > \limsup_{n \to \infty} b_n\).
  By \cref{6.4.6} we have \(\inf(a_n^+)_{n = m}^\infty > \inf(b_n^+)_{n = m}^\infty\).
  By \cref{6.3.7} \(\exists n' \geq m\) such that \(b_{n'}^+ < \inf(a_n^+)_{n = m}^\infty\).
  By \cref{6.3.1} \(\forall n \geq m\) we have \(\inf(a_n^+)_{n = m}^\infty \leq a_n^+\).
  But this means \(b_{n'}^+ < a_n^+\), in particular, \(b_{n'}^+ < a_{n'}^+\).
  Again by \cref{6.4.6} we have \(\sup(b_n)_{n = n'}^\infty < \sup(a_n)_{n = n'}^\infty\).
  But this contradict to the proof above that \(\sup(b_n)_{n = n'}^\infty \geq \sup(a_n)_{n = n'}^\infty\).
  Thus we must have \(\limsup_{n \to \infty} a_n \leq \limsup_{n \to \infty} b_n\).

  Finally we show that \(\liminf_{n \to \infty} a_n \leq \liminf_{n \to \infty} b_n\).
  Suppose for sake of contradiction that \(\liminf_{n \to \infty} a_n > \liminf_{n \to \infty} b_n\).
  By \cref{6.4.6} we have \(\sup(a_n^-)_{n = m}^\infty > \sup(b_n^-)_{n = m}^\infty\).
  By \cref{6.3.6} \(\exists n' \geq m\) such that \(a_{n'}^- > \sup(b_n^-)_{n = m}^\infty\).
  By \cref{6.3.1} \(\forall n \geq m\) we have \(\sup(b_n^-)_{n = m}^\infty \geq b_n^-\).
  But this means \(a_{n'}^- > b_n^-\), in particular, \(a_{n'}^- > b_{n'}^-\).
  Again by \cref{6.4.6} we have \(\inf(a_n)_{n = n'}^\infty > \inf(b_n)_{n = n'}^\infty\).
  But this contradict to the proof above that \(\inf(a_n)_{n = n'}^\infty \leq \inf(b_n)_{n = n'}^\infty\).
  Thus we must have \(\liminf_{n \to \infty} a_n \leq \liminf_{n \to \infty} b_n\).
\end{proof}

\begin{cor}[Squeeze test]\label{6.4.14}
  Let \((a_n)_{n = m}^\infty\), \((b_n)_{n = m}^\infty\), and \((c_n)_{n = m}^\infty\) be sequences of real numbers such that
  \[
    a_n \leq b_n \leq c_n
  \]
  for all \(n \geq m\).
  Suppose also that \((a_n)_{n = m}^\infty\) and \((c_n)_{n = m}^\infty\) both converge to the same limit \(L\).
  Then \((b_n)_{n = m}^\infty\) is also convergent to \(L\).
\end{cor}

\begin{proof}
  Since \(\lim_{n \to \infty} a_n = \lim_{n \to \infty} c_n = L\), by \cref{6.4.12}(f) we have
  \[
    \limsup_{n \to \infty} a_n = \liminf_{n \to \infty} a_n = L = \limsup_{n \to \infty} c_n = \liminf_{n \to \infty} c_n.
  \]
  Thus we have
  \begin{align*}
             & a_n \leq b_n \leq c_n                                                                                                        \\
    \implies & \limsup_{n \to \infty} a_n \leq \limsup_{n \to \infty} b_n \leq \limsup_{n \to \infty} c_n &  & \by{6.4.13}                  \\
    \implies & L \leq \limsup_{n \to \infty} b_n \leq L                                                   &  & \text{(by \cref{6.4.12}(f))} \\
    \implies & \limsup_{n \to \infty} b_n = L
  \end{align*}
  and
  \begin{align*}
             & a_n \leq b_n \leq c_n                                                                                                        \\
    \implies & \liminf_{n \to \infty} a_n \leq \liminf_{n \to \infty} b_n \leq \liminf_{n \to \infty} c_n &  & \by{6.4.13}                  \\
    \implies & L \leq \liminf_{n \to \infty} b_n \leq L                                                   &  & \text{(by \cref{6.4.12}(f))} \\
    \implies & \liminf_{n \to \infty} b_n = L.
  \end{align*}
  Since
  \[
    \limsup_{n \to \infty} b_n = \liminf_{n \to \infty} b_n = L,
  \]
  by \cref{6.4.12}(f) we have \(\lim_{n \to \infty} b_n = L\).
\end{proof}

\setcounter{thm}{15}
\begin{rmk}\label{6.4.16}
  The squeeze test, combined with the limit laws and the principle that monotone bounded sequences always have limits, allows one to compute a large number of limits.
\end{rmk}

\begin{cor}[Zero test for sequences]\label{6.4.17}
  Let \((a_n)_{n = m}^\infty\) be a sequence of real numbers.
  Then the limit \(\lim_{n \to \infty} a_n\) exists and is equal to zero iff the limit \(\lim_{n \to \infty} \abs{a_n}\) exists and is equal to zero.
\end{cor}

\begin{proof}
  Let \(N \in \N\).
  We first show that \(\lim_{n \to \infty} a_n = 0\) implies \(\lim_{n \to \infty} \abs{a_n} = 0\).
  \begin{align*}
             & \lim_{n \to \infty} a_n = 0                                                                             \\
    \implies & \forall \varepsilon \in \R^+, \exists N \geq m : \forall n \geq m, \abs{a_n - 0} \leq \varepsilon       \\
    \implies & \forall \varepsilon \in \R^+, \exists N \geq m : \forall n \geq m, \abs{a_n} \leq \varepsilon           \\
    \implies & \forall \varepsilon \in \R^+, \exists N \geq m : \forall n \geq m, \abs{\abs{a_n} - 0} \leq \varepsilon \\
    \implies & \lim_{n \to \infty} \abs{a_n} = 0.
  \end{align*}

  Now we show that \(\lim_{n \to \infty} \abs{a_n} = 0\) implies \(\lim_{n \to \infty} a_n = 0\).
  Since \(-\abs{a_n} \leq a_n \leq \abs{a_n}\), we have
  \begin{align*}
             & \lim_{n \to \infty} \abs{a_n} = 0                                    \\
    \implies & \lim_{n \to \infty} -\abs{a_n} = 0 &  & \text{(by \cref{6.1.19}(c))} \\
    \implies & \lim_{n \to \infty} a_n = 0.       &  & \by{6.4.14}
  \end{align*}
  We conclude that \(\lim_{n \to \infty} a_n = 0 \iff \lim_{n \to \infty} \abs{a_n} = 0\).
\end{proof}

\begin{thm}[Completeness of the reals]\label{6.4.18}
  A sequence \((a_n)_{n = 1}^\infty\) of real numbers is a Cauchy sequence iff it is convergent.
\end{thm}

\begin{proof}
  \cref{6.1.12} already tells us that every convergent sequence is Cauchy, so it suffices to show that every Cauchy sequence is convergent.

  Let \((a_n)_{n = 1}^\infty\) be a Cauchy sequence.
  We know from \cref{5.1.15} (or more precisely, from the extension of this lemma to the real numbers, which is proven in exactly the same fashion) that the sequence \((a_n)_{n = 1}^\infty\) is bounded;
  by \cref{6.4.13} (or \cref{6.4.12}(c)) this implies that \(L^- \coloneqq \liminf_{n \to \infty} a_n\) and \(L^+ \coloneqq \limsup_{n \to \infty} a_n\) of the sequence are both finite.
  To show that the sequence converges, it will suffice by \cref{6.4.12}(f) to show that \(L^- = L^+\).

  Now let \(\varepsilon > 0\) be any real number.
  Since \((a_n)_{n = 1}^\infty\) is a Cauchy sequence, it must be eventually \(\varepsilon\)-steady, so in particular there exists an \(N \geq 1\) such that the sequence \((a_n)_{n = N}^\infty\) is \(\varepsilon\)-steady.
  In particular, we have \(a_N - \varepsilon \leq a_n \leq a_N + \varepsilon\) for all \(n \geq N\).
  By \cref{6.3.6} (or \cref{6.4.13}) this implies that
  \[
    a_N - \varepsilon \leq \inf(a_n)_{n = N}^\infty \leq \sup(a_n)_{n = N}^\infty \leq a_N + \varepsilon
  \]
  and hence by the definition of \(L^-\) and \(L^+\) (and \cref{6.3.6} again)
  \[
    a_N - \varepsilon \leq L^- \leq L^+ \leq a_N + \varepsilon.
  \]
  Thus we have
  \[
    0 \leq L^+ - L^- \leq 2\varepsilon.
  \]
  But this is true for all \(\varepsilon > 0\), and \(L^+\) and \(L^-\) do not depend on \(\varepsilon\);
  so we must therefore have \(L^+ = L^-\).
  (If \(L^+ > L^-\) then we could set \(\varepsilon \coloneqq (L^+ - L^-) / 3\) and obtain a contradiction.)
  By \cref{6.4.12}(f) we thus see that the sequence converges.
\end{proof}

\begin{rmk}\label{6.4.19}
  While \cref{6.4.18} is very similar in spirit to \cref{6.1.15}, it is a bit more general, since \cref{6.1.15} refers to Cauchy sequences of rationals instead of real numbers.
\end{rmk}

\begin{rmk}\label{6.4.20}
  In the language of metric spaces, \cref{6.4.18} asserts that the real numbers are a \emph{complete} metric space
  - that they do not contain ``holes'' the same way the rationals do.
  (Certainly the rationals have lots of Cauchy sequences which do not converge to other rationals;
  take for instance the sequence \(1, 1.4, 1.41, 1.414, 1.4142, \dots\) which converges to the irrational \(\sqrt{2}\).)
  This property is closely related to the least upper bound property (\cref{5.5.9}), and is one of the principal characteristics which make the real numbers superior to the rational numbers for the purposes of doing analysis
  (taking limits, taking derivatives and integrals, finding zeroes of functions, that kind of thing).
\end{rmk}

\exercisesection

\begin{ex}\label{ex:6.4.1}
  Prove \cref{6.4.5}.
\end{ex}

\begin{proof}
  See \cref{6.4.5}.
\end{proof}

\begin{ex}\label{ex:6.4.2}
  Let \((a_n)_{n = m}^\infty\) be a sequence of real numbers, let \(c\) be a real number, let \(m' \geq m\) be an integer, and let \(k \geq 0\) be a non-negative integer.
  Show that
  \begin{enumerate}
    \item \(c\) is a limit point of \((a_n)_{n = m}^\infty\) iff \(c\) is a limit point of \((a_n)_{n = m'}^\infty\).
    \item \(c\) is the limit superior of \((a_n)_{n = m}^\infty\) iff \(c\) is the limit superior of \((a_n)_{n = m'}^\infty\).
    \item \(c\) is the limit inferior of \((a_n)_{n = m}^\infty\) iff \(c\) is the limit inferior of \((a_n)_{n = m'}^\infty\).
    \item \(c\) is a limit point of \((a_n)_{n = m}^\infty\) iff \(c\) is a limit point of \((a_{n + k})_{n = m}^\infty\).
    \item \(c\) is the limit superior of \((a_n)_{n = m}^\infty\) iff \(c\) is the limit superior of \((a_{n + k})_{n = m}^\infty\).
    \item \(c\) is the limit inferior of \((a_n)_{n = m}^\infty\) iff \(c\) is the limit inferior of \((a_{n + k})_{n = m}^\infty\).
  \end{enumerate}
\end{ex}

\begin{proof}{(a)}
  Let \(N, \in \N\).
  We first show that \(c\) is a limit point of \((a_n)_{n = m}^\infty\) implies \(c\) is a limit point of \((a_n)_{n = m'}^\infty\).
  Since \(c\) is a limit point of \((a_n)_{n = m}^\infty\), by \cref{6.4.1} \(\forall \varepsilon \in \R^+\), we have \(\forall N \geq m\), \(\exists n \geq N\) such that \(\abs{a_n - c} \leq \varepsilon\).
  Since \(m' \geq m\), we must also have \(\forall N \geq m'\), \(\exists n \geq N\) such that \(\abs{a_n - c} \leq \varepsilon\).
  Thus by \cref{6.4.1} \(c\) is a limit point of \((a_n)_{n = m'}^\infty\).

  Now we show that \(c\) is a limit point of \((a_n)_{n = m'}^\infty\) implies \(c\) is a limit point of \((a_n)_{n = m}^\infty\).
  Since \(c\) is a limit point of \((a_n)_{n = m'}^\infty\), by \cref{6.4.1} \(\forall \varepsilon \in \R^+\), we have \(\forall N \geq m'\), \(\exists n \geq N\) such that \(\abs{a_n - c} \leq \varepsilon\).
  Since \(m' \geq m\), we only need to show that \(\forall N' \in \N\) and \(m \leq N' < m'\), \(\exists n \geq N'\) such that \(\abs{a_n - c} \leq \varepsilon\).
  Since \(N \geq m' > N'\), we can always find an \(n \geq N > N'\) such that \(\abs{a_n - c} \leq \varepsilon\).
  Thus by \cref{6.4.1} \(c\) is a limit point of \((a_n)_{n = m}^\infty\).
  We conclude that \(c\) is a limit point of \((a_n)_{n = m}^\infty\) iff \(c\) is a limit point of \((a_n)_{n = m'}^\infty\).
\end{proof}

\begin{proof}{(b)}
  We have
  \begin{align*}
             & m \leq m'                                                               \\
    \implies & \set{a_n : n \geq m'} \subseteq \set{a_n : n \geq m}                    \\
    \implies & \sup(a_n)_{n = m}^\infty \geq \sup(a_n)_{n = m'}^\infty                 \\
    \implies & a_m^+ \geq a_{m'}^+                                     &  & \by{6.4.6}
  \end{align*}
  and thus
  \begin{align*}
             & (m \leq m') \land (a_m^+ \geq a_{m'}^+)                                                                    \\
    \implies & (\set{a_N^+ : N \geq m'} \subseteq \set{a_N^+ : N \geq m}) \land (a_m^+ \geq a_{m'}^+)                     \\
    \implies & (\inf(a_N^+)_{N = m}^\infty \leq \inf(a_N^+)_{N = m'}^\infty) \land (a_m^+ \geq a_{m'}^+)                  \\
    \implies & \inf(a_N^+)_{N = m}^\infty = \inf(a_N^+)_{N = m'}^\infty                                                   \\
    \implies & c = \limsup_{n \to \infty} a_n = \inf(a_N^+)_{N = m}^\infty = \inf(a_N^+)_{N = m'}^\infty. &  & \by{6.4.6}
  \end{align*}
\end{proof}

\begin{proof}{(c)}
  We have
  \begin{align*}
             & m \leq m'                                                               \\
    \implies & \set{a_n : n \geq m'} \subseteq \set{a_n : n \geq m}                    \\
    \implies & \inf(a_n)_{n = m}^\infty \leq \inf(a_n)_{n = m'}^\infty                 \\
    \implies & a_m^- \leq a_{m'}^-                                     &  & \by{6.4.6}
  \end{align*}
  and thus
  \begin{align*}
             & (m \leq m') \land (a_m^- \leq a_{m'}^-)                                                                        \\
    \implies & \big(\set{a_N^- : N \geq m'} \subseteq \set{a_N^- : N \geq m}\big) \land (a_m^- \leq a_{m'}^-)                 \\
    \implies & (\sup(a_N^-)_{N = m'}^\infty \leq \sup(a_N^-)_{N = m}^\infty) \land (a_m^- \leq a_{m'}^-)                      \\
    \implies & \sup(a_N^-)_{N = m}^\infty = \sup(a_N^-)_{N = m'}^\infty                                                       \\
    \implies & c = \liminf_{n \to \infty} a_n = \sup(a_N^-)_{N = m}^\infty = \sup(a_N^-)_{N = m'}^\infty.     &  & \by{6.4.6}
  \end{align*}
\end{proof}

\begin{proof}{(d)}
  Since \((a_{n + k})_{n = m}^\infty = (a_n)_{n = m + k}^\infty\), by \cref{ex:6.4.2}(a) we conclude that \(c\) is a limit point of \((a_n)_{n = m}^\infty\) iff \(c\) is a limit point of \((a_{n + k})_{n = m}^\infty\).
\end{proof}

\begin{proof}{(e)}
  Since \((a_{n + k})_{n = m}^\infty = (a_n)_{n = m + k}^\infty\), by \cref{ex:6.4.2}(b) we conclude that \(c\) is the limit superior of \((a_n)_{n = m}^\infty\) iff \(c\) is the limit superior of \((a_{n + k})_{n = m}^\infty\).
\end{proof}

\begin{proof}{(f)}
  Since \((a_{n + k})_{n = m}^\infty = (a_n)_{n = m + k}^\infty\), by \cref{ex:6.4.2}(c) we conclude that \(c\) is the limit inferior of \((a_n)_{n = m}^\infty\) iff \(c\) is the limit inferior of \((a_{n + k})_{n = m}^\infty\).
\end{proof}

\begin{ex}\label{ex:6.4.3}
  Prove \cref{6.4.12}.
\end{ex}

\begin{proof}
  See \cref{6.4.12}.
\end{proof}

\begin{ex}\label{ex:6.4.4}
  Prove \cref{6.4.13}.
\end{ex}

\begin{proof}
  See \cref{6.4.13}.
\end{proof}

\begin{ex}\label{ex:6.4.5}
  Use \cref{6.4.13} to prove \cref{6.4.14}.
\end{ex}

\begin{proof}
  See \cref{6.4.14}.
\end{proof}

\begin{ex}\label{ex:6.4.6}
  Give an example of two bounded sequences \((a_n)_{n = 1}^\infty\) and \((b_n)_{n = 1}^\infty\) such that \(a_n < b_n\) for all \(n \geq 1\), but that \(\sup(a_n)_{n = 1}^\infty \not< \sup(b_n)_{n = 1}^\infty\).
  Explain why this does not contradict \cref{6.4.13}.
\end{ex}

\begin{proof}
  Let \(a_n = -1 / (n + 1)\) and \(b_n = -1 / (n + 1)^2\).
  Then we have \(a_n < b_n\) for every \(n \geq 1\).
  But \(\sup(a_n)_{n = 1}^\infty = \sup(b_n)_{n = 1}^\infty = 0\).
  This does not contradict to \cref{6.4.13} since \(\sup(a_n)_{n = 1}^\infty \leq \sup(b_n)_{n = 1}^\infty\) does not enforce strictly order, i.e., \(\sup(a_n)_{n = 1}^\infty < \sup(b_n)_{n = 1}^\infty\).
\end{proof}

\begin{ex}\label{ex:6.4.7}
  Prove \cref{6.4.17}.
  Is the corollary still true if we replace zero in the statement of this Corollary by some other number?
\end{ex}

\begin{proof}
  See \cref{6.4.17}.

  Now we show that \cref{6.4.17} is not true if we replace zero by some other number.
  Let \(N \in \N\) and let \((a_n)_{n = m}^\infty\) be a sequence of reals.
  Suppose that \(\lim_{n \to \infty} \abs{a_n} = c\) for some \(c \in \R^-\).
  Then we have
  \begin{align*}
             & \lim_{n \to \infty} \abs{a_n} = c                                                                       \\
    \implies & \forall \varepsilon \in \R^+, \exists N \geq m : \forall n \geq N, \abs{\abs{a_n} - c} \leq \varepsilon \\
    \implies & -\varepsilon \leq \abs{a_n} - c \leq \varepsilon                                                        \\
    \implies & -\varepsilon + c \leq \abs{a_n} \leq \varepsilon + c.
  \end{align*}
  But by setting \(\varepsilon = -c / 2\) we see that \(\abs{a_n} \leq c / 2 < 0\), a contradiction.

  Now suppose that \(\lim_{n \to \infty} \abs{a_n} = c\) for some \(c \in \R^+\).
  By setting \(a_n = (-1)^n c\) we see that
  \begin{align*}
             & \forall n \geq m, \abs{a_n} = c    \\
    \implies & \lim_{n \to \infty} \abs{a_n} = c.
  \end{align*}
  But we know that \((a_n)_{n = m}^\infty\) is not eventually \(2c\)-close, thus \(\lim_{n \to \infty} a_n\) does not exist.
  We conclude that \cref{6.4.17} is not true if we replace zero by some other number.
\end{proof}

\begin{ex}\label{ex:6.4.8}
  Let us say that a sequence \((a_n)_{n = m}^\infty\) of real numbers has \(+\infty\) as a limit point iff it has no finite upper bound, and that it has \(-\infty\) as a limit point iff it has no finite lower bound.
  With this definition, show that \(\limsup_{n \to \infty} a_n\) is a limit point of \((a_n)_{n = m}^\infty\), and furthermore that it is larger than all the other limit points of \((a_n)_{n = m}^\infty\);
  in other words, the limit superior is the largest limit point of a sequence.
  Similarly, show that the limit inferior is the smallest limit point of a sequence.
\end{ex}

\begin{proof}
  By \cref{6.4.12}(e) we already know the cases where \((a_n)_{n = m}^\infty\) has finite upper bound or lower bound.
  So we only consider the cases where \((a_n)_{n = m}^\infty\) has no finite upper bound or lower bound.
  By \cref{6.4.12}(d) we know that \(L^- \leq c \leq L^+\) if \(c\) is a limit point of \((a_n)_{n = m}^\infty\).
  By definition \((a_n)_{n = m}^\infty\) has no finite upper bound iff \(+\infty\) is a limit point.
  This means \(+\infty \leq L^+\), and thus \(L^+ = +\infty\) is the largest limit point.
  Similarly, by definition \((a_n)_{n = m}^\infty\) has no finite lower bound iff \(-\infty\) is a limit point.
  This means \(L^- \leq -\infty\), and thus \(L^- = \infty\) is the smallest limit point.
\end{proof}

\begin{ex}\label{ex:6.4.9}
  Using the definition in \cref{ex:6.4.8}, construct a sequence \((a_n)_{n = 1}^\infty\) which has exactly three limit points, at \(-\infty\), \(0\) and \(+\infty\).
\end{ex}

\begin{proof}
  Let \((a_n)_{n = 1}^\infty\) be the sequence \(1, 1/2, -3, -1/4, 5, 1/6, -7, -1/8, \dots\).
  Then \((a_n)_{n = 1}^\infty\) has no finite upper bound and lower bound, and has \(0\) as limit point.
\end{proof}

\begin{ex}\label{ex:6.4.10}
  Let \((a_n)_{n = N}^\infty\) be a sequence of real numbers, and let \((b_m)_{m = M}^\infty\) be another sequence of real numbers such that each \(b_m\) is a limit point of \((a_n)_{n = N}^\infty\).
  Let \(c\) be a limit point of \((b_m)_{m = M}^\infty\).
  Prove that \(c\) is also a limit point of \((a_n)_{n = N}^\infty\).
  (In other words, limit points of limit points are themselves limit points of the original sequence.)
\end{ex}

\begin{proof}
  Let \(\varepsilon \in \R^+\), and let \(i, j \in \N\).
  Since \(c\) is a limit point of \((b_m)_{m = M}^\infty\), by \cref{6.4.1} we have \(\forall i \geq M\), \(\exists m \geq i\) such that \(\abs{b_m - c} \leq \varepsilon / 2\).
  Now we fix such \(m\).
  Since \(b_m\) is a limit point of \((a_n)_{n = N}^\infty\), by \cref{6.4.1} we have \(\forall j \geq N\), \(\exists n \geq j\) such that \(\abs{a_n - b_m} \leq \varepsilon / 2\).
  Then we have
  \begin{align*}
    \abs{a_n - c} & = \abs{a_n - c + b_m - b_m}            \\
                  & = \abs{(a_n - b_m) + (b_m - c)}        \\
                  & \leq \abs{a_n - b_m} + \abs{b_m - c}   \\
                  & \leq \varepsilon / 2 + \varepsilon / 2 \\
                  & = \varepsilon
  \end{align*}
  This means \(\forall i \geq N\), \(\exists n \geq i\) such that \(\abs{a_n - c} \leq \varepsilon\).
  Since \(\varepsilon\) is arbitrary, by \cref{6.4.1} we know that \(c\) is a limit point of \((a_n)_{n = N}^\infty\).
\end{proof}
