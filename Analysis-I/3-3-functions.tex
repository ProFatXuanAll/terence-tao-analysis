\section{Functions}\label{sec:3.3}

\begin{defn}[Functions]\label{3.3.1}
  Let \(X\), \(Y\) be sets, and let \(P(x, y)\) be a property pertaining to an object \(x \in X\) and an object \(y \in Y\), such that for every \(x \in X\), there is exactly one \(y \in Y\) for which \(P(x, y)\) is true (this is sometimes known as the \emph{vertical line test}).
  Then we define the \emph{function} \(f : X \to Y\) \emph{defined by} \(P\) \emph{on the domain} \(X\) \emph{and range} \(Y\) to be the object which, given any input \(x \in X\), assigns an output \(f(x) \in Y\), defined to be the unique object \(f(x)\) for which \(P(x, f(x))\) is true.
  Thus, for any \(x \in X\) and \(y \in Y\),
  \[
    y = f(x) \iff P(x, y) \text{ is true}.
  \]
\end{defn}

\begin{note}
  Functions are also referred to as \emph{maps} or \emph{transformations}, depending on the context.
  They are also sometimes called \emph{morphisms}, although to be more precise, a morphism refers to a more general class of object, which may or may not correspond to actual functions, depending on the context.
\end{note}

\begin{note}
  One common way to define a function is simply to specify its domain, its range, and how one generates the output \(f(x)\) from each input;
  this is known as an \emph{explicit} definition of a function.
  In other cases we only define a function \(f\) by specifying what property \(P(x, y)\) links the input \(x\) with the output \(f(x)\);
  this is an \emph{implicit} definition of a function.
\end{note}

\begin{note}
  In many cases we omit specifying the domain and range of a function for brevity.
  However, too much of this abbreviation can be dangerous;
  sometimes it is important to know what the domain and range of the function is.
\end{note}

\begin{note}
  We observe that functions obey the axiom of substitution: if \(x = x'\), then \(f(x) = f(x')\).
  In other words, equal inputs imply equal outputs.
  On the other hand, unequal inputs do not necessarily ensure unequal outputs.
  For example, \emph{constant function} simply assign each input with the same output.
\end{note}

\setcounter{thm}{4}
\begin{rmk}\label{3.3.5}
  We are now using parentheses () to denote several different things in mathematics;
  on one hand, we are using them to clarify the order of operations, but on the other hand we also use parentheses to enclose the argument of a function \(f(x)\) or of a property such as \(P(x)\).
  However, the two usages of parentheses usually are unambiguous from context.
  For instance, if \(a\) is a number, then \(a(b + c)\) denotes the expression \(a \times (b + c)\), whereas if \(f\) is a function, then \(f(b + c)\) denotes the output of \(f\) when the input is \(b + c\).
  Sometimes the argument of a function is denoted by subscripting instead of parentheses;
  for instance, a sequence of natural numbers \(a_0\), \(a_1\), \(a_2\), \(a_3\), \(\dots\) is, strictly speaking, a function from \(\N\) to \(\N\), but is denoted by \(n \mapsto a_n\) rather than \(n \mapsto a(n)\).
\end{rmk}

\begin{rmk}\label{3.3.6}
  Strictly speaking, functions are not necessarily sets, and sets are not necessarily functions;
  it does not make sense to ask whether an object \(x\) is an element of a function \(f\), and it does not make sense to apply a set \(A\) to an input \(x\) to create an output \(A(x)\).
  On the other hand, it is possible to start with a function \(f : X \to Y\) and construct its graph \(\{(x, f(x)) : x \in X\}\), which describes the function completely once the domain \(X\) and range \(Y\) are specified.
\end{rmk}

\begin{defn}[Equality of functions]\label{3.3.7}
  Two functions \(f : X \to Y\), \(g : X \to Y\) with the same domain and range are said to be equal, \(f = g\), if and only if \(f(x) = g(x)\) for all \(x \in X\).
  (If \(f(x)\) and \(g(x)\) agree for some values of \(x\), but not others, then we do not consider \(f\) and \(g\) to be equal.)
  Two functions \(f : X \to Y\) and \(g : X' \to Y'\) are considered to be unequal if they have different domains \(X \neq X'\) or different ranges \(Y \neq Y'\) (or both)
\end{defn}

\begin{note}
  A rather boring example of a function is the \emph{empty function} \(f : \emptyset \to X\) from the empty set to an arbitrary set \(X\).
  Since the empty set has no elements, we do not need to specify what \(f\) does to any input.
  Nevertheless, just as the empty set is a set, the empty function is a function, albeit not a particularly interesting one.
  Note that for each set \(X\), there is only one function from \(\emptyset\) to \(X\), since \cref{3.3.7} asserts that all functions from \(\emptyset\) to \(X\) are equal.
\end{note}

\setcounter{thm}{9}
\begin{defn}[Composition]\label{3.3.10}
  Let \(f : X \to Y\) and \(g : Y \to Z\) be two functions, such that the range of \(f\) is the same set as the domain of \(g\).
  We then define the composition \(g \circ f : X \to Z\) of the two functions \(g\) and \(f\) to be the function defined explicitly by the formula
  \[
    (g \circ f)(x) \coloneqq g(f(x)).
  \]
  If the range of \(f\) does not match the domain of \(g\), we leave the composition \(g \circ f\) undefined.
\end{defn}

\begin{note}
  Composition is not commutative: \(f \circ g\) and \(g \circ f\) are not necessarily the same function.
\end{note}

\setcounter{thm}{11}
\begin{lem}[Composition is associative]\label{3.3.12}
  Let \(f : Z \to W\), \(g : Y \to Z\), and \(h : X \to Y\) be functions.
  Then \(f \circ (g \circ h) = (f \circ g) \circ h\).
\end{lem}

\begin{proof}
  Since \(g \circ h\) is a function from \(X\) to \(Z\), \(f \circ (g \circ h)\) is a function from \(X\) to \(W\).
  Similarly \(f \circ g\) is a function from \(Y\) to \(W\), and hence \((f \circ g) \circ h\) is a function from \(X\) to \(W\).
  Thus \(f \circ (g \circ h)\) and \((f \circ g) \circ h\) have the same domain and range.
  In order to check that they are equal, we see from \cref{3.3.7} that we have to verify that \((f \circ (g \circ h))(x) = ((f \circ g) \circ h)(x)\) for all \(x \in X\).
  But by \cref{3.3.10}
  \begin{align*}
    (f \circ (g \circ h))(x)
     & = f((g \circ h)(x))        \\
     & = f(g(h(x)))               \\
     & = (f \circ g)(h(x))        \\
     & = ((f \circ g) \circ h)(x)
  \end{align*}
  as desired.
\end{proof}

\setcounter{thm}{13}
\begin{defn}[One-to-one function]\label{3.3.14}
  A function \(f\) is \emph{one-to-one} (or \emph{injective}) if different elements map to different elements:
  \[
    x \neq x' \implies f(x) \neq f(x').
  \]

  Equivalently, a function is one-to-one if
  \[
    f(x) = f(x') \implies x = x'.
  \]
\end{defn}

\setcounter{thm}{15}
\begin{rmk}\label{3.3.16}
  If a function \(f : X \to Y\) is not one-to-one, then one can find distinct \(x\) and \(x'\) in the domain \(X\) such that \(f(x) = f(x')\), thus one can find two inputs which map to one output.
  Because of this, we say that \(f\) is \emph{two-to-one} instead of \emph{one-to-one}.
\end{rmk}

\begin{defn}[Onto functions]\label{3.3.17}
  A function \(f\) is \emph{onto} (or \emph{surjective}) if \(f(X) = Y\), i.e., every element in \(Y\) comes from applying \(f\) to some element in \(X\):
  \[
    \text{For every } y \in Y, \text{there exists } x \in X \text{ such that } f(x) = y.
  \]
\end{defn}

\setcounter{thm}{18}
\begin{rmk}\label{3.3.19}
  The concepts of injectivity and surjectivity are in many ways dual to each other.
\end{rmk}

\begin{defn}[Bijective functions]\label{3.3.20}
  Functions \(f : X \to Y\) which are both one-to-one and onto are also called \emph{bijective} or \emph{invertible}.
\end{defn}

\setcounter{thm}{22}
\begin{rmk}\label{3.3.23}
  If a function \(x \mapsto f(x)\) is bijective, then we sometimes call \(f\) a \emph{perfect matching} or a \emph{one-to-one correspondence} (not to be confused with the notion of a one-to-one function), and denote the action of \(f\) using the notation \(x \leftrightarrow f(x)\) instead of \(x \mapsto f(x)\).
\end{rmk}

\begin{note}
  If \(f\) is bijective, then for every \(y \in Y\), there is exactly one \(x\) such that \(f(x) = y\) (there is at least one because of surjectivity, and at most one because of injectivity).
  This value of \(x\) is denoted \(f^{-1}(y)\); thus \(f^{-1}\) is a function from \(Y\) to \(X\).
  We call \(f^{-1}\) the \emph{inverse} of \(f\).
\end{note}

\exercisesection

\begin{ex}\label{ex:3.3.1}
  Show that the definition of equality in \cref{3.3.7} is reflexive, symmetric, and transitive.
  Also verify the substitution property: if \(f, \tilde{f} : X \to Y\) and \(g, \tilde{g} : Y \to Z\) are functions such that \(f = \tilde{f}\) and \(g = \tilde{g}\), then \(g \circ f = \tilde{g} \circ \tilde{f}\).
  Of course, these statements are immediate from the axioms of equality in Appendix A.7 applied directly to the functions in question, but the point of the exercise is to show that they can also be established by instead applying the axioms of equality to elements of the domain and range of these functions, rather than to the functions itself.
\end{ex}

\begin{proof}
  We first show that \cref{3.3.7} is reflexive.
  Suppose that \(X, Y\) are sets and \(f : X \to Y\) is a function.
  Then we have
  \begin{align*}
             & (X = X) \land (Y = Y)                 & \text{(by \cref{ac:3.1.1})} \\
             & \land (\forall x \in X : f(x) = f(x)) & \text{(by \cref{3.3.1})}    \\
    \implies & (f = f).                              & \text{(by \cref{3.3.7})}
  \end{align*}
  Thus \cref{3.3.7} is reflexive.

  Next we show that \cref{3.3.7} is symmetric.
  Suppose that \(X, Y\) are sets and \(f : X \to Y, g : X \to Y\) are functions such that \(f = g\).
  Then we have
  \begin{align*}
         & f = g                                                                                  \\
    \iff & (X = X) \land (Y = Y) \land (\forall x \in X : f(x) = g(x)) & \text{(by \cref{3.3.7})} \\
    \iff & (X = X) \land (Y = Y) \land (\forall x \in X : g(x) = f(x))                            \\
    \iff & g = f.                                                      & \text{(by \cref{3.3.7})}
  \end{align*}
  Thus \cref{3.3.7} is symmetric.

  Next we show that \cref{3.3.7} is transitive.
  Suppose that \(X, Y\) are sets and \(f : X \to Y, g : X \to Y, h : X \to Y\) are functions such that \(f = g \land g = h\).
  Then we have
  \begin{align*}
             & (f = g) \land (g = h)                                                                  \\
    \implies & (X = X) \land (Y = Y)                                                                  \\
             & \land (\forall x \in X : f(x) = g(x))                       & \text{(by \cref{3.3.7})} \\
             & \land (\forall x \in X : g(x) = h(x))                       & \text{(by \cref{3.3.7})} \\
    \implies & (X = X) \land (Y = Y) \land (\forall x \in X : f(x) = h(x))                            \\
    \implies & f = h.                                                      & \text{(by \cref{3.3.7})}
  \end{align*}
  Thus \cref{3.3.7} is transitive.

  Now we show that Axiom of substitution holds for composition.
  Suppose that \(X, Y, Z\) are sets and \(f : X \to Y, \tilde{f} : X \to Y, g : Y \to Z, \tilde{g} : Y \to Z\) are functions such that \(f = \tilde(f) \land g = \tilde{g}\).
  By \cref{3.3.10} we have \(g \circ f : X \to Z\) and \(\tilde{g} \circ \tilde{f} : X \to Z\).
  Then we have
  \begin{align*}
         & \forall x \in X : (g \circ f)(x) = g(f(x))                        & \text{(by \cref{3.3.10})} \\
    \iff & \forall x \in X : (g \circ f)(x) = g(\tilde{f}(x))                & \text{(by \cref{3.3.7})}  \\
    \iff & \forall x \in X : (g \circ f)(x) = \tilde{g}(\tilde{f}(x))        & \text{(by \cref{3.3.7})}  \\
    \iff & \forall x \in X : (g \circ f)(x) = (\tilde{g} \circ \tilde{f})(x) & \text{(by \cref{3.3.10})} \\
    \iff & g \circ f = \tilde{g} \circ \tilde{f}.                            & \text{(by \cref{3.3.7})}
  \end{align*}
\end{proof}

\begin{ex}\label{ex:3.3.2}
  Let \(f : X \to Y\) and \(g : Y \to Z\) be functions.
  Show that if \(f\) and \(g\) are both injective, then so is \(g \circ f\);
  similarly, show that if \(f\) and \(g\) are both surjective, then so is \(g \circ f\).
\end{ex}

\begin{proof}
  We first show that \(f, g\) are injective implies \(g \circ f\) is injective.
  Suppose that \(X, Y, Z\) are sets and \(f : X \to Y, g : Y \to Z\) are functions such that \(f, g\) are injective.
  Then we have
  \begin{align*}
             & \forall x, x' \in X : (g \circ f)(x) = (g \circ f)(x')                             \\
    \implies & g(f(x)) = g(f(x'))                                     & \text{(by \cref{3.3.10})} \\
    \implies & f(x) = f(x')                                           & \text{(by \cref{3.3.14})} \\
    \implies & x = x'.                                                & \text{(by \cref{3.3.14})}
  \end{align*}
  Since \((g \circ f)(x) = (g \circ f)(x') \implies x = x'\), by \cref{3.3.14} \(g \circ f\) is injective.

  Now we show that \(f, g\) are surjective implies \(g \circ f\) is surjective.
  Suppose that \(X, Y, Z\) are sets and \(f : X \to Y, g : Y \to Z\) are functions such that \(f, g\) are surjective.
  Then we have
  \begin{align*}
             & (\forall z \in Z, \exists\ y \in Y : z = g(y))          & \text{(by \cref{3.3.17})} \\
             & \land (\forall y \in Y, \exists\ x \in X : y = f(x))    & \text{(by \cref{3.3.17})} \\
    \implies & \forall z \in Z, \exists\ x \in X : z = g(f(x))                                     \\
    \implies & \forall z \in Z, \exists\ x \in X : z = (g \circ f)(x). & \text{(by \cref{3.3.10})}
  \end{align*}
  Since \(\forall z \in Z, \exists\ x \in X : z = (g \circ f)(x)\), by \cref{3.3.17} \(g \circ f\) is surjective.
\end{proof}

\begin{ex}\label{ex:3.3.3}
  When is the empty function into a given set \(X\) injective?
  surjective?
  bijective?
\end{ex}

\begin{proof}
  Suppose that \(X\) is a set and \(f : \emptyset \to X\) is the empty function.
  \(f\) is always injective since \(\forall x, x' \in \emptyset\), \(f(x) = f(x') \implies x = x'\) (which is vacuously true).
  For surjective we can split into two cases:
  \begin{itemize}
    \item If \(X \neq \emptyset\), then \(f\) is not surjective, since \(\forall y \in X\), \(\nexists x \in \emptyset\) such that \(f(x) = y\).
    \item If \(X = \emptyset\), then \(f\) is surjective, since \(\forall y \in \emptyset\), \(\exists\ x \in \emptyset\) such that \(f(x) = y\) (which is vacuously true).
  \end{itemize}
  From proof above we see that the empty function \(f\) is bijective iff \(X = \emptyset\).
\end{proof}

\begin{ex}\label{ex:3.3.4}
  In this section we give some cancellation laws for composition.
  Let \(f : X \to Y\), \(\tilde{f} : X \to Y\), \(g : Y \to Z\), and \(\tilde{g} : Y \to Z\) be functions.
  Show that if \(g \circ f = g \circ \tilde{f}\) and g is injective, then \(f = \tilde{f}\).
  Is the same statement true if \(g\) is not injective?
  Show that if \(g \circ f = \tilde{g} \circ f\) and \(f\) is surjective, then \(g = \tilde{g}\).
  Is the same statement true if \(f\) is not surjective?
\end{ex}

\begin{proof}
  We first show that \(g\) is injective and \(g \circ f = g \circ \tilde{f}\) implies \(f = \tilde{f}\).
  Suppose that \(X, Y, Z\) are sets and \(f : X \to Y, \tilde{f} : X \to Y, g : Y \to Z\) are functions such that \(g\) is injective and \(g \circ f = g \circ \tilde{f}\).
  Then we have
  \begin{align*}
             & g \circ f = g \circ \tilde{f}                                                         \\
    \implies & \forall x \in X : (g \circ f)(x) = (g \circ \tilde{f})(x) & \text{(by \cref{3.3.7})}  \\
    \implies & g(f(x)) = g(\tilde{f}(x))                                 & \text{(by \cref{3.3.10})} \\
    \implies & f(x) = \tilde{f}(x)                                       & \text{(by \cref{3.3.14})} \\
    \implies & f = \tilde{f}.                                            & \text{(by \cref{3.3.7})}
  \end{align*}
  The statement is not true when \(g\) is not injective.

  Now we show that \(f\) is surjective and \(g \circ f = \tilde{g} \circ f\) implies \(g = \tilde{g}\).
  Suppose that \(X, Y, Z\) are sets and \(f : X \to Y, g : Y \to Z, \tilde{g} : Y \to Z\) are functions such that \(f\) is surjective and \(g \circ f = \tilde{g} \circ f\).
  Then we have
  \begin{align*}
             & \forall y \in Y, \exists\ x \in X : y = f(x) & \text{(by \cref{3.3.17})} \\
    \implies & g(y) = g(f(x))                               & \text{(by \cref{3.3.1})}  \\
    \implies & g(y) = (g \circ f)(x)                        & \text{(by \cref{3.3.10})} \\
    \implies & g(y) = (\tilde{g} \circ f)(x)                & \text{(by \cref{3.3.7})}  \\
    \implies & g(y) = \tilde{g}(f(x)) = \tilde{g}(y)        & \text{(by \cref{3.3.10})} \\
    \implies & g = \tilde{g}.                               & \text{(by \cref{3.3.7})}
  \end{align*}
  The statement is not true when \(f\) is not surjective.
\end{proof}

\begin{ex}\label{ex:3.3.5}
  Let \(f : X \to Y\) and \(g : Y \to Z\) be functions.
  Show that if \(g \circ f\) is injective, then \(f\) must be injective.
  Is it true that \(g\) must also be injective?
  Show that if \(g \circ f\) is surjective, then \(g\) must be surjective.
  Is it true that \(f\) must also be surjective?
\end{ex}

\begin{proof}
  We first show that \(g \circ f\) is injective implies \(f\) is injective.
  Suppose \(X, Y, Z\) are sets and \(f : X \to Y, g : Y \to Z\) are functions such that \(g \circ f\) is injective.
  Then we have
  \begin{align*}
             & \forall x, x' \in X : f(x) = f(x')                             \\
    \implies & g(f(x)) = g(f(x'))                 & \text{(by \cref{3.3.1})}  \\
    \implies & (g \circ f)(x) = (g \circ f)(x')   & \text{(by \cref{3.3.10})} \\
    \implies & x = x'.                            & \text{(by \cref{3.3.14})}
  \end{align*}
  Since \(\forall x, x' \in X : f(x) = f(x') \implies x = x'\), by \cref{3.3.14} \(f\) is injective.
  And we don't need \(g\) to be injective.

  Now we show that \(g \circ f\) is surjective implies \(g\) is surjective.
  Suppose \(X, Y, Z\) are sets and \(f : X \to Y, g : Y \to Z\) are functions such that \(g \circ f\) is surjective.
  Then we have
  \begin{align*}
             & \forall z \in Z, \exists\ x \in X : z = (g \circ f)(x) & \text{(by \cref{3.3.17})} \\
    \implies & \forall z \in Z, \exists\ x \in X : z = g(f(x))        & \text{(by \cref{3.3.10})} \\
    \implies & \forall z \in Z, \exists\ f(x) \in Y : z = g(f(x))     & \text{(by \cref{3.3.1})}  \\
    \implies & g \text{ is surjective}.                               & \text{(by \cref{3.3.17})}
  \end{align*}
  And we don't need \(f\) to be surjective.
\end{proof}

\begin{ex}\label{ex:3.3.6}
  Let \(f : X \to Y\) be a bijective function, and let \(f^{-1} : Y \to X\) be its inverse.
  Verify the cancellation laws \(f^{-1}(f(x)) = x\) for all \(x \in X\) and \(f(f^{-1}(y)) = y\) for all \(y \in Y\).
  Conclude that \(f^{-1}\) is also invertible, and has \(f\) as its inverse (thus \((f^{-1})^{-1} = f\)).
\end{ex}

\begin{proof}
  We first show that \(f\) is bijective implies \(f^{-1}(f(x)) = x \land f(f^{-1}(y)) = y\).
  Suppose \(X, Y\) are sets and \(f : X \to Y\) is a function such that \(f\) is bijective.
  Then we have \(f^{-1} : Y \to X\) as inverse of \(f\) and
  \begin{align*}
             & \forall x \in X, \forall y \in Y : f(x) = y \iff f^{-1}(y) = x                            \\
    \implies & f^{-1}(f(x)) = x \land f(f^{-1}(y)) = y.                       & \text{(by \cref{3.3.1})}
  \end{align*}

  Now we show that \(f\) is bijective implies \((f^{-1})^{-1} = f\).
  Suppose \(X, Y\) are sets and \(f : X \to Y\) is a function such that \(f\) is bijective.
  Then we have \(f^{-1} : Y \to X\) as inverse of \(f\) and \((f^{-1})^{-1} : X \to Y\) as inverse of \(f^{-1}\) such that
  \begin{align*}
             & \forall x \in X, \forall y \in Y :                                                 \\
             & (f(x) = y \iff f^{-1}(y) = x \iff (f^{-1})^{-1}(x) = y)                            \\
    \implies & f = (f^{-1})^{-1}.                                      & \text{(by \cref{3.3.7})}
  \end{align*}
\end{proof}

\begin{ex}\label{ex:3.3.7}
  Let \(f : X \to Y\) and \(g : Y \to Z\) be functions.
  Show that if \(f\) and \(g\) are bijective, then so is \(g \circ f\), and we have \((g \circ f)^{-1} = f^{-1} \circ g^{-1}\).
\end{ex}

\begin{proof}
  We first show that \(f, g\) are bijective implies \(g \circ f\) is bijective.
  Suppose \(X, Y, Z\) are sets and \(f : X \to Y, g : Y \to Z\) are functions such that \(f, g\) are bijective.
  Then we have
  \begin{align*}
             & f, g \text{ are bijective}                                                                           \\
    \implies & f, g \text{ are injective} \land f, g \text{ are surjective}           & \text{(by \cref{3.3.20})}   \\
    \implies & g \circ f \text{ are injective} \land g \circ f \text{ are surjective} & \text{(by \cref{ex:3.3.2})} \\
    \implies & g \circ f \text{ is bijective}.                                        & \text{(by \cref{3.3.20})}
  \end{align*}

  Now we show that \(f, g\) are bijective implies \((g \circ f)^{-1} = f^{-1} \circ g^{-1}\).
  Suppose \(X, Y, Z\) are sets and \(f : X \to Y, g : Y \to Z\) are functions such that \(f, g\) are bijective.
  From proof above we know that \(g \circ f\) is also bijective.
  Then we have
  \begin{align*}
             & \forall x \in X, \forall y \in Y, \forall z \in Z :                                 \\
             & (y = f(x) \iff x = f^{-1}(y)                                                        \\
             & \land (z = g(y) \iff y = g^{-1}(z)                                                  \\
             & \land (z = (g \circ f)(x) \iff x = (g \circ f)^{-1}(z))                             \\
    \implies & f^{-1}(g^{-1}(z)) = (g \circ f)^{-1}(z)                 & \text{(by \cref{3.3.1})}  \\
    \implies & (f^{-1} \circ g^{-1})(z) = (g \circ f)^{-1}(z)          & \text{(by \cref{3.3.10})} \\
    \implies & f^{-1} \circ g^{-1} = (g \circ f)^{-1}.                 & \text{(by \cref{3.3.7})}
  \end{align*}
\end{proof}

\begin{ex}\label{ex:3.3.8}
  If \(X\) is a subset of \(Y\), let \(\iota_{X \to Y} : X \to Y\) be the \emph{inclusive map from \(X\) to \(Y\)}, defined by mapping \(x \mapsto x\) for all \(x \in X\), i.e., \(\iota_{X \to Y}(x) \coloneqq x\) for all \(x \in X\).
  The map \(\iota_{X \to X}\) is in particular called the \emph{identity map} on \(X\).
  \begin{enumerate}
    \item Show that if \(X \subseteq Y \subseteq Z\) then \(\iota_{Y \to Z} \circ \iota_{X \to Y} = \iota_{X \to Z}\).
    \item Show that if \(f : A \to B\) is any function, then \(f = f \circ \iota_{A \to A} = \iota_{B \to B} \circ f\).
    \item Show that if \(f : A \to B\) is a bijective function, then \(f \circ f^{-1} = \iota_{B \to B}\) and \(f^{-1} \circ f = \iota_{A \to A}\).
    \item Show that if \(X\) and \(Y\) are disjoint sets, and \(f : X \to Z\) and \(g : Y \to Z\) are functions, then there is a unique function \(h : X \cup Y \to Z\) such that \(h \circ \iota_{X \to X \cup Y} = f\) and \(h \circ \iota_{Y \to X \cup Y} = g\).
  \end{enumerate}
\end{ex}

\begin{proof}{(a)}
  Suppose that \(X, Y, Z\) are sets such that \(X \subseteq Y \subseteq Z\).
  Let \(\iota_{X \to Y} : X \to Y, \iota_{Y \to Z} : Y \to Z, \iota_{X \to Z} : X \to Z\) be functions such that \(\forall x \in X : \iota_{X \to Y}(x) = \iota_{X \to Z}(x) = x\) and \(\forall y \in Y : \iota_{Y \to Z}(y) = y\).
  Then we have
  \begin{align*}
    \forall x \in X : (\iota_{Y \to Z} \circ \iota_{X \to Y})(x) & = \iota_{Y \to Z}(\iota_{X \to Y}(x)) & \text{(by \cref{3.3.10})} \\
                                                                 & = \iota_{Y \to Z}(x)                                              \\
                                                                 & = x                                                               \\
                                                                 & = \iota_{X \to Z}(x).
  \end{align*}
  Thus by \cref{3.3.7} we have \(\iota_{Y \to Z} \circ \iota_{X \to Y} = \iota_{X \to Z}\).
\end{proof}

\begin{proof}{(b)}
  Suppose that \(A, B\) are sets and \(f : A \to B, \iota_{A \to A} : A \to A, \iota_{B \to B} : B \to B\) are functions such that \(\forall a \in A : \iota_{A \to A}(a) = a\) and \(\forall b \in B : \iota_{B \to B}(b) = b\).
  Then we have
  \begin{align*}
    \forall a \in A : f(a) & = f(\iota_{A \to A}(a))                                     \\
                           & = (f \circ \iota_{A \to A})(a)  & \text{(by \cref{3.3.10})} \\
                           & = \iota_{B \to B}(f(a))                                     \\
                           & = (\iota_{B \to B} \circ f)(a). & \text{(by \cref{3.3.10})}
  \end{align*}
  Thus by \cref{3.3.7} we have \(f = f \circ \iota_{A \to A} = \iota_{B \to B} \circ f\).
\end{proof}

\begin{proof}{(c)}
  Suppose that \(A, B\) are sets and \(f : A \to B, \iota_{A \to A} : A \to A, \iota_{B \to B} : B \to B\) are functions such that \(f\) is bijective, \(\forall a \in A : \iota_{A \to A}(a) = a\) and \(\forall b \in B : \iota_{B \to B}(b) = b\).
  Then we have
  \begin{align*}
    \forall a \in A : a & = f^{-1}(f(a))        & \text{(by \cref{ex:3.3.6})} \\
                        & = (f^{-1} \circ f)(a) & \text{(by \cref{3.3.10})}   \\
                        & = \iota_{A \to A}(a).                               \\
    \forall b \in B : b & = f(f^{-1}(b))        & \text{(by \cref{ex:3.3.6})} \\
                        & = (f \circ f^{-1})(b) & \text{(by \cref{3.3.10})}   \\
                        & = \iota_{B \to B}(b).
  \end{align*}
  Thus by \cref{3.3.7} we have \(f^{-1} \circ f = \iota_{A \to A}\) and \(f \circ f^{-1} = \iota_{B \to B}\).
\end{proof}

\begin{proof}{(d)}
  Suppose that \(X, Y, Z\) are sets such that \(X \cap Y = \emptyset\).
  Let \(f : X \to Z, g : Y \to Z\) be functions.
  Let \(\iota_{X \to X \cup Y} : X \to X \cup Y, \iota_{Y \to X \cup Y} : Y \to X \cup Y\) be functions such that \(\forall x \in X : \iota_{X \to X \cup Y}(x) = x\) and \(\forall y \in Y : \iota_{Y \to X \cup Y}(y) = y\).
  We now define a function \(h : X \cup Y \to Z\) as follow:
  \[
    h(i) = \begin{cases}
      f(i) & \text{ if } i \in X \\
      g(i) & \text{ if } i \in Y
    \end{cases}
  \]
  This function is well-defined since by \cref{3.4} \(i \in X \cup Y \iff i \in X \lor i \in Y\), and \(X \cap Y = \emptyset \iff \lnot(i \in X \land i \in Y)\).
  Now we have
  \begin{align*}
    \forall x \in X : h(x) & = h(\iota_{X \to X \cup Y}(x))                                    \\
                           & = (h \circ \iota_{X \to X \cup Y})(x) & \text{(by \cref{3.3.10})} \\
                           & = f(x).                                                           \\
    \forall y \in Y : h(y) & = h(\iota_{Y \to X \cup Y}(y))                                    \\
                           & = (h \circ \iota_{Y \to X \cup Y})(y) & \text{(by \cref{3.3.10})} \\
                           & = g(y).
  \end{align*}
  Thus by \cref{3.3.7} we have \(h \circ \iota_{X \to X \cup Y} = f\) and \(h \circ \iota_{Y \to X \cup Y} = g\).

  Now suppose there exists another function \(h' : X \cup Y \to Z\) such that \(h' \circ \iota_{X \to X \cup Y} = f\) and \(h' \circ \iota_{Y \to X \cup Y} = g\).
  Then we have
  \begin{align*}
    \forall x \in X : f(x) & = (h' \circ \iota_{X \to X \cup Y})(x)                             \\
                           & = h'(\iota_{X \to X \cup Y}(x))        & \text{(by \cref{3.3.10})} \\
                           & = h'(x)                                                            \\
                           & = (h \circ \iota_{X \to X \cup Y})(x)                              \\
                           & = h(\iota_{X \to X \cup Y}(x))         & \text{(by \cref{3.3.10})} \\
                           & = h(x).                                                            \\
    \forall y \in Y : g(y) & = (h' \circ \iota_{Y \to X \cup Y})(y)                             \\
                           & = h'(\iota_{Y \to X \cup Y}(y))        & \text{(by \cref{3.3.10})} \\
                           & = h'(y)                                                            \\
                           & = (h \circ \iota_{Y \to X \cup Y})(y)                              \\
                           & = h(\iota_{Y \to X \cup Y}(y))         & \text{(by \cref{3.3.10})} \\
                           & = h(y).
  \end{align*}
  Thus by \cref{3.3.7} we have \(h = h'\), so \(h\) is unique.
\end{proof}