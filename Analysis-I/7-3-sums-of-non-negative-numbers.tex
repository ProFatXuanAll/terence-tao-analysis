\section{Sums of non-negative numbers}\label{sec 7.3}

\begin{note}
    When all the terms in a series are non-negative, there is no distinction between conditional convergence and absolute convergence.
\end{note}

\begin{proposition}\label{7.3.1}
    Let \(\sum_{n = m}^\infty a_n\) be a formal series of non-negative real numbers.
    Then this series is convergent if and only if there is a real number \(M\) such that
    \[
        \sum_{n = m}^N a_n \leq M \text{ for all integers } N \geq m.
    \]
\end{proposition}

\begin{proof}
    Suppose \(\sum_{n = m}^\infty a_n\) is a series of non-negative numbers.
    Then the partial sums \(S_N \coloneqq \sum_{n = m}^N a_n\) are increasing, i.e., \(S_{N + 1} \geq S_N\) for all \(N \geq m\).
    From Proposition \ref{6.3.8} and Corollary \ref{6.1.17}, we thus see that the sequence \((S_N)_{n = m}^\infty\) is convergent if and only if it has an upper bound \(M\).
\end{proof}

\begin{corollary}[Comparison test]\label{7.3.2}
    Let \(\sum_{n = m}^\infty a_n\) and \(\sum_{n = m}^\infty b_n\) be two formal series of real numbers, and suppose that \(\abs*{a_n} \leq b_n\) for all \(n \geq m\).
    Then if \(\sum_{n = m}^\infty b_n\) is convergent, then \(\sum_{n = m}^\infty a_n\) is absolutely convergent, and in fact
    \[
        \abs*{\sum_{n = m}^\infty a_n} \leq \sum_{n = m}^\infty \abs*{a_n} \leq \sum_{n = m}^\infty b_n.
    \]
\end{corollary}

\begin{proof}
    Let \(N \in \mathbf{N}\).
    Then we have
    \begin{align*}
                 & \sum_{n = m}^\infty b_n \text{ converges}                                                                                                    \\
        \implies & \exists\ M \in \mathbf{R} : \forall N \geq m, \sum_{n = m}^N b_n \leq M                                & \text{(by Proposition \ref{7.3.1})} \\
        \implies & \exists\ M \in \mathbf{R} : \forall N \geq m, \sum_{n = m}^N \abs*{a_n} \leq \sum_{n = m}^N b_n \leq M & \text{(by hypothesis)}              \\
        \implies & \sum_{n = m}^\infty \abs*{a_n} \text{ converges}                                                       & \text{(by Proposition \ref{7.3.1})} \\
        \implies & \sum_{n = m}^\infty \abs*{a_n} \leq \sum_{n = m}^\infty b_n                                            & \text{(by Lemma \ref{6.4.13})}      \\
        \implies & \abs*{\sum_{n = m}^\infty a_n} \leq \sum_{n = m}^\infty \abs*{a_n} \leq \sum_{n = m}^\infty b_n.       & \text{(by Proposition \ref{7.2.9})}
    \end{align*}
\end{proof}

\begin{note}
    We can also run the comparison test in the contrapositive:
    if we have \(\abs*{a_n} \leq b_n\) for all \(n \geq m\), and \(\sum_{n = m}^\infty a_n\) is not absolutely convergent, then \(\sum_{n = m}^\infty b_n\) is not conditionally convergent.
\end{note}

\begin{lemma}[Geometric series]\label{7.3.3}
    Let \(x\) be a real number.
    If \(\abs*{x} \geq 1\), then the series \(\sum_{n = 0}^\infty x^n\) is divergent.
    If however \(\abs*{x} < 1\), then the series is absolutely convergent and
    \[
        \sum_{n = 0}^\infty x^n = 1 / (1 - x).
    \]
\end{lemma}

\begin{proof}
    We first show that if \(\abs*{x} \geq 1\), then \(\sum_{n = 0}^\infty x^n\) is divergent.
    We split into two cases:
    \begin{enumerate}
        \item If \(x = 1\), then \(\lim_{n \to \infty} x^n = 1\). By zero test (Corollary \ref{7.2.6}) \(\sum_{n = 0}^\infty x^n\) diverges.
        \item If \(x = -1\) or \(\abs*{x} > 1\), then by Lemma \ref{6.5.2} \(\lim_{n \to \infty} x^n\) diverges.
              Thus by zero test (Corollary \ref{7.2.6}) \(\sum_{n = 0}^\infty x^n\) diverges.
    \end{enumerate}
    From all cases above we conclude that if \(\abs*{x} \geq 1\), then \(\sum_{n = 0}^\infty x^n\) diverges.

    Next we show that \(\sum_{n = 0}^N x^n = (1 - x^{N + 1}) / (1 - x)\).
    We use induction on \(N\).
    For \(N = 0\), by Definition \ref{7.1.1} we have
    \[
        \sum_{n = 0}^0 x^n = x^0 = 1 = \frac{1 - x}{1 - x} = \frac{1 - x^1}{1 - x}.
    \]
    So the base case holds.
    Suppose inductivly that for some \(N \geq 0\) we have \(\sum_{n = 0}^N x^n = (1 - x^{N + 1}) / (1 - x)\).
    Then for \(N + 1\), we have
    \begin{align*}
        \sum_{n = 0}^{N + 1} x^n & = \sum_{n = 0}^N x^n + x^{N + 1}                                    & \text{(by Definition \ref{7.1.1})} \\
                                 & = \frac{1 - x^{N + 1}}{1 - x} + x^{N + 1}                           & \text{(by induction hypothesis)}   \\
                                 & = \frac{1 - x^{N + 1}}{1 - x} + \frac{(1 - x) x^{N + 1}}{1 - x}                                          \\
                                 & = \frac{1 - x^{N + 1}}{1 - x} + \frac{x^{N + 1} - x^{N + 2}}{1 - x}                                      \\
                                 & = \frac{1 - x^{N + 2}}{1 - x}.
    \end{align*}
    This closes the induction.
    Using similar argument we can show that
    \[
        \sum_{n = 0}^N \abs*{x^n} = \frac{1 - \abs*{x^{N + 1}}}{1 - \abs*{x}}.
    \]

    Now we use the induction result to show that if \(\abs*{x} < 1\), then \(\sum_{n = 0}^\infty x^n\) is absolutely convergent and \(\sum_{n = 0}^\infty x^n = 1 / (1 - x)\).
    \begin{align*}
        \sum_{n = 0}^\infty x^n & = \lim_{N \to \infty} \sum_{n = 0}^N x^n                              & \text{(by Definition \ref{7.2.2})}              \\
                                & = \lim_{N \to \infty} \frac{1 - x^{N + 1}}{1 - x}                     & \text{(from claim above)}                       \\
                                & = \frac{\lim_{N \to \infty} 1 - x^{N + 1}}{1 - x}                     & \text{(by Theorem \ref{6.1.19}(f))}             \\
                                & = \frac{\lim_{N \to \infty} 1 - \lim_{N \to \infty} x^{N + 1}}{1 - x} & \text{(by Theorem \ref{6.1.19}(d))}             \\
                                & = \frac{1 - (\lim_{N \to \infty} x^{N + 1})}{1 - x}                   & \text{(by Additional Corollary \ref{ac 6.5.1})} \\
                                & = \frac{1 - 0}{1 - x}                                                 & \text{(by Lemma \ref{6.5.2})}                   \\
                                & = \frac{1}{1 - x}.
    \end{align*}
    Using similar argument we can show that \(\sum_{n = 0}^\infty \abs*{x^n} = 1 / (1 - \abs*{x})\).
    Thus we conclude that if \(\abs*{x} < 1\), then \(\sum_{n = 0}^\infty x^n\) is absolutely convergent and \(\sum_{n = 0}^\infty x^n = 1 / (1 - x)\).
\end{proof}

\begin{proposition}[Cauchy criterion]\label{7.3.4}
    Let \((a_n)_{n = 1}^\infty\) be a decreasing sequence of non-negative real numbers
    (so \(a_n \geq 0\) and \(a_{n + 1} \leq a_n\) for all \(n \geq 1\)).
    Then the series \(\sum_{n = 1}^\infty a_n\) is convergent if and only if the series
    \[
        \sum_{k = 0}^\infty 2^k a_{2^k} = a_1 + 2a_2 + 4a_4 + 8a_8 + \dots
    \]
    is convergent.
\end{proposition}

\begin{proof}
    Let \(S_N \coloneqq \sum_{n = 1}^N a_n\) be the partial sums of \(\sum_{n = 1}^\infty a_n\), and let \(T_K \coloneqq \sum_{k = 0}^K 2^k a_{2^k}\) be the partial sums of \(\sum_{k = 0}^\infty 2^k a_{2^k}\).
    In light of Proposition \ref{7.3.1}, our task is to show that the sequence \((S_N)_{N = 1}^\infty\) is bounded if and only if the sequence \((T_K)_{K = 0}^\infty\) is bounded.
    From Lemma \ref{7.3.6} we see that if \((S_N)_{N = 1}^\infty\) is bounded, then \((S_{2^K})_{K = 0}^\infty\) is bounded, and hence \((T_K)_{K = 0}^\infty\) is bounded.
    Conversely, if \((T_K)_{K = 0}^\infty\) is bounded, then Lemma \ref{7.3.6} implies that \((S_{2^{K + 1} - 1})_{K = 0}^\infty\) is bounded, i.e., there is an \(M\) such that \(S_{2^{K + 1} - 1} \leq M\) for all natural numbers \(K\).
    But one can easily show (using induction) that \(2^{K + 1} - 1 \geq K + 1\), and hence that \(S_{K + 1} \leq M\) for all natural numbers \(K\), hence \((S_N)_{N = 1}^\infty\) is bounded.
\end{proof}

\begin{remark}\label{7.3.5}
    An interesting feature of this criterion is that it only uses a small number of elements of the sequence \(a_n\)
    (namely, those elements whose index \(n\) is a power of \(2\), \(n = 2^k\))
    in order to determine whether the whole series is convergent or not.
\end{remark}

\begin{lemma}\label{7.3.6}
    For any natural number \(K\), we have \(S_{2^{K + 1} - 1} \leq T_K \leq 2S_{2^K}\).
\end{lemma}

\begin{proof}
    We use induction on \(K\).
    First we prove the claim when \(K = 0\), i.e.
    \[
        S_1 \leq T_0 \leq 2S_1.
    \]
    This becomes
    \[
        a_1 \leq a_1 \leq 2a_1
    \]
    which is clearly true, since \(a_1\) is non-negative.
    Now suppose the claim has been proven for \(K\), and now we try to prove it for \(K + 1\):
    \[
        S_{2^{K + 2} - 1} \leq T_{K + 1} \leq 2S_{2^{K + 1}}.
    \]
    Clearly we have
    \[
        T_{K + 1} = T_K + 2^{K + 1} a_{2^{K + 1}}.
    \]
    Also, we have
    (using Lemma \ref{7.1.4}(a) and (f), and the hypothesis that the \(a_n\) are decreasing)
    \[
        S_{2^{K + 1}} = S_{2^K} + \sum_{n = 2^K + 1}^{2^{K + 1}} a_n \geq S_{2^K} + \sum_{n = 2^K + 1}^{2^{K + 1}} a_{2^{K + 1}} = S_{2^K} + 2^K a_{2^{K + 1}}
    \]
    and hence
    \[
        2S_{2^{K + 1}} \geq 2S_{2^K} + 2^{K + 1} a_{2^{K + 1}}.
    \]
    Similarly we have
    \begin{align*}
        S_{2^{K + 2} - 1} & = S_{2^{K + 1} - 1} + \sum_{n = 2^{K + 1}}^{2^{K + 2} - 1} a_n              \\
                          & \leq S_{2^{K + 1} - 1} + \sum_{n = 2^{K + 1}}^{2^{K + 2} - 1} a_{2^{K + 1}} \\
                          & = S_{2^{K + 1} - 1} + 2^{K + 1} a_{2^{K + 1}}.
    \end{align*}
    Combining these inequalities with the induction hypothesis
    \[
        S_{2^{K + 1} - 1} \leq T_K \leq 2S_{2^K}
    \]
    we obtain
    \[
        S_{2^{K + 2} - 1} \leq T_{K + 1} \leq 2S_{2^{K + 1}}
    \]
    as desired.
    This proves the claim.
\end{proof}

\begin{corollary}\label{7.3.7}
    Let \(q > 0\) be a real number.
    Then the series \(\sum_{n = 1}^\infty 1 / n^q\) is convergent when \(q > 1\) and divergent when \(q \leq 1\).
\end{corollary}

\begin{proof}
    The sequence \((1 / n^q)_{n = 1}^\infty\) is non-negative and decreasing (by Proposition \ref{6.7.3}), and so the Cauchy criterion (Proposition \ref{7.3.4}) applies.
    Thus this series is convergent if and only if
    \[
        \sum_{k = 0}^\infty 2^k \frac{1}{(2^k)^q}
    \]
    is convergent.
    But by the laws of exponentiation (Proposition \ref{6.7.3}) we can rewrite this as the geometric series
    \[
        \sum_{k = 0}^\infty (2^{1 - q})^k.
    \]
    By Lemma \ref{7.3.3}, the geometric series \(\sum_{k = 0}^\infty x^k\) converges if and only if \(\abs*{x} < 1\).
    Thus the series \(\sum_{n = 1}^\infty 1 / n^q\) will converge if and only if \(\abs*{2^{1 - q}} < 1\), which happens if and only if \(q > 1\).
\end{proof}

\begin{note}
    In particular, the series \(\sum_{n = 1}^\infty 1 / n\) (also known as the \emph{harmonic series}) is divergent, as claimed earlier.
    However, the series is \(\sum_{n = 1}^\infty 1 / n^2\) convergent.
\end{note}

\begin{remark}\label{7.3.8}
    The quantity \(\sum_{n = 1}^\infty 1 / n^q\), when it converges, is called \(\zeta(q)\), the \\
    \emph{Riemann-zeta function of \(q\)}.
    This function is very important in number theory, and in particular in the distribution of the primes;
    there is a very famous unsolved problem regarding this function, called the \emph{Riemann hypothesis}, but to discuss it further is far beyond the scope of this text.
    I will mention however that there is a US\$ \(1\) million prize
    - and instant fame among all mathematicians -
    attached to the solution to this problem.
\end{remark}

\exercisesection

\begin{exercise}\label{ex 7.3.1}
    Use Proposition \ref{7.3.1} to prove Corollary \ref{7.3.2}.
\end{exercise}

\begin{proof}
    See Corollary \ref{7.3.2}.
\end{proof}

\begin{exercise}\label{ex 7.3.2}
    Prove Lemma \ref{7.3.3}.
\end{exercise}

\begin{proof}
    See Lemma \ref{7.3.3}.
\end{proof}

\begin{exercise}\label{ex 7.3.3}
    Let \(\sum_{n = 0}^\infty a_n\) be an absolutely convergent series of real numbers such that \(\sum_{n = 0}^\infty \abs*{a_n} = 0\).
    Show that \(a_n = 0\) for every natural number \(n\).
\end{exercise}

\begin{proof}
    Let \(N, k \in \mathbf{N}\).
    Then we have \(\forall 0 \leq k \leq N\),
    \begin{align*}
                 & 0 \leq \abs*{a_k} \leq \sum_{n = 0}^N \abs*{a_n}                                                                                                  \\
        \implies & \lim_{N \to \infty} 0 \leq \lim_{N \to \infty} \abs*{a_k} \leq \lim_{N \to \infty} \sum_{n = 0}^N \abs*{a_n} & \text{(by Lemma \ref{6.4.13})}     \\
        \implies & 0 \leq \abs*{a_k} \leq \sum_{n = 0}^\infty \abs*{a_n} = 0                                                    & \text{(by Definition \ref{7.2.2})} \\
        \implies & \abs*{a_k} = 0 = a_k.
    \end{align*}
    Since \(N\) is arbitrary, we have \(a_k = 0\) for every \(k \geq 0\).
\end{proof}