\section{Subsequences}\label{i:sec:6.6}

\begin{defn}[Subsequences]\label{i:6.6.1}
  Let \((a_n)_{n = 0}^\infty\) and \((b_n)_{n = 0}^\infty\) be sequences of real numbers.
  We say that \((b_n)_{n = 0}^\infty\) is a \emph{subsequence} of \((a_n)_{n = 0}^\infty\) iff there exists a function \(f : \N \to \N\) which is strictly increasing (i.e., \(f(n + 1) > f(n)\) for all \(n \in \N\)) such that
  \[
    b_n = a_{f(n)} \text{ for all } n \in \N.
  \]
\end{defn}

\setcounter{thm}{3}
\begin{lem}\label{i:6.6.4}
  Let \((a_n)_{n = 0}^\infty\) and \((b_n)_{n = 0}^\infty\) be sequences of real numbers.
  Then \((a_n)_{n = 0}^\infty\) is a subsequence of \((a_n)_{n = 0}^\infty\).
  Furthermore, if \((b_n)_{n = 0}^\infty\) is a subsequence of \((a_n)_{n = 0}^\infty\), and \((c_n)_{n = 0}^\infty\) is a subsequence of \((b_n)_{n = 0}^\infty\), then \((c_n)_{n = 0}^\infty\) is a subsequence of \((a_n)_{n = 0}^\infty\).
\end{lem}

\begin{proof}
  We first show that \((a_n)_{n = 0}^\infty\) is a subsequence of \((a_n)_{n = 0}^\infty\).
  Let \(f : \N \to \N\) be a function where \(f(n) = n\).
  Since \(f\) is strictly increasing, by \cref{i:6.6.1} we know that \((a_n)_{n = 0}^\infty\) is a subsequence of \((a_n)_{n = 0}^\infty\).

  Now we show that if \((b_n)_{n = 0}^\infty\) is a subsequence of \((a_n)_{n = 0}^\infty\), and \((c_n)_{n = 0}^\infty\) is a subsequence of \((b_n)_{n = 0}^\infty\), then \((c_n)_{n = 0}^\infty\) is a subsequence of \((a_n)_{n = 0}^\infty\).
  Since \((b_n)_{n = 0}^\infty\) is a subsequence of \((a_n)_{n = 0}^\infty\), by \cref{i:6.6.1} \(\exists f : \N \to \N\) such that \(f\) is strictly increasing and \(b_n = a_{f(n)}\).
  Since \((c_n)_{n = 0}^\infty\) is a subsequence of \((b_n)_{n = 0}^\infty\), by \cref{i:6.6.1} \(\exists g : \N \to \N\) such that \(g\) is strictly increasing and \(c_n = b_{g(n)}\).
  Let \(h = g \circ f\).
  Since \(f\) is strictly increasing, \(\forall n_1, n_2 \in \N\), we have \(n_1 < n_2 \implies f(n_1) < f(n_2)\).
  Since \(g\) is strictly increasing, we have \(f(n_1) < f(n_2) \implies g(f(n_1)) < g(f(n_2))\).
  Thus, \(h\) is also strictly increasing, and by \cref{i:6.6.1} \((c_n)_{n = 0}^\infty\) is a subsequence of \((a_n)_{n = 0}^\infty\) where \(c_n = a_{g(f(n))}\).
\end{proof}

\begin{prop}[Subsequences related to limits]\label{i:6.6.5}
  Let \((a_n)_{n = 0}^\infty\) be a sequence of real numbers, and let \(L\) be a real number.
  Then the following two statements are logically equivalent (each one implies the other):
  \begin{enumerate}
    \item The sequence \((a_n)_{n = 0}^\infty\) converges to \(L\).
    \item Every subsequence of \((a_n)_{n = 0}^\infty\) converges to \(L\).
  \end{enumerate}
\end{prop}

\begin{proof}
  We first show that \(\lim_{n \to \infty} a_n = L\) implies every subsequence of \((a_n)_{n = 0}^\infty\) converges to \(L\).
  Let \((b_n)_{n = 0}^\infty\) be a subsequence of \((a_n)_{n = 0}^\infty\), and let \(f : \N \to \N\) be a function where \(b_n = a_{f(n)}\).
  Since \((a_n)_{n = 0}^\infty\) converges to \(L\), we have \(\forall \varepsilon \in \R^+\), \(\exists N \in \N\) such that \(\abs{a_n - L} \leq \varepsilon\) for every \(n \geq N\).
  Since \(f(n) \in \N\), we know that \(\forall f(n) \geq N\), \(\abs{a_{f(n)} - L} = \abs{b_n - L} \leq \varepsilon\).
  Thus, \((b_n)_{n = 0}^\infty\) also converges to \(L\).
  Since \((b_n)_{n = 0}^\infty\) was arbitrary, we conclude that \(\lim_{n \to \infty} a_n = L\) implies every subsequence of \((a_n)_{n = 0}^\infty\) converges to \(L\).

  Now we show that every subsequence of \((a_n)_{n = 0}^\infty\) converges to \(L\) implies \(\lim_{n \to \infty} a_n = L\).
  By \cref{i:6.6.4} we know that \((a_n)_{n = 0}^\infty\) is a subsequence of \((a_n)_{n = 0}^\infty\), thus \(\lim_{n \to \infty} a_n = L\).
  We conclude that every subsequence of \((a_n)_{n = 0}^\infty\) converges to \(L\) iff \(\lim_{n \to \infty} a_n = L\).
\end{proof}

\begin{prop}[Subsequences related to limit points]\label{i:6.6.6}
  Let \((a_n)_{n = 0}^\infty\) be a sequence of real numbers, and let \(L\) be a real number.
  Then the following two statements are logically equivalent.
  \begin{enumerate}
    \item \(L\) is a limit point of \((a_n)_{n = 0}^\infty\).
    \item There exists a subsequence of \((a_n)_{n = 0}^\infty\) which converges to \(L\).
  \end{enumerate}
\end{prop}

\begin{proof}
  We first show that \(L\) is a limit point of \((a_n)_{n = 0}^\infty\) implies there exists a subsequence of \((a_n)_{n = 0}^\infty\) which converges to \(L\).
  Since \(L\) is a limit point of \((a_n)_{n = 0}^\infty\), by \cref{i:6.4.1} \(\forall \varepsilon \in \R^+\), \(\forall n_j > 0\), \(\exists n \geq n_j\) such that \(\abs{a_n - L} \leq \varepsilon\).
  In particular, \(\abs{a_n - L} \leq 1 / j\) for every \(j \in \Z^+\).
  Let \(f : \N \to \N\) be a function where \(f(0) = 0\) and \(f(n_j) = \min\set{n > n_{j - 1} : \abs{a_n - L} \leq 1 / j}\).
  Thus, such \(f\) is well-defined and \((a_{f(n)})_{n = 1}^\infty\) is a subsequence of \((a_n)_{n = 0}^\infty\).
  Now we show that \(\lim_{n \to \infty} a_{f(n)} = L\).
  By the definition of \(f\) we know that \(\forall j \geq 1\), \(\exists N \in \Z^+\) such that \(\abs{a_{f(n)} - L} \leq 1 / j\) for every \(n \geq N\).
  By Archimedian property (\cref{i:5.4.13}) we know that \(\forall \varepsilon \in \R^+\), \(\exists j \in \Z^+\) such that \(j \varepsilon > 1\).
  Thus, \(\forall \varepsilon \in \R^+\), \(\exists N \in \Z^+\) such that \(\abs{a_{f(n)} - L} \leq 1 / j < \varepsilon\) for every \(n \geq N\).
  This means \(\lim_{n \to \infty} a_{f(n)} = L\).

  Now we show that a subsequence of \((a_n)_{n = 0}^\infty\) converges to \(L\) implies \(L\) is a limit point of \((a_n)_{n = 0}^\infty\).
  Let \((b_n)_{n = 0}^\infty\) be a subsequence of \((a_n)_{n = 0}^\infty\) and \(\lim_{n \to \infty} b_n = L\).
  Let \(f : \N \to \N\) be a function where \(b_n = a_{f(n)}\).
  Since \(\lim_{n \to \infty} b_n = L\), \(\forall \varepsilon \in \R^+\), \(\exists n \in \N\) such that \(\abs{b_n - L} \leq \varepsilon\).
  This means \(\forall N \in \N\), \(\exists n \geq N\) such that \(\abs{b_n - L} = \abs{a_{f(n)} - L} \leq \varepsilon\).
  Thus, by \cref{i:6.4.1} \(L\) is a limit point of \((a_n)_{n = 0}^\infty\).
\end{proof}

\begin{rmk}\label{i:6.6.7}
  \cref{i:6.6.5,i:6.6.6} give a sharp contrast between the notion of a limit, and that of a limit point.
  When a sequence has a limit \(L\), then \emph{all} subsequences also converge to \(L\).
  But when a sequence has \(L\) as a limit point, then only \emph{some} subsequences converge to \(L\).
\end{rmk}

\begin{note}
  We can now prove an important theorem in real analysis, due to Bernard Bolzano (1781--1848) and Karl Weierstrass (1815--1897):
  every bounded sequence has a convergent subsequence.
\end{note}

\begin{thm}[Bolzano-Weierstrass theorem]\label{i:6.6.8}
  Let \((a_n)_{n = 0}^\infty\) be a bounded sequence
  (i.e., there exists a real number \(M > 0\) such that \(\abs{a_n} \leq M\) for all \(n \in \N\)).
  Then there is at least one subsequence of \((a_n)_{n = 0}^\infty\) which converges.
\end{thm}

\begin{proof}
  Let \(L\) be the limit superior of the sequence \((a_n)_{n = 0}^\infty\).
  Since we have \(-M \leq a_n \leq M\) for all natural numbers \(n\), it follows from the comparison principle (\cref{i:6.4.13}) that \(-M \leq L \leq M\).
  In particular, \(L\) is a real number (not \(+\infty\) or \(-\infty\)).
  By \cref{i:6.4.12}(e), \(L\) is thus a limit point of \((a_n)_{n = 0}^\infty\).
  Thus, by \cref{i:6.6.6}, there exists a subsequence of \((a_n)_{n = 0}^\infty\) which converges
  (in fact, it converges to \(L\)).
\end{proof}

\begin{note}
  we could as well have used the limit inferior instead of the limit superior in the argument of \cref{i:6.6.8}.
\end{note}

\begin{rmk}\label{i:6.6.9}
  The Bolzano-Weierstrass theorem says that if a sequence is bounded, then eventually it has no choice but to converge in some places;
  it has ``no room'' to spread out and stop itself from acquiring limit points.
  It is not true for unbounded sequences;
  In the language of topology, this means that the interval \(\set{x \in \R : -M \leq x \leq M}\) is \emph{compact}, whereas an unbounded set such as the real line \(\R\) is not compact.
\end{rmk}

\exercisesection

\begin{ex}\label{i:ex:6.6.1}
  Prove \cref{i:6.6.4}.
\end{ex}

\begin{proof}
  See \cref{i:6.6.4}.
\end{proof}

\begin{ex}\label{i:ex:6.6.2}
  Can you find two sequences \((a_n)_{n = 0}^\infty\) and \((b_n)_{n = 0}^\infty\) which are not the same sequence, but such that each is a subsequence of the other?
\end{ex}

\begin{proof}
  Let \((a_n)_{n = 0}^\infty = \set{0, 1, 0, 1, \dots}\) and \((b_n)_{n = 0}^\infty = \set{1, 0, 1, 0, \dots}\).
\end{proof}

\begin{ex}\label{i:ex:6.6.3}
  Let \((a_n)_{n = 0}^\infty\) be a sequence which is not bounded.
  Show that there exists a subsequence \((b_n)_{n = 0}^\infty\) of \((a_n)_{n = 0}^\infty\) such that \(\lim_{n \to \infty} 1 / b_n\) exists and is equal to zero.
\end{ex}

\begin{proof}
  Let \(j \in \N\), and let \(f(n) : \N \to \N\) be a function defined as follow:
  \begin{align*}
    f(0)   & = \min\set{n \in \N : \abs{a_n} \geq 0}                         \\
    f(n_j) & = \min\set{n \in \N : (\abs{a_n} \geq j) \land (n > n_{j - 1})}
  \end{align*}
  Since \((a_n)_{n = 0}^\infty\) is not bounded, we know that \(\exists n \in \N\) such that \(\abs{a_n} \geq j\) for every \(j \in \N\).
  Thus, by \cref{i:5.5.9} such \(f\) is well-defined.
  Let \((b_n)_{n = 1}^\infty\) be a subsequence of \((a_n)_{n = 0}^\infty\) where \(b_n = a_{f(n)}\).
  Then \(0 \leq \abs{1 / b_n} \leq 1 / n\).
  Since \(\lim_{n \to \infty} 0 = 0\) and \(\lim_{n \to \infty} 1 / n = 0\), by squeeze test (\cref{i:6.4.14}) we have \(\lim_{n \to \infty} \abs{1 / b_n} = 0\).
  Since \(\lim_{n \to \infty} \abs{1 / b_n} = 0\), by zero test (\cref{i:6.4.17}) we have \(\lim_{n \to \infty} 1 / b_n = 0\).
  Thus, there exists a subsequence \((b_n)_{n = 0}^\infty\) of \((a_n)_{n = 0}^\infty\) such that \(\lim_{n \to \infty} 1 / b_n = 0\)
\end{proof}

\begin{ex}\label{i:ex:6.6.4}
  Prove \cref{i:6.6.5}.
\end{ex}

\begin{proof}
  See \cref{i:6.6.5}.
\end{proof}

\begin{ex}\label{i:ex:6.6.5}
  Prove \cref{i:6.6.6}.
\end{ex}

\begin{proof}
  See \cref{i:6.6.6}.
\end{proof}
