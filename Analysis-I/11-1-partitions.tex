\section{Partitions}\label{i:sec:11.1}

\begin{defn}\label{i:11.1.1}
  Let \(X\) be a subset of \(\R\).
  We say that \(X\) is \emph{connected} iff \(X\) is nonempty and the following property is true:
  whenever \(x, y\) are elements in \(X\) such that \(x < y\), the bounded interval \([x, y]\) is a subset of \(X\)
  (i.e., every number between \(x\) and \(y\) is also in \(X\)).
\end{defn}

\setcounter{thm}{3}
\begin{lem}\label{i:11.1.4}
  Let \(X\) be a subset of the real line.
  Then the following two statements are logically equivalent:
  \begin{enumerate}
    \item \(X\) is bounded and either connected or empty.
    \item \(X\) is a bounded interval.
  \end{enumerate}
\end{lem}

\begin{proof}
  Both statements are logically equivalent when \(X = \emptyset\) (which is vacuously true).
  So suppose that \(X \neq \emptyset\).

  We first show that \(X\) is bounded and connected implies \(X\) is a bounded interval.
  Since \(X\) is bounded, by \cref{i:5.5.9} we know that \(\inf(X), \sup(X) \in \R\).
  Thus \(X \subseteq [\inf(X), \sup(X)]\).
  Now we split into four cases:
  \begin{itemize}
    \item If \(\sup(X) \in X\) and \(\inf(X) \in X\), then by \cref{i:11.1.1} \(X\) is connected implies \([\inf(X), \sup(X)] \subseteq X\).
          Thus by \cref{i:3.1.18} we have \(X = [\inf(X), \sup(X)]\).
    \item If \(\sup(X) \in X\) and \(\inf(X) \notin X\), then we claim that \(\big(\inf(X), \sup(X)] \subseteq X\).
          This is true since \(X\) is connected and by \cref{i:11.1.1} we have \(\big(a, \sup(X)] \subseteq X\) for every \(a \in X\).
    \item If \(\sup(X) \notin X\) and \(\inf(X) \in X\), then we claim that \([\inf(X), \sup(X)\big) \subseteq X\).
          This is true since \(X\) is connected and by \cref{i:11.1.1} we have \([\inf(X), b\big) \subseteq X\) for every \(b \in X\).
    \item If \(\sup(X) \notin X\) and \(\inf(X) \notin X\), then we claim that \(\big(\inf(X), \sup(X)\big) \subseteq X\).
          This is true since \(X\) is connected and by \cref{i:11.1.1} we have \((a, b) \subseteq X\) for every \(a, b \in X\) and \(a < b\).
  \end{itemize}
  From all cases above we conclude that \(X\) is a bounded interval.

  Now we show that \(X\) is a bounded interval implies \(X\) is bounded and connected.
  Obviously \(X\) is bounded.
  Let \(a, b \in \R\).
  Then \(X\) can be one of \((a, b), [a, b], (a, b], [a, b)\), and by \cref{i:11.1.1} all of which are connected.
\end{proof}

\begin{rmk}\label{i:11.1.5}
  Recall that intervals are allowed to be singleton points, or even the empty set.
\end{rmk}

\begin{cor}\label{i:11.1.6}
  If \(I\) and \(J\) are bounded intervals, then the intersection \(I \cap J\) is also a bounded interval.
\end{cor}

\begin{proof}
  If \(I \cap J = \emptyset\), then \(I \cap J\) is bounded interval.
  So suppose that \(I \cap J \neq \emptyset\).
  Since \(I, J\) are bounded intervals, by \cref{i:11.1.4} we know that \(I, J\) are bounded and connected.
  Since \(I, J\) are bounded, \(\exists M_1, M_2 \in \R\) such that \(I \subseteq [-M_1, M_1]\) and \(J \subseteq [-M_2, M_2]\).
  Let \(M = \min(M_1, M_2)\).
  Then we have \(I \cap J \subseteq [-M, M]\) and thus \(I \cap J\) is bounded.
  Let \(x, y \in I \cap J\) and \(x < y\).
  Since \(I\) is connected and \(I \cap J \subseteq I\), we have \([x, y] \subseteq I\).
  Similarly since \(J\) is connected and \(I \cap J \subseteq J\), we have \([x, y] \subseteq J\).
  Thus \([x, y] \subseteq I \cap J\) and by \cref{i:11.1.1} \(I \cap J\) is connected.
  Since \(I \cap J\) is bounded and connected, by \cref{i:11.1.4} \(I \cap J\) is bounded interval.
\end{proof}

\setcounter{thm}{7}
\begin{defn}[Length of intervals]\label{i:11.1.8}
  If \(I\) is a bounded interval, we define the \emph{length} of \(I\), denoted \(\abs{I}\) as follows.
  If \(I\) is one of the intervals \([a, b]\), \((a, b)\), \([a, b)\), or \((a, b]\) for some real numbers \(a < b\), then we define \(\abs{I} \coloneqq b - a\).
  Otherwise, if \(I\) is a point or the empty set, we define \(\abs{I} = 0\).
\end{defn}

\setcounter{thm}{9}
\begin{defn}[Partitions]\label{i:11.1.10}
  Let \(I\) be a bounded interval.
  A \emph{partition} of \(I\) is a finite set \(\mathbf{P}\) of bounded intervals contained in \(I\), such that every \(x\) in \(I\) lies in exactly one of the bounded intervals \(J\) in \(\mathbf{P}\).
\end{defn}

\begin{rmk}\label{i:11.1.11}
  Note that a partition is a set of intervals, while each interval is itself a set of real numbers.
  Thus a partition is a set consisting of other sets.
\end{rmk}

\setcounter{thm}{12}
\begin{thm}[Length is finitely additive]\label{i:11.1.13}
  Let \(I\) be a bounded interval, \(n\) be a natural number, and let \(\mathbf{P}\) be a partition of \(I\) of cardinality \(n\).
  Then
  \[
    \abs{I} = \sum_{J \in \mathbf{P}} \abs{J}.
  \]
\end{thm}

\begin{proof}
  We prove this by induction on \(n\).
  More precisely, we let \(P(n)\) be the property that whenever \(I\) is a bounded interval, and whenever \(\mathbf{P}\) is a partition of \(I\) with cardinality \(n\), that \(\abs{I} = \sum_{J \in \mathbf{P}} \abs{J}\).

  The base case \(P(0)\) is trivial;
  the only way that \(I\) can be partitioned into an empty partition is if \(I\) is itself empty, at which point the claim is easy.
  The case \(P(1)\) is also very easy;
  the only way that \(I\) can be partitioned into a singleton set \(\set{J}\) is if \(J = I\), at which point the claim is again very easy.

  Now suppose inductively that \(P(n)\) is true for some \(n \geq 1\), and now we prove \(P(n + 1)\).
  Let \(I\) be a bounded interval, and let \(\mathbf{P}\) be a partition of \(I\) of cardinality \(n + 1\).

  If \(I\) is the empty set or a point, then all the intervals in \(\mathbf{P}\) must also be either the empty set or a point, and so every interval has length zero and the claim is trivial.
  Thus we will assume that \(I\) is an interval of the form \((a, b)\), \((a, b]\), \([a, b)\), or \([a, b]\).

      Let us first suppose that \(b \in I\), i.e., \(I\) is either \((a, b]\) or \([a, b]\).
  Since \(b \in I\), we know that one of the intervals \(K\) in \(\mathbf{P}\) contains \(b\).
  Since \(K\) is contained in \(I\), it must therefore be of the form \((c, b]\), \([c, b]\), or \(\set{b}\) for some real number \(c\), with \(a \leq c \leq b\) (in the latter case of \(K = \set{b}\), we set \(c \coloneqq b\)).
  In particular, this means that the set \(I \setminus K\) is also an interval of the form \([a, c]\), \((a, c)\), \((a, c]\), \([a, c)\) when \(c > a\), or a point or empty set when \(a = c\).
  Either way, we easily see that
  \[
    \abs{I} = \abs{K} + \abs{I \setminus K}.
  \]
  On the other hand, since \(\mathbf{P}\) forms a partition of \(I\), we see that \(\mathbf{P} \setminus \set{K}\) forms a partition of \(I \setminus K\).
  By the induction hypothesis, we thus have
  \[
    \abs{I \setminus K} = \sum_{J \in \mathbf{P} \setminus \set{K}} \abs{J}.
  \]
  Combining these two identities (and using the laws of addition for finite sets, see \cref{i:7.1.11}(e)) we obtain
  \[
    \abs{I} = \sum_{J \in \mathbf{P}} \abs{J}
  \]
  as desired.

  Now suppose that \(b \notin I\), i.e., \(I\) is either \((a, b)\) or \([a, b)\).
  Then one of the intervals \(K\) also is of the form \((c, b)\) or \([c, b)\) (see \cref{i:ex:11.1.3}).
      In particular, this means that the set \(I \setminus K\) is also an interval of the form \([a, c]\), \((a, c)\), \((a, c]\), \([a, c)\) when \(c > a\), or a point or empty set when \(a = c\).
  The rest of the argument then proceeds as above.
\end{proof}

\begin{defn}[Finer and coarser partitions]\label{i:11.1.14}
  Let \(I\) be a bounded interval, and let \(\mathbf{P}\) and \(\mathbf{P}'\) be two partitions of \(I\).
  We say that \(\mathbf{P}'\) is \emph{finer} than \(\mathbf{P}\) (or equivalently, that \(\mathbf{P}\) is \emph{coarser} than \(\mathbf{P}'\)) if for every \(J\) in \(\mathbf{P}'\), there exists a \(K\) in \(\mathbf{P}\) such that \(J \subseteq K\).
\end{defn}

\begin{note}
  There is no such thing as a ``finest'' partition of some interval \(I\).
  (recall all partitions are assumed to be finite.)
  We do not compare partitions of different intervals.
\end{note}

\setcounter{thm}{15}
\begin{defn}[Common refinement]\label{i:11.1.16}
  Let \(I\) be a bounded interval, and let \(\mathbf{P}\) and \(\mathbf{P}'\) be two partitions of \(I\).
  We define the \emph{common refinement} \(\mathbf{P} \# \mathbf{P}'\) of \(\mathbf{P}\) and \(\mathbf{P}'\) to be the set
  \[
    \mathbf{P} \# \mathbf{P}' \coloneqq \set{K \cap J : K \in \mathbf{P} \text{ and } J \in \mathbf{P}'}.
  \]
\end{defn}

\begin{ac}\label{i:ac:11.1.1}
  Let \(I\) be a bounded interval, and let \(\mathbf{P}, \mathbf{P}'\) be two partitions of \(I\).
  Then we have \(I = \bigcup (\mathbf{P} \# \mathbf{P}')\).
\end{ac}

\begin{proof}
  Let \(x \in I\).
  By \cref{i:11.1.10} we know that \(\exists!\ K \in \mathbf{P}\) such that \(x \in K\).
  Similarly \(\exists!\ K' \in \mathbf{P}'\) such that \(x \in K'\), thus \(x \in K \cap K'\).
  By \cref{i:11.1.16} we know that \(K \cap K' \in \mathbf{P} \# \mathbf{P}'\), thus \(x \in \bigcup (\mathbf{P} \# \mathbf{P}')\).
  Since \(x\) is arbitrary, we have
  \[
    I \subseteq \bigcup \big(\mathbf{P} \# \mathbf{P}'\big).
  \]

  Let \(S \in \mathbf{P} \# \mathbf{P}'\).
  By \cref{i:11.1.16} we know that \(\exists J \in \mathbf{P}\) and \(\exists J' \in \mathbf{P}'\) such that \(S = J \cap J'\).
  Since \(S = J \cap J'\), we have \(S \subseteq I\).
  Since \(S\) is arbitrary, we have
  \[
    \bigcup \big(\mathbf{P} \# \mathbf{P}'\big) \subseteq I.
  \]
  Thus by \cref{i:3.1.18} we have
  \[
    I = \bigcup \big(\mathbf{P} \# \mathbf{P}'\big).
  \]
\end{proof}

\begin{ac}\label{i:ac:11.1.2}
  Let \(I\) be a bounded interval, and let \(\mathbf{P}, \mathbf{P}'\) be two partitions of \(I\).
  Then every element \(x \in I\) contains in exactly one of the element \(\mathbf{P} \# \mathbf{P}'\).
  In other words, \(\exists!\ S \in \mathbf{P} \# \mathbf{P}\) such that \(x \in S\).
\end{ac}

\begin{proof}
  By \cref{i:ac:11.1.1} we know that at least one element in \(\mathbf{P} \# \mathbf{P}'\) contains \(x\).
  Suppose for sake of contradiction that \(\exists S_1, S_2 \in \mathbf{P} \# \mathbf{P}'\) such that \(x \in S_1\) and \(x \in S_2\) but \(S_1 \neq S_2\).
  By \cref{i:11.1.16} we know that \(S_1 = K \cap K'\) for some \(K \in \mathbf{P}\) and \(K' \in \mathbf{P}'\).
  Similarly \(S_2 = J \cap J'\) for some \(J \in \mathbf{P}\) and \(J' \in \mathbf{P}'\).
  We know that \(x \in S_1\) implies \(x \in K\).
  Similarly \(x \in S_2\) implies \(x \in J\).
  But by \cref{i:11.1.10} we know that \(K = J\), similar argument holds for \(K' = J'\).
  Thus we must have \(S_1 = S_2\), a contradiction.
\end{proof}

\begin{ac}\label{i:ac:11.1.3}
  Let \(I\) be a bounded interval, and let \(\mathbf{P}, \mathbf{P}'\) be two partitions of \(I\).
  Then \(\mathbf{P} \# \mathbf{P}'\) is finite and every element in \(\mathbf{P} \# \mathbf{P}'\) is a bounded interval.
\end{ac}

\begin{proof}
  Let \(f : \mathbf{P} \times \mathbf{P}' \to \mathbf{P} \# \mathbf{P}'\) be a function where
  \[
    f(K, K') = K \cap K' \text{ for every } (K, K') \in \mathbf{P} \times \mathbf{P}'.
  \]
  By \cref{i:11.1.16} we see that \(f\) is surjective.
  By \cref{i:11.1.10} we know that both \(\#(\mathbf{P}), \#(\mathbf{P}')\) are finite.
  Thus by \cref{i:3.6.14}(e) and \cref{i:ex:8.4.3} we have
  \[
    \#(\mathbf{P} \times \mathbf{P}') = \#(\mathbf{P}) \times \#(\mathbf{P}') \geq \#(\mathbf{P} \# \mathbf{P}').
  \]
  This means \(\mathbf{P} \# \mathbf{P}'\) is finite.

  By \cref{i:11.1.16} we know that for every \(S \in \mathbf{P} \# \mathbf{P}'\), \(S = K \cap K'\) for some \(K \in \mathbf{P}\) and \(K' \in \mathbf{P}'\).
  By \cref{i:11.1.10} we know that both \(K, K'\) are bounded interval, thus by \cref{i:11.1.6} we know that \(S\) is also a bounded interval.
  Since \(S\) is arbitrary, we conclude that every element in \(\mathbf{P} \# \mathbf{P}'\) is a bounded interval.
\end{proof}

\setcounter{thm}{17}
\begin{lem}\label{i:11.1.18}
  Let \(I\) be a bounded interval, and let \(\mathbf{P}\) and \(\mathbf{P}'\) be two partitions of \(I\).
  Then \(\mathbf{P} \# \mathbf{P}'\) is also a partition of \(I\), and is both finer than \(\mathbf{P}\) and finer than \(\mathbf{P}'\).
\end{lem}

\begin{proof}
  By \cref{i:ac:11.1.1} we know that \(I = \bigcup (\mathbf{P} \# \mathbf{P}')\).
  By \cref{i:ac:11.1.2} we know that every element in \(I\) contains in exactly one of the element \(\mathbf{P} \# \mathbf{P}'\).
  By \cref{i:ac:11.1.3} we know that \(\mathbf{P} \# \mathbf{P}'\) is finite and every element in  \(\mathbf{P} \# \mathbf{P}'\) is a bounded interval.
  Thus by \cref{i:11.1.10} \(\mathbf{P} \# \mathbf{P}'\) is a partition of \(I\).

  By \cref{i:11.1.16} we know that for every \(S \in \mathbf{P} \# \mathbf{P}'\), \(S = K \cap K'\) for some \(K \in \mathbf{P}\) and \(K' \in \mathbf{P}'\).
  This means \(S \subseteq K\) and \(S \subseteq K'\), thus by \cref{i:11.1.14} \(\mathbf{P} \# \mathbf{P}'\) is both finer than \(\mathbf{P}\) and finer than \(\mathbf{P}'\)
\end{proof}

\begin{ac}\label{i:ac:11.1.4}
  Let \(I\) be a bounded interval, and let \(\mathbf{P}, \mathbf{P}'\) be two partitions of \(I\) such that \(\mathbf{P}'\) is finer than \(\mathbf{P}\).
  For each \(K \in \mathbf{P}\), we define \(\mathbf{P}_K\) as follow:
  \[
    \mathbf{P}_K = \set{K' \in \mathbf{P}' : K' \subseteq K}.
  \]
  Then \(\mathbf{P}_K\) is a partition of \(K\) for every \(K \in \mathbf{P}\), and \(\bigcup_{K \in \mathbf{P}} \mathbf{P}_K = \mathbf{P}'\).
\end{ac}

\begin{proof}
  Since \(\mathbf{P}_K \subseteq \mathbf{P}'\) and \(\mathbf{P}'\) is a partition of \(I\), by \cref{i:11.1.10} we know the following facts:
  \begin{itemize}
    \item \(\mathbf{P}_K\) is finite.
    \item All distinct elements in \(\mathbf{P}_K\) are disjoint.
    \item All elements in \(\mathbf{P}_K\) are bounded interval.
  \end{itemize}
  To show that \(\mathbf{P}_K\) is a partition of \(K\), by \cref{i:11.1.10} it suffices to show that \(K = \bigcup \mathbf{P}_K\).

  Let \(x \in K\).
  By \cref{i:11.1.10} we know that \(x \in I\), thus \(\exists!\ K' \in \mathbf{P}'\) such that \(x \in K'\).
  Since \(\mathbf{P}'\) is finer than \(\mathbf{P}\), we must have \(K' \subseteq K\).
  If not, then we have some \(J \in \mathbf{P}\) such that \(K' \subseteq J\), but \(x \in J\) implies \(J = K\), a contradiction.
  Since \(K' \in \mathbf{P}'\) and \(K' \subseteq K\), we have \(K' \in \mathbf{P}_K\).
  Since \(x\) is arbitrary, we have \(K \subseteq \bigcup \mathbf{P}_K\).
  By the definition of \(\mathbf{P}_K\) we know that \(\bigcup \mathbf{P}_K \subseteq K\), thus by \cref{i:3.1.18} we have \(K = \bigcup \mathbf{P}_K\).

  Now we show that \(\bigcup_{K \in \mathbf{P}} \mathbf{P}_K = \mathbf{P}'\).
  We know that \(\bigcup_{K \in \mathbf{P}} \mathbf{P}_K \subseteq \mathbf{P}'\).
  Let \(K' \in \mathbf{P}'\).
  By \cref{i:11.1.18} we know that \(\mathbf{P}'\) is finer than \(\mathbf{P}\).
  By \cref{i:11.1.14} we know that \(K' \subseteq K\) for some \(K \in \mathbf{P}\).
  Thus we have \(K' \in \mathbf{P}_K\).
  Since \(K'\) is arbitrary, we have \(\mathbf{P}' \subseteq \bigcup_{K \in \mathbf{P}} \mathbf{P}_K\).
  Thus by \cref{i:3.1.18} we have \(\bigcup_{K \in \mathbf{P}} \mathbf{P}_K = \mathbf{P}'\).
\end{proof}

\begin{ac}\label{i:ac:11.1.5}
  Let \(I, J\) be bounded intervals such that \(I \neq \emptyset\) and \(I \subseteq J\), and let \(\mathbf{P}\) be a partition of \(I\).
  Let \(I_1, I_2\) be the sets
  \[
    I_1 = \set{x \in J : \big(x \leq \inf(I)\big) \land (x \notin I)}
  \]
  and
  \[
    I_2 = \set{x \in J : \big(x \geq \sup(I)\big) \land (x \notin I)}.
  \]
  Then \(\mathbf{P} \cup \set{I_1, I_2}\) is a partion of \(J\).
\end{ac}

\begin{proof}
  First we claim that \(I_1\) is a bounded interval.
  If \(I_1 = \emptyset\), then \(I_1\) is a bounded interval.
  So suppose that \(I_1 \neq \emptyset\).
  We know that \(\inf(I) \in J\) since if \(\inf(I) \notin J\), then by definition we would have \(I_1 = \emptyset\), a contradiction.
  We must have \(\inf(I_1) = \inf(J)\).
  If not, then we have \(\inf(J) < \inf(I_1) \leq \inf(I)\).
  Since \(J\) is a bounded interval, we have \(\inf(J) < x < \inf(I_1) \leq \inf(I)\) for some \(x \in J\).
  But \(x \in J\) and \(x < \inf(I)\) implies \(x \in I_1\), which contradict to \(\inf(I_1) \leq x\).
  So we have \(\inf(I_1) = \inf(J)\).
  Now we split into four cases:
  \begin{itemize}
    \item If \(\inf(J) \in J\) and \(\inf(I) \in I\), then \(I_1 = [\inf(J), \inf(I)\big)\).
    \item If \(\inf(J) \in J\) and \(\inf(I) \notin I\), then \(I_1 = [\inf(J), \inf(I)]\).
    \item If \(\inf(J) \notin J\) and \(\inf(I) \in I\), then \(I_1 = \big(\inf(J), \inf(I)\big)\).
    \item If \(\inf(J) \notin J\) and \(\inf(I) \notin I\), then \(I_1 = \big(\inf(J), \inf(I)]\).
  \end{itemize}
  From all cases above we conclude that \(I_1\) is a bounded interval.

  Next we claim that \(I_2\) is a bounded interval.
  If \(I_2 = \emptyset\), then \(I_2\) is a bounded interval.
  So suppose that \(I_2 \neq \emptyset\).
  We know that \(\sup(I) \in J\) since if \(\sup(I) \notin J\), then by definition we would have \(I_2 = \emptyset\), a contradiction.
  We must have \(\sup(I_2) = \sup(J)\).
  If not, then we have \(\sup(J) > \sup(I_2) \geq \sup(I)\).
  Since \(J\) is a bounded interval, we have \(\sup(J) > x > \sup(I_2) \geq \sup(I)\) for some \(x \in J\).
  But \(x \in J\) and \(x > \sup(I)\) implies \(x \in I_2\), which contradict to \(\sup(I_2) \geq x\).
  So we have \(\sup(I_2) = \sup(J)\).
  Now we split into four cases:
  \begin{itemize}
    \item If \(\sup(J) \in J\) and \(\sup(I) \in I\), then \(I_2 = \big(\sup(I), \sup(J)]\).
    \item If \(\sup(J) \in J\) and \(\sup(I) \notin I\), then \(I_2 = [\sup(I), \sup(J)]\).
    \item If \(\sup(J) \notin J\) and \(\sup(I) \in I\), then \(I_2 = \big(\sup(I), \sup(J)\big)\).
    \item If \(\sup(J) \notin J\) and \(\sup(I) \notin I\), then \(I_2 = [\sup(I), \sup(J)\big)\).
  \end{itemize}
  From all cases above we conclude that \(I_2\) is a bounded interval.

  Next we show that \(I \cap I_1 = I \cap I_2 = I_1 \cap I_2 = \emptyset\).
  By definition we know that \(I \cap I_1 = I \cap I_2 = \emptyset\).
  So we only need to show that \(I_1 \cap I_2 = \emptyset\).
  If \((I_1 = \emptyset) \lor (I_2 = \emptyset)\), then we have \(I_1 \cap I_2 = \emptyset\).
  So suppose that \((I_1 \neq \emptyset) \land (I_2 \neq \emptyset)\).
  Suppose for sake of contradiction that \(I_1 \cap I_2 \neq \emptyset\).
  Let \(x \in I_1 \cap I_2\).
  Then we have \(x \leq \inf(I) \leq \sup(I) \leq x\).
  Now we split into two cases:
  \begin{itemize}
    \item If \(\inf(I) = \sup(I)\), then \(I = \set{a}\) for some \(a \in \R\).
          But \(x \leq a \leq x\) implies \(x = a\) and \(x \in I\), which contradict to \(x \notin I\).
    \item If \(\inf(I) < \sup(I)\), then we have \(x < x\), a contradiction.
  \end{itemize}
  From all cases above we conclude that \(I_1 \cap I_2 = \emptyset\).

  Let \(\mathbf{P}_J = \mathbf{P} \cup \set{I_1, I_2}\).
  By definition we know that \(\bigcup \mathbf{P}_J \subseteq J\).
  Let \(x \in J\).
  Now we split into two cases:
  \begin{itemize}
    \item If \(x \in I\), then we have \(x \in \bigcup \mathbf{P}\).
    \item If \(x \notin I\), then we have \(\big(x \leq \inf(I)\big) \lor \big(x \geq \sup(I)\big)\).
          Thus \((x \in I_1) \lor (x \in I_2)\) and \(x \in \bigcup \mathbf{P}\).
  \end{itemize}
  From all cases above we conclude that \(x \in \bigcup \mathbf{P}_J\).
  Since \(x\) is arbitrary, we have \(J \subseteq \bigcup \mathbf{P}_J\).
  By \cref{i:3.1.18} we have \(J = \bigcup \mathbf{P}_J\).

  From proofs above we have showed that \(J = \bigcup \mathbf{P}_J\), all distinct element in \(\mathbf{P}_J\) are disjoint, and all elements in \(\mathbf{P}_J\) are bounded interval.
  Since \(\mathbf{P}_J\) is finite (\(\#(\mathbf{P}_J) = 3\)), by \cref{i:11.1.10} \(\mathbf{P}_J\) is a partition of \(J\).
\end{proof}

\exercisesection

\begin{ex}\label{i:ex:11.1.1}
  Prove \cref{i:11.1.4}.
\end{ex}

\begin{proof}
  See \cref{i:11.1.4}.
\end{proof}

\begin{ex}\label{i:ex:11.1.2}
  Prove \cref{i:11.1.6}.
\end{ex}

\begin{proof}
  Prove \cref{i:11.1.6}.
\end{proof}

\begin{ex}\label{i:ex:11.1.3}
  Let \(I\) be a bounded interval of the form \(I = (a, b)\) or \(I = [a, b)\) for some real numbers \(a < b\).
  Let \(I_1, \dots, I_n\) be a partition of \(I\).
  Prove that one of the intervals \(I_j\) in this partition is of the form \(I_j = (c, b)\) or \(I_j = [c, b)\) for some \(a \leq c \leq b\).
\end{ex}

\begin{proof}
  Let \(\mathbf{P} = \set{I_1, \dots, I_n}\).
  If \(c = b\), then \((c, b) = \emptyset\), and thus by \cref{i:11.1.10} \(\mathbf{P} \cup \set{\emptyset}\) is a partition of \(I\).
  So we only need to proof the cases where \(a \leq c < b\).
  Suppose for sake of contradiction that every interval \(I_j\) in the partition \(\mathbf{P}\) is not of the form \((c, b)\) or \([c, b)\).
  By \cref{i:11.1.10} this means for every \(j \in \set{1, \dots, n}\), \(x \in I_j\) implies \(x \geq b\) or \(x < c\).
  Since \(I = (a, b)\) or \(I = [a, b)\), we cannot have \(x \geq b\), thus we must have \(x < c\).
  This means \(\sup(I_j) \leq c < b\) for every \(j \in \set{1, \dots, n}\).
  But then we have \(\sup(I) = b > \max\set{\sup(I_j) : j \in \set{1, \dots, n}}\), a contradiction.
  Thus we must have one interval \(I_j \in \mathbf{P}\) such that \(I_j = (c, b)\) for some \(a \leq c < b\).
\end{proof}

\begin{ex}\label{i:ex:11.1.4}
  Prove \cref{i:11.1.18}.
\end{ex}

\begin{proof}
  Prove \cref{i:11.1.18}.
\end{proof}
