\section{Fundamentals}\label{sec:3.1}

\begin{defn}\label{3.1.1}
  We define a \emph{set} \(A\) to be any unordered collection of objects.
  If \(x\) is an object, we say that \emph{\(x\) is an element of \(A\)} or \(x \in A\) if \(x\) lies in the collection;
  otherwise we say that \(x \notin A\).
\end{defn}

\begin{ax}[Sets are objects]\label{3.1}
  If \(A\) is a set, then \(A\) is also an object.
  In particular, given two sets \(A\) and \(B\), it is meaningful to ask whether \(A\) is also an element of \(B\).
\end{ax}

\setcounter{thm}{2}
\begin{rmk}\label{3.1.3}
  There is a special case of set theory, called ``pure set theory'', in which \emph{all} objects are sets;
  for instance the number \(0\) might be identified with the empty set \(\emptyset = \set{}\), the number \(1\) might be identified with \(\set{0} = \set{\set{}}\), the number \(2\) might be identified with \(\set{0, 1} = \set{\set{}, \set{\set{}}}\), and so forth.
  From a logical point of view, pure set theory is a simpler theory, since one only has to deal with sets and not with objects;
  however, from a conceptual point of view it is often easier to deal with impure set theories in which some objects are not considered to be sets.
  The two types of theories are more or less equivalent for the purposes of doing mathematics, and so we shall take an agnostic position as to whether all objects are sets or not.
\end{rmk}

\begin{defn}[Equality of sets]\label{3.1.4}
  Two sets \(A\) and \(B\) are \emph{equal}, \(A = B\), iff every element of \(A\) is an element of \(B\) and vice versa.
  To put it another way, \(A = B\) iff every element \(x\) of \(A\) belongs also to \(B\), and every element \(y\) of \(B\) belongs also to \(A\).
\end{defn}

\begin{ac}\label{ac:3.1.1}
  The definition of equality in \cref{3.1.4} is reflexive, symmetric and transitive.
\end{ac}

\begin{proof}[\pf{ac:3.1.1}]
  Let \(A, B, C\) be sets.
  We first show that \cref{3.1.4} is reflexive.
  Since \(x \in A \iff x \in A\) for all \(x \in A\), by \cref{3.1.4} we have \(A = A\).
  Thus \cref{3.1.4} is reflexive.

  Next we show that \cref{3.1.4} is symmetric.
  Suppose that \(A = B\).
  By \cref{3.1.4} we have \(x \in A \iff x \in B\) for all \(x \in A\).
  But this means \(y \in B \iff y \in A\) for all \(y \in B\).
  Thus by \cref{3.1.4} we have \(B = A\).
  So \cref{3.1.4} is symmetric.

  Finally, we show that \cref{3.1.4} is transitive.
  Suppose that \(A = B\) and \(B = C\).
  By \cref{3.1.4} we have \(x \in A \iff x \in B\) for all \(x \in A\) and \(y \in B \iff y \in C\) for all \(y \in B\).
  Then we have \(x \in A \iff x \in C\) for all \(x \in A\) and by \cref{3.1.4} this means \(A = C\).
  Thus \cref{3.1.4} is transitive.
\end{proof}

\begin{note}
  Observe that if \(x \in A\) and \(A = B\), then \(x \in B\), by \cref{3.1.4}.
  Thus the ``is an element of'' relation \(\in\) obeys the axiom of substitution.
  Because of this, any new operation we define on sets will also obey the axiom of substitution, as long as we can define that operation purely in terms of the relation \(\in\).
\end{note}

\begin{note}
  Next, we turn to the issue of exactly which objects are sets and which objects are not.
  The situation is analogous to how we defined the natural numbers in \cref{ch:2};
  we started with a single natural number, \(0\), and started building more numbers out of \(0\) using the increment operation.
  We will try something similar here, starting with a single set, the \emph{empty set},
  and building more sets out of the empty set by various operations.
  We begin by postulating the existence of the empty set.
\end{note}

\begin{ax}[Empty set]\label{3.2}
  There exists a set \(\emptyset\), known as the \emph{empty set}, which contains no elements, i.e., for every object \(x\) we have \(x \notin \emptyset\).
\end{ax}

\begin{note}
  The empty set is also denoted \(\set{}\).
\end{note}

\begin{ac}\label{ac:3.1.2}
  There can only be one empty set;
  if there were two sets \(\emptyset\) and \(\emptyset'\) which were both empty, then they would be equal to each other.
\end{ac}

\begin{proof}[\pf{ac:3.1.2}]
  Suppose there exist two empty sets \(\emptyset\) and \(\emptyset'\).
  Then the statement ``every element \(x\) of \(\emptyset\) is also an element of \(\emptyset'\)'' is vacuously true since by \cref{3.2} there does not exist any element \(x\) of \(\emptyset\).
  Similarly the statement ``every element \(x\) of \(\emptyset'\) is also an element of \(\emptyset\)'' is vacuously true.
  Thus we see that \(x\) is an element of \(\emptyset\) iff \(x\) is an element \(\emptyset'\).
  By \cref{3.1.4} this means \(\emptyset = \emptyset'\).
  Thus we conclude that empty set is unique.
\end{proof}

\begin{note}
  If a set is not equal to the empty set, we call it \emph{non-empty}.
\end{note}

\setcounter{thm}{5}
\begin{lem}[Single choice]\label{3.1.6}
  Let \(A\) be a non-empty set.
  Then there exists an object \(x\) such that \(x \in A\).
\end{lem}

\begin{proof}[\pf{3.1.6}]
  We prove by contradiction.
  Suppose there does not exist any object \(x\) such that \(x \in A\).
  Then for all objects \(x\), we have \(x \notin A\).
  Also, by \cref{3.2} we have \(x \notin \emptyset\).
  Thus \(x \in A \iff x \in \emptyset\) (both statements are equally false), and so \(A = \emptyset\) by \cref{3.1.4}, a contradiction.
\end{proof}

\begin{rmk}\label{3.1.7}
  \cref{3.1.6} asserts that given any non-empty set \(A\), we are allowed to ``choose'' an element \(x\) of \(A\) which demonstrates this non-emptyness.
  Later on (in \cref{3.5.12}) we will show that given any finite number of non-empty sets, say \(A_1, \dots, A_n\), it is possible to choose one element \(x_1, \dots, x_n\) from each set \(A_1, \dots, A_n\);
  this is known as ``finite choice''.
  However, in order to choose elements from an infinite number of sets, we need an additional axiom, the \emph{axiom of choice} (\cref{8.1}).
\end{rmk}

\begin{rmk}\label{3.1.8}
  Note that the empty set is \emph{not} the same thing as the natural number \(0\).
  One is a set;
  the other is a number.
  However, it is true that the \emph{cardinality} of the empty set is \(0\).
  See \cref{ex:3.6.2}.
\end{rmk}

\begin{ax}[Singleton sets and pair sets]\label{3.3}
  If \(a\) is an object, then there exists a set \(\set{a}\) whose only element is \(a\), i.e., for every object \(y\), we have \(y \in \set{a}\) iff \(y = a\);
  we refer to \(\set{a}\) as the \emph{singleton set} whose element is \(a\).
  Furthermore, if \(a\) and \(b\) are objects, then there exists a set \(\set{a, b}\) whose only elements are \(a\) and \(b\);
  i.e., for every object \(y\), we have \(y \in \set{a, b}\) iff \(y = a\) or \(y = b\);
  we refer to this set as the \emph{pair set} formed by \(a\) and \(b\).
\end{ax}

\begin{rmk}\label{3.1.9}
  There is only one singleton set for each object \(a\).
  Similarly, given any two objects \(a\) and \(b\), there is only one pair set formed by \(a\) and \(b\).
  Also, \cref{3.1.4} also ensures that \(\set{a, b} = \set{b, a}\) and \(\set{a, a} = \set{a}\).
  Thus the singleton set axiom is in fact redundant, being a consequence of the pair set axiom.
  Conversely, the pair set axiom will follow from the singleton set axiom and the pairwise union axiom (\cref{3.4}) below (see \cref{3.1.13}).
  One may wonder why we don't go further and create triplet axioms, quadruplet axioms, etc.;
  however there will be no need for this once we introduce the pairwise union axiom (\cref{3.4}) below.
\end{rmk}

\begin{proof}[\pf{3.1.9}]
  We first show the uniqueness of singleton set.
  Suppose there exist two sets \(A\) and \(A'\) which are singleton sets of object \(a\).
  Then by \cref{3.3} we have ``\(x \in A \iff x = a\)'' and ``\(x \in A' \iff x = a\)''.
  But this means \(x \in A \iff x \in A'\).
  Thus by \cref{3.1.4} we have \(A = A'\) and therefore the uniqueness of singleton set is proved.

  Next we show the uniqueness of pair set.
  Suppose there exist two sets \(X\) and \(X'\) which are pair sets of object \(a\) and \(b\).
  Then by \cref{3.3} we have ``\(x \in X \iff (x = a) \lor (x = b)\)'' and ``\(x \in X' \iff (x = a) \lor (x = b)\)''.
  But this means \(x \in X \iff x \in X'\).
  Thus by \cref{3.1.4} we have \(X = X'\) and therefore the uniqueness of pair set is proved.

  Next we show that \(\set{a, b} = \set{b, a}\).
  Since
  \begin{align*}
         & x \in \set{a, b}                   \\
    \iff & (x = a) \lor (x = b) &  & \by{3.3} \\
    \iff & (x = b) \lor (x = a)               \\
    \iff & x \in \set{b, a},    &  & \by{3.3}
  \end{align*}
  by \cref{3.1.4} we know that \(\set{a, b} = \set{b, a}\).

  Finally we show that \(\set{a, a} = \set{a}\).
  Since
  \begin{align*}
         & x \in \set{a, a}                   \\
    \iff & (x = a) \lor (x = a) &  & \by{3.3} \\
    \iff & x = a                              \\
    \iff & x \in \set{a},       &  & \by{3.3}
  \end{align*}
  by \cref{3.1.4} we know that \(\set{a, a} = \set{a}\).
\end{proof}

\begin{eg}\label{3.1.10}
  Since \(\emptyset\) is a set (and hence an object), so is the singleton set \(\set{\emptyset}\), i.e., the set whose only element is \(\emptyset\), is a set (and it is not the same set as \(\emptyset\), \(\set{\emptyset} \neq \emptyset\)).
  Similarly, the singleton set \(\set{\set{\emptyset}}\) and the pair set \(\set{\emptyset, \set{\emptyset}}\) are also sets.
  These three sets are not equal to each other.
\end{eg}

\begin{ax}[Pairwise union]\label{3.4}
  Given any two sets \(A\), \(B\), there exists a set \(A \cup B\), called the \emph{union} of \(A\) and \(B\), whose elements consist of all the elements which belong to \(A\) or \(B\) or both.
  In other words, for any object \(x\),
  \[
    x \in A \cup B \iff (x \in A) \lor (x \in B).
  \]
\end{ax}

\setcounter{thm}{11}
\begin{rmk}\label{3.1.12}
  If \(A, B, A'\) are sets, and \(A\) is equal to \(A'\), then \(A \cup B\) is equal to \(A' \cup B\).
  Similarly if \(B'\) is a set which is equal to \(B\), then \(A \cup B\) is equal to \(A \cup B'\).
  Thus the operation of union obeys the axiom of substitution, and is thus well-defined on sets.
\end{rmk}

\begin{proof}[\pf{3.1.12}]
  First suppose \(A = A'\).
  Then we have
  \begin{align*}
         & x \in A \cup B                            \\
    \iff & (x \in A) \lor (x \in B)  &  & \by{3.4}   \\
    \iff & (x \in A') \lor (x \in B) &  & \by{3.1.4} \\
    \iff & x \in A' \cup B.          &  & \by{3.4}
  \end{align*}
  Thus by \cref{3.1.4} we have \(A \cup B = A' \cup B\).

  Now suppose \(B = B'\).
  Then we have
  \begin{align*}
         & x \in A \cup B                            \\
    \iff & (x \in A) \lor (x \in B)  &  & \by{3.4}   \\
    \iff & (x \in A) \lor (x \in B') &  & \by{3.1.4} \\
    \iff & x \in A \cup B'.          &  & \by{3.4}
  \end{align*}
  Thus by \cref{3.1.4} we have \(A \cup B = A \cup B'\).
\end{proof}

\begin{lem}\label{3.1.13}
  If \(a\) and \(b\) are objects, then \(\set{a, b} = \set{a} \cup \set{b}\).
  If \(A, B, C\) are sets, then the union operation is commutative (i.e., \(A \cup B = B \cup A\)) and associative (i.e., \((A \cup B) \cup C = A \cup (B \cup C)\)).
  Also, we have \(A \cup A = A \cup \emptyset = \emptyset \cup A = A\).
\end{lem}

\begin{proof}[\pf{3.1.13}]
  We first show that \(\set{a, b} = \set{a} \cup \set{b}\).
  By \cref{3.3} we know the sets \(\set{a}, \set{b}, \set{a, b}\) exist.
  By \cref{3.4} we know the set \(\set{a} \cup \set{b}\) exists.
  Then we have
  \begin{align*}
         & x \in \set{a, b}                                   \\
    \iff & (x = a) \lor (x = b)                 &  & \by{3.3} \\
    \iff & (x \in \set{a}) \lor (x \in \set{b}) &  & \by{3.3} \\
    \iff & x \in \set{a} \cup \set{b}.          &  & \by{3.4}
  \end{align*}
  Thus by \cref{3.1.4} we have \(\set{a, b} = \set{a} \cup \set{b}\).

  Next we show the commutative identity of union sets.
  Suppose that \(A, B\) are sets.
  By \cref{3.4} we know that both \(A \cup B\) and \(B \cup A\) exist.
  Then we have
  \begin{align*}
         & x \in A \cup B                         \\
    \iff & (x \in A) \lor (x \in B) &  & \by{3.4} \\
    \iff & (x \in B) \lor (x \in A)               \\
    \iff & x \in B \cup A.          &  & \by{3.4}
  \end{align*}
  Thus by \cref{3.1.4} we have \(A \cup B = B \cup A\).

  Next we show the associativity identity of union sets.
  Suppose \(A, B, C\) are sets.
  By \cref{3.4} we know that both \(A \cup B\) and \(B \cup C\) exist.
  Thus by \cref{3.4} again we know that both \((A \cup B) \cup C\) and \(A \cup (B \cup C)\) exist.
  Then we have
  \begin{align*}
         & x \in (A \cup B) \cup C                                 \\
    \iff & (x \in (A \cup B)) \lor (x \in C)         &  & \by{3.4} \\
    \iff & ((x \in A) \lor (x \in B)) \lor (x \in C) &  & \by{3.4} \\
    \iff & (x \in A) \lor ((x \in B) \lor (x \in C))               \\
    \iff & (x \in A) \lor (x \in B \cup B)           &  & \by{3.4} \\
    \iff & x \in A \cup (B \cup C).                  &  & \by{3.4}
  \end{align*}
  Thus by \cref{3.1.4} we have \((A \cup B) \cup C = A \cup (B \cup C)\).

  Finally we show that \(A \cup A = A \cup \emptyset = \emptyset \cup A = A\) for any set \(A\).
  By \cref{3.4} we know that the sets \(A \cup A\), \(A \cup \emptyset\) and \(\emptyset \cup A\) exist.
  Since
  \begin{align*}
         & x \in A \cup A                                 \\
    \iff & (x \in A) \lor (x \in A)         &  & \by{3.4} \\
    \iff & x \in A                                        \\
    \iff & (x \in A) \lor (x \in \emptyset) &  & \by{3.2} \\
    \iff & x \in A \cup \emptyset,          &  & \by{3.4}
  \end{align*}
  by \cref{3.1.4} we see that \(A \cup A = A = A \cup \emptyset\).
  Using commutative law of union we see that \(A \cup \emptyset = \emptyset \cup A\).
\end{proof}

\begin{note}
  Because of \cref{3.1.13}, we do not need to use parentheses to denote multiple unions, thus for instance we can write \(A \cup B \cup C\) instead of \((A \cup B) \cup C\) or \(A \cup (B \cup C)\).
  Similarly for unions of four sets, \(A \cup B \cup C \cup D\), etc.
\end{note}

\begin{rmk}\label{3.1.14}
  While the operation of union has some similarities with addition, the two operations are \emph{not} identical.
\end{rmk}

\begin{note}
  \cref{3.4} allows us to define triplet sets, quadruplet sets, and so forth: if \(a, b, c\) are three objects, we define \(\set{a, b, c} \coloneqq \set{a} \cup \set{b} \cup \set{c}\);
  if \(a, b, c, d\) are four objects, then we define \(\set{a, b, c, d} \coloneqq \set{a} \cup \set{b} \cup \set{c} \cup \set{d}\), and so forth.
  On the other hand, we are not yet in a position to define sets consisting of \(n\) objects for any given natural number \(n\);
  this would require iterating the above construction ``\(n\) times'', but the concept of \(n\)-fold iteration has not yet been rigorously defined.
  For similar reasons, we cannot yet define sets consisting of infinitely many objects, because that would require iterating the axiom of pairwise union (\cref{3.4}) infinitely often, and it is not clear at this stage that one can do this rigorously.
  Later on, we will introduce other axioms of set theory which allow one to construct arbitrarily large, and even infinite, sets.
\end{note}

\begin{defn}[Subsets]\label{3.1.15}
  Let \(A\), \(B\) be sets.
  We say that \(A\) is a \emph{subset} of \(B\), denoted \(A \subseteq B\), iff every element of \(A\) is also an element of \(B\), i.e.
  \[
    \text{For any object } x, x \in A \implies x \in B.
  \]
  We say that \(A\) is a \emph{proper subset} of \(B\), denoted \(A \subsetneq B\), if \(A \subseteq B\) and \(A \neq B\).
\end{defn}

\begin{rmk}\label{3.1.16}
  Because these definitions involve only the notions of equality and the ``is an element of'' relation, both of which already obey the axiom of substitution, the notion of subset also automatically obeys the axiom of substitution.
  Thus for instance if \(A \subseteq B\) and \(A = A'\), then \(A' \subseteq B\).
\end{rmk}

\begin{eg}\label{3.1.17}
  Given any set \(A\), we always have \(A \subseteq A\) and \(\emptyset \subseteq A\).
\end{eg}

\begin{proof}[\pf{3.1.17}]
  The statement ``\(x \in A \implies x \in A\)'' is a tautology.
  Therefore by \cref{3.1.15} we have \(A \subseteq A\).
  The statement ``\(x \in \emptyset \implies x \in A\)'' is vacuously true since \(x \in \emptyset\) is false for all object \(x\) (\cref{3.2}).
  Thus by \cref{3.1.15} we have \(\emptyset \subseteq A\).
\end{proof}

\begin{prop}[Sets are partially ordered by set inclusion]\label{3.1.18}
  Let \(A, B, C\) be sets.
  \begin{itemize}
    \item If \(A \subseteq B\) and \(B \subseteq C\) then \(A \subseteq C\).
    \item \(A \subseteq B\) and \(B \subseteq A\) iff \(A = B\).
    \item If \(A \subsetneq B\) and \(B \subsetneq C\) then \(A \subsetneq C\).
  \end{itemize}
\end{prop}

\begin{proof}[\pf{3.1.18}]
  First we show that \((A \subseteq B) \land (B \subseteq C) \implies A \subseteq C\).
  This is true since
  \begin{align*}
             & \begin{dcases}
                 A \subseteq B \\
                 B \subseteq C
               \end{dcases}                                                \\
    \implies & \begin{dcases}
                 x \in A \implies x \in B \\
                 y \in B \implies y \in C
               \end{dcases}                 &  & \by{3.1.15}                \\
    \implies & (x \in A \implies x \in B \implies x \in C)                  \\
    \implies & A \subseteq C.                              &  & \by{3.1.15}
  \end{align*}

  Next we show that \((A \subseteq B) \land (B \subseteq A) \iff A = B\).
  This is true since
  \begin{align*}
         & \begin{dcases}
             A \subseteq B \\
             B \subseteq A
           \end{dcases}                               \\
    \iff & \begin{dcases}
             x \in A \implies x \in B \\
             y \in B \implies y \in A
           \end{dcases} &  & \by{3.1.15}               \\
    \iff & A = B.                      &  & \by{3.1.4}
  \end{align*}

  Finally we show that \((A \subsetneq B) \land (B \subsetneq C) \implies A \subsetneq C\).
  So suppose that  \((A \subsetneq B) \land (B \subsetneq C)\).
  Since
  \begin{align*}
             & \begin{dcases}
                 A \subsetneq B \\
                 B \subsetneq C
               \end{dcases}                                       \\
    \implies & \begin{dcases}
                 A \subseteq B \\
                 B \subseteq C
               \end{dcases}  &  & \by{3.1.15}                       \\
    \implies & A \subseteq C,    &  & \text{(from the proof above)}
  \end{align*}
  by \cref{3.1.15} we only need to show that \(A \neq C\).
  Suppose for sake of contradiction that \(A = C\).
  Then from the proof above we have \(C \subseteq A\).
  Since \(A \subseteq B\), from the proof above we have \(C \subseteq B\).
  We also have \(B \subseteq C\), thus \(B = C\).
  But this contradict to \(B \subsetneq C\).
  Thus we must have \(A \neq C\).
\end{proof}

\setcounter{thm}{19}
\begin{rmk}\label{3.1.20}
  There is one important difference between the subset relation \(\subsetneq\) and the less than relation \(<\).
  Given any two distinct natural numbers \(n\), \(m\), we know that one of them is smaller than the other (\cref{2.2.13});
  however, given two distinct sets, it is not in general true that one of them is a subset of the other.
  We say that sets are only \emph{partially ordered}, whereas the natural numbers are \emph{totally ordered} (see \cref{8.5.1,8.5.3}).
\end{rmk}

\begin{rmk}\label{3.1.21}
  We should also caution that the subset relation \(\subseteq\) is not the same as the element relation \(\in\).
  It is important to distinguish sets from their elements, as they can have different properties.
  For instance, it is possible to have an infinite set consisting of finite numbers (the set \(\N\) of natural numbers is one such example), and it is also possible to have a finite set consisting of infinite objects
  (consider for instance the finite set \(\set{\N, \Z, \Q, \R}\), which has four elements, all of which are infinite).
\end{rmk}

\begin{ax}[Axiom of specification]\label{3.5}
  Let \(A\) be a set, and for each \(x \in A\), let \(P(x)\) be a property pertaining to \(x\) (i.e., \(P(x)\) is either a true statement or a false statement).
  Then there exists a set, called \(\set{x \in A : P(x) \text{ is true}}\) (or simply \(\set{x \in A : P(x)}\) for short), whose elements are precisely the elements \(x\) in \(A\) for which \(P(x)\) is true.
  In other words, for any object \(y\),
  \[
    y \in \set{x \in A : P(x) \text{ is true}} \iff (y \in A \text{ and } P(y) \text{ is true}).
  \]
\end{ax}

\begin{note}
  \cref{3.5} is also known as the \emph{axiom of separation}.
  We sometimes write \(\set{x \in A \mid P(x)}\) instead of \(\set{x \in A : P(x)}\);
  this is useful when we are using the colon ``:'' to denote something else.
\end{note}

\setcounter{thm}{22}
\begin{defn}[Intersections]\label{3.1.23}
  The \emph{intersection} \(S_1 \cap S_2\) of two sets is defined to be the set
  \[
    S_1 \cap S_2 \coloneqq \set{x \in S_1 : x \in S_2}.
  \]
  In other words, \(S_1 \cap S_2\) consists of all the elements which belong to both \(S_1\) and \(S_2\).
  Thus, for all objects \(x\),
  \[
    x \in S_1 \cap S_2 \iff x \in S_1 \text{ and } x \in S_2.
  \]
\end{defn}

\begin{note}
  Two sets \(A\), \(B\) are said to be \emph{disjoint} if \(A \cap B = \emptyset\).
  This is not the same concept as being \emph{distinct}, \(A \neq B\).
  Meanwhile, the sets \(\emptyset\) and \(\emptyset\) are disjoint but not distinct.
\end{note}

\setcounter{thm}{26}
\begin{defn}[Difference sets]\label{3.1.27}
  Given two sets \(A\) and \(B\), we define the set \(A - B\) or \(A \setminus B\) to be the set \(A\) with any elements of \(B\) removed:
  \[
    A \setminus B \coloneqq \set{x \in A : x \notin B}.
  \]
\end{defn}

\begin{prop}[Sets form a boolean algebra]\label{3.1.28}
  Let \(A, B, C\) be sets, and let \(X\) be a set containing \(A, B, C\) as subsets.
  \begin{enumerate}
    \item (Minimal element) We have \(A \cup \emptyset = A\) and \(A \cap \emptyset = \emptyset\).
    \item (Maximal element) We have \(A \cup X = X\) and \(A \cap X = A\).
    \item (Identity) We have \(A \cap A = A\) and \(A \cup A = A\).
    \item (Commutativity) We have \(A \cup B = B \cup A\) and \(A \cap B = B \cap A\).
    \item (Associativity) We have \((A \cup B) \cup C = A \cup (B \cup C)\) and \((A \cap B) \cap C = A \cap (B \cap C)\).
    \item (Distributivity) We have \(A \cap (B \cup C) = (A \cap B) \cup (A \cap C)\) and \(A \cup (B \cap C) = (A \cup B) \cap (A \cup C)\).
    \item (Partition) We have \(A \cup (X \setminus A) = X\) and \(A \cap (X \setminus A) = \emptyset\).
    \item (De Morgan laws) We have \(X \setminus (A \cup B) = (X \setminus A) \cap (X \setminus B)\) and \(X \setminus (A \cap B) = (X \setminus A) \cup (X \setminus B)\).
  \end{enumerate}
\end{prop}

\begin{proof}[\pf{3.1.28}(a)]
  By \cref{3.1.13} we have \(A \cup \emptyset = A\).
  Since
  \begin{align*}
         & x \in A \cap \emptyset                             \\
    \iff & (x \in A) \land (x \in \emptyset) &  & \by{3.1.27} \\
    \iff & x \in \emptyset,                  &  & \by{3.2}
  \end{align*}
  by \cref{3.1.4} we have \(A \cap \emptyset = \emptyset\).
\end{proof}

\begin{proof}[\pf{3.1.28}(b)]
  Since
  \begin{align*}
         & \begin{dcases}
             x \in A \cup X \\
             A \subseteq X
           \end{dcases}                    \\
    \iff & \begin{dcases}
             (x \in A) \lor (x \in X) \\
             x \in A \implies x \in X
           \end{dcases} &  & \by{3.4,3.1.15} \\
    \iff & \begin{dcases}
             x \in X \\
             x \in A \implies x \in X
           \end{dcases},    &  & \by{3.1.15}
  \end{align*}
  by \cref{3.1.4} we have \(A \cup X = X\).
  Since
  \begin{align*}
         & \begin{dcases}
             x \in A \cap X \\
             A \subseteq X
           \end{dcases}                       \\
    \iff & \begin{dcases}
             (x \in A) \land (x \in X) \\
             x \in A \implies x \in X
           \end{dcases} &  & \by{3.1.15,3.1.23} \\
    \iff & \begin{dcases}
             x \in A \\
             x \in A \implies x \in X
           \end{dcases},     &  & \by{3.1.15}
  \end{align*}
  by \cref{3.1.4} we have \(A \cap X = A\).
\end{proof}

\begin{proof}[\pf{3.1.28}(c)]
  By \cref{3.1.13} we have \(A \cup A = A\).
  Since
  \begin{align*}
         & x \in A \cap A                             \\
    \iff & (x \in A) \land (x \in A) &  & \by{3.1.23} \\
    \iff & x \in A,
  \end{align*}
  by \cref{3.1.4} we have \(A \cap A = A\).
\end{proof}

\begin{proof}[\pf{3.1.28}(d)]
  By \cref{3.1.13} we have \(A \cup B = B \cup A\).
  Since
  \begin{align*}
         & x \in A \cap B                             \\
    \iff & (x \in A) \land (x \in B) &  & \by{3.1.23} \\
    \iff & (x \in B) \land (x \in A)                  \\
    \iff & x \in B \cap A,           &  & \by{3.1.23}
  \end{align*}
  by \cref{3.1.4} we have \(A \cap B = B \cap A\).
\end{proof}

\begin{proof}[\pf{3.1.28}(e)]
  By \cref{3.1.13} we have \((A \cup B) \cup C = A \cup (B \cup C)\).
  Since
  \begin{align*}
         & x \in (A \cap B) \cap C                                      \\
    \iff & (x \in A \cap B) \land (x \in C)            &  & \by{3.1.23} \\
    \iff & ((x \in A) \land (x \in B)) \land (x \in C) &  & \by{3.1.23} \\
    \iff & (x \in A) \land ((x \in B) \land (x \in C))                  \\
    \iff & (x \in A) \land (x \in B \cap C)            &  & \by{3.1.23} \\
    \iff & x \in A \cap (B \cap C),                    &  & \by{3.1.23}
  \end{align*}
  by \cref{3.1.4} we have \((A \cap B) \cap C = A \cap (B \cap C)\).
\end{proof}

\begin{proof}[\pf{3.1.28}(f)]
  Since
  \begin{align*}
         & x \in A \cap (B \cup C)                                                       \\
    \iff & (x \in A) \land (x \in B \cup C)                             &  & \by{3.1.23} \\
    \iff & (x \in A) \land ((x \in B) \lor (x \in C))                   &  & \by{3.4}    \\
    \iff & ((x \in A) \land (x \in B)) \lor ((x \in A) \land (x \in C))                  \\
    \iff & (x \in A \cap B) \lor (x \in A \cap C)                       &  & \by{3.1.23} \\
    \iff & x \in (A \cap B) \cup (A \cap C)                             &  & \by{3.4}
  \end{align*}
  and
  \begin{align*}
         & x \in A \cup (B \cap C)                                                      \\
    \iff & (x \in A) \lor (x \in B \cap C)                             &  & \by{3.4}    \\
    \iff & (x \in A) \lor ((x \in B) \land (x \in C))                  &  & \by{3.1.23} \\
    \iff & ((x \in A) \lor (x \in B)) \land ((x \in A) \lor (x \in C))                  \\
    \iff & (x \in A \cup B) \land (x \in A \cup C)                     &  & \by{3.4}    \\
    \iff & x \in (A \cup B) \cap (A \cup C),                           &  & \by{3.1.23}
  \end{align*}
  by \cref{3.1.4} we know that \(A \cap (B \cup C) = (A \cap B) \cup (A \cap C)\) and \(A \cup (B \cap C) = (A \cup B) \cap (A \cup C)\).
\end{proof}

\begin{proof}[\pf{3.1.28}(g)]
  Since
  \begin{align*}
         & x \in A \cup (X \setminus A)                                                    \\
    \iff & (x \in A) \lor (x \in X \setminus A)                           &  & \by{3.4}    \\
    \iff & (x \in A) \lor ((x \in X) \land (x \notin A))                  &  & \by{3.1.27} \\
    \iff & ((x \in A) \lor (x \in X)) \land ((x \in A) \lor (x \notin A))                  \\
    \iff & (x \in A) \lor (x \in X)                                                        \\
    \iff & x \in A \cup X                                                 &  & \by{3.4}
  \end{align*}
  and
  \begin{align*}
         & x \in A \cap (X \setminus A)                                    \\
    \iff & (x \in A) \land (x \in X \setminus A)          &  & \by{3.1.23} \\
    \iff & (x \in A) \land ((x \in X) \land (x \notin A)) &  & \by{3.1.27} \\
    \iff & (x \in A) \land (x \notin A)                                    \\
    \iff & x \in \emptyset,                               &  & \by{3.2}
  \end{align*}
  by \cref{3.1.4} we have \(A \cup (X \setminus A) = A \cup X\) and \(A \cap (X \setminus A) = \emptyset\).
\end{proof}

\begin{proof}[\pf{3.1.28}(h)]
  Since
  \begin{align*}
         & x \in X \setminus (A \cup B)                                                         \\
    \iff & (x \in X) \land (x \notin A \cup B)                                 &  & \by{3.1.27} \\
    \iff & (x \in X) \land ((x \notin A) \land (x \notin B))                   &  & \by{3.4}    \\
    \iff & ((x \in X) \land (x \notin A)) \land ((x \in X) \land (x \notin B))                  \\
    \iff & (x \in X \setminus A) \land (x \in X \setminus B)                   &  & \by{3.1.27} \\
    \iff & x \in (X \setminus A) \cap (X \setminus B)                          &  & \by{3.1.23}
  \end{align*}
  and
  \begin{align*}
         & x \in X \setminus (A \cap B)                                                        \\
    \iff & (x \in X) \land (x \notin A \cap B)                                &  & \by{3.1.27} \\
    \iff & (x \in X) \land ((x \notin A) \lor (x \notin B))                   &  & \by{3.1.23} \\
    \iff & ((x \in X) \land (x \notin A)) \lor ((x \in X) \land (x \notin B))                  \\
    \iff & (x \in X \setminus A) \lor (x \in X \setminus B)                   &  & \by{3.1.27} \\
    \iff & x \in (X \setminus A) \cup (X \setminus B),                        &  & \by{3.4}
  \end{align*}
  by \cref{3.1.4} we have \(X \setminus (A \cup B) = (X \setminus A) \cap (X \setminus B)\) and \(X \setminus (A \cap B) = (X \setminus A) \cup (X \setminus B)\).
\end{proof}

\begin{rmk}\label{3.1.29}
  The de Morgan laws are named after the logician Augustus De Morgan (1806--1871), who identified them as one of the basic laws of set theory.
\end{rmk}

\begin{rmk}\label{3.1.30}
  The reader may observe a certain symmetry in the above laws between \(\cup\) and \(\cap\), and between \(X\) and \(\emptyset\).
  This is an example of \emph{duality} - two distinct properties or objects being dual to each other.
  In this case, the duality is manifested by the complementation relation \(A \mapsto X \setminus A\);
  the de Morgan laws assert that this relation converts unions into intersections and vice versa.
  (It also interchanges \(X\) and the empty set.)
  \cref{3.1.28} are collectively known as the \emph{laws of Boolean algebra}, after the mathematician George Boole (1815--1864), and are also applicable to a number of other objects other than sets;
  it plays a particularly important role in logic.
\end{rmk}

\begin{ax}[Replacement]\label{3.6}
  Let \(A\) be a set.
  For any object \(x \in A\), and any object \(y\), suppose we have a statement \(P(x, y)\) pertaining to \(x\) and \(y\), such that for each \(x \in A\) there is at most one \(y\) for which \(P(x, y)\) is true.
  Then there exists a set \(\set{y : P(x, y) \text{ is true for some } x \in A}\), such that for any object \(z\),
  \[
    z \in \set{y: P(x, y) \text{ is true for some } x \in A} \iff P(x, z) \text{ is true for some } x \in A.
  \]
\end{ax}

\begin{note}
  The keyword here is ``suppose'';
  We have to assume that there exists a set \(E = \set{x \in A : \exists!\ y \text{ such that } P(x, y) \text{ is true}}\).
  \(E\) must exist first so we can apply \cref{3.6}.
  This means we assert the existence of a function \(f : E \to \set{y : P(x, y) \text{ is true for some } x}\).
\end{note}

\begin{note}
  We often abbreviate a set of the form
  \[
    \set{y : y = f(x) \text{ for some } x \in A}
  \]
  as \(\set{f(x) : x \in A}\) or \(\set{f(x) \mid x \in A}\).
  We can of course combine the axiom of replacement with the axiom of specification, thus for instance we can create sets such as \\
  \(\set{f(x) : x \in A; P(x) \text{ is true}}\) by starting with the set \(A\), using the axiom of specification to create the set \(\set{x \in A : P(x) \text{ is true}}\), and then applying the axiom of replacement to create \(\set{f(x) : x \in A; P(x) \text{ is true}}\).
\end{note}

\begin{ax}[Infinity]\label{3.7}
  There exists a set \(\N\), whose elements are called natural numbers, as well as an object \(0\) in \(\N\), and an object \(n++\) assigned to every natural number \(n \in \N\), such that the Peano axioms (\crefrange{2.1}{2.5}) hold.
\end{ax}

\exercisesection

\begin{ex}\label{ex:3.1.1}
  Show that the definition of equality in \cref{3.1.4} is reflexive, symmetric, and transitive.
\end{ex}

\begin{proof}[\pf{ex:3.1.1}]
  See \cref{ac:3.1.1}.
\end{proof}

\begin{ex}\label{ex:3.1.2}
  Using only \cref{3.1.4}, \cref{3.1}, \cref{3.2}, and \cref{3.3}, prove that the sets \(\emptyset\), \(\set{\emptyset}\), \(\set{\set{\emptyset}}\), and \(\set{\emptyset, \set{\emptyset}}\) are all distinct
  (i.e., no two of them are equal to each other).
\end{ex}

\begin{proof}[\pf{ex:3.1.2}]
  We first show that \(\emptyset \neq \set{\emptyset}\), \(\emptyset \neq \set{\set{\emptyset}}\) and \(\emptyset \neq \set{\emptyset, \set{\emptyset}}\).
  This is true since
  \begin{align*}
    \begin{dcases}
      \emptyset \in \set{\emptyset} \\
      \emptyset \notin \emptyset
    \end{dcases}                          & \implies \emptyset \neq \set{\emptyset};                  &  & \by{3.1.4,3.2,3.3} \\
    \begin{dcases}
      \set{\emptyset} \in \set{\set{\emptyset}} \\
      \set{\emptyset} \notin \emptyset
    \end{dcases}      & \implies \emptyset \neq \set{\set{\emptyset}};            &  & \by{3.1.4,3.2,3.3}                     \\
    \begin{dcases}
      \emptyset \in \set{\emptyset, \set{\emptyset}} \\
      \emptyset \notin \emptyset
    \end{dcases} & \implies \emptyset \neq \set{\emptyset, \set{\emptyset}}. &  & \by{3.1.4,3.2,3.3}
  \end{align*}

  Next we show that \(\set{\emptyset} \neq \set{\set{\emptyset}}\) and \(\set{\emptyset} \neq \set{\emptyset, \set{\emptyset}}\).
  This is true since
  \begin{align*}
             & \begin{dcases}
                 \emptyset \neq \set{\emptyset} \\
                 \emptyset \in \set{\emptyset}  \\
                 \set{\emptyset} \in \set{\set{\emptyset}}
               \end{dcases}            &  & \by{3.3}                             \\
    \implies & \emptyset \notin \set{\set{\emptyset}}                       &  & \by{3.3}   \\
    \implies & \set{\emptyset} \neq \set{\set{\emptyset}};                  &  & \by{3.1.4} \\
             & \begin{dcases}
                 \emptyset \neq \set{\emptyset} \\
                 \emptyset \in \set{\emptyset}  \\
                 \set{\emptyset} \in \set{\emptyset, \set{\emptyset}}
               \end{dcases} &  & \by{3.3}                  \\
    \implies & \set{\emptyset} \notin \set{\emptyset}                       &  & \by{3.3}   \\
    \implies & \set{\emptyset} \neq \set{\emptyset, \set{\emptyset}}.       &  & \by{3.1.4}
  \end{align*}

  Finally we show that \(\set{\set{\emptyset}} \neq \set{\emptyset, \set{\emptyset}}\).
  This is true since
  \begin{align*}
             & \begin{dcases}
                 \emptyset \neq \set{\emptyset}                 \\
                 \set{\emptyset} \in \set{\set{\emptyset}}      \\
                 \emptyset \in \set{\emptyset, \set{\emptyset}} \\
               \end{dcases}    &  & \by{3.3}                       \\
    \implies & \set{\set{\emptyset}} \neq \set{\emptyset, \set{\emptyset}}. &  & \by{3.1.4}
  \end{align*}
\end{proof}

\begin{ex}\label{ex:3.1.3}
  Prove the remaining claims in \cref{3.1.13}.
\end{ex}

\begin{proof}[\pf{ex:3.1.3}]
  See \cref{3.1.13}.
\end{proof}

\begin{ex}\label{ex:3.1.4}
  Prove the remaining claims in \cref{3.1.18}.
\end{ex}

\begin{proof}[\pf{ex:3.1.4}]
  See \cref{3.1.18}.
\end{proof}

\begin{ex}\label{ex:3.1.5}
  Let \(A, B\) be sets.
  Show that the three statements \(A \subseteq B\), \(A \cup B = B\), \(A \cap B = A\) are logically equivalent (any one of them implies the other two).
\end{ex}

\begin{proof}[\pf{ex:3.1.5}]
  We first show that \(A \subseteq B \iff A \cup B = B\).
  By \cref{3.1.28}(b) we see that \(A \subseteq B \implies A \cup B = B\).
  So we only need to show that \(A \cup B = B \implies A \subseteq B\).
  Suppose that \(A \cup B = B\).
  Suppose for sake of contradiction that \(A \not\subseteq B\).
  Then by \cref{3.1.15} there exists an object \(x \in A\) such that \(x \notin B\).
  Since \(x \in A\), by \cref{3.4} we know that \(x \in A \cup B\).
  But by \cref{3.1.4} we know that \(A \cup B = B\) implies \(x \in B\), a contradiction.
  Thus we must have \(A \subseteq B\).
  We conclude that \(A \subseteq B \iff A \cup B = B\).

  Now we show that \(A \subseteq B \iff A \cap B = A\).
  By \cref{3.1.28}(b) we see that \(A \subseteq B \implies A \cap B = A\).
  So we only need to show that \(A \cap B = A \implies A \subseteq B\).
  Suppose that \(A \cap B = A\).
  Then we have
  \begin{align*}
             & x \in A = A \cap B                         \\
    \implies & (x \in A) \land (x \in B) &  & \by{3.1.23} \\
    \implies & x \in B.
  \end{align*}
  By \cref{3.1.15} this means \(A \subseteq B\).
  We conclude that \(A \subseteq B \iff A \cap B = A\).
\end{proof}

\begin{ex}\label{ex:3.1.6}
  Prove \cref{3.1.28}.
\end{ex}

\begin{proof}[\pf{ex:3.1.6}]
  See \cref{3.1.28}.
\end{proof}

\begin{ex}\label{ex:3.1.7}
  Let \(A, B, C\) be sets.
  Show that \(A \cap B \subseteq A\) and \(A \cap B \subseteq B\).
  Furthermore, show that \(C \subseteq A\) and \(C \subseteq B\) iff \(C \subseteq A \cap B\).
  In a similar spirit, show that \(A \subseteq A \cup B\) and \(B \subseteq A \cup B\), and furthermore that \(A \subseteq C\) and \(B \subseteq C\) iff \(A \cup B \subseteq C\).
\end{ex}

\begin{proof}[\pf{ex:3.1.7}]
  We first show that \(A \cap B \subseteq A\) and \(A \cap B \subseteq B\).
  Since
  \begin{align*}
             & x \in A \cap B                             \\
    \implies & (x \in A) \land (x \in B) &  & \by{3.1.23} \\
    \implies & x \in A,
  \end{align*}
  by \cref{3.1.15} we have \(A \cap B \subseteq A\).
  Using identical argument we see that \(B \cap A \subseteq B\).
  By applying \cref{3.1.28}(d) we see that \(B \cap A = A \cap B \subseteq B\).

  Next we show that \((C \subseteq A) \land (C \subseteq B) \iff C \subseteq A \cap B\).
  This is true since
  \begin{align*}
         & (C \subseteq A) \land (C \subseteq B)                                        \\
    \iff & (x \in C \implies x \in A) \land (x \in C \implies x \in B) &  & \by{3.1.15} \\
    \iff & (x \in C \implies x \in A \land x \in B)                                     \\
    \iff & (x \in C \implies x \in A \cap B)                           &  & \by{3.1.23} \\
    \iff & (C \subseteq A \cap B).                                     &  & \by{3.1.15}
  \end{align*}

  Next we show that \(A \subseteq A \cup B\) and \(B \subseteq A \cup B\).
  Since
  \begin{align*}
             & x \in A                                \\
    \implies & (x \in A) \lor (x \in B)               \\
    \implies & x \in A \cup B,          &  & \by{3.4}
  \end{align*}
  by \cref{3.1.15} we have \(A \subseteq A \cup B\).
  Using identical argument we see that \(B \subseteq B \cup A\).
  By applying \cref{3.1.28}(d) we have \(B \subseteq A \cup B = B \cup A\).

  Finally we show that \((A \subseteq C) \land (B \subseteq C) \iff A \cup B \subseteq C\).
  This is true since
  \begin{align*}
         & (A \subseteq C) \land (B \subseteq C)                                        \\
    \iff & (x \in A \implies x \in C) \land (x \in B \implies x \in C) &  & \by{3.1.15} \\
    \iff & (x \in A \lor x \in B \implies x \in C)                                      \\
    \iff & (x \in A \cup B \implies x \in C)                           &  & \by{3.4}    \\
    \iff & (A \cup B \subseteq C).                                     &  & \by{3.1.15}
  \end{align*}
\end{proof}

\begin{ex}\label{ex:3.1.8}
  Let \(A, B\) be sets.
  Prove the \emph{absorption laws} \(A \cap (A \cup B) = A\) and \(A \cup (A \cap B) = A\).
\end{ex}

\begin{proof}[\pf{ex:3.1.8}]
  Since
  \begin{align*}
         & x \in A \cap (A \cup B)                                     \\
    \iff & (x \in A) \land (x \in A \cup B)           &  & \by{3.1.23} \\
    \iff & (x \in A) \land ((x \in A) \lor (x \in B)) &  & \by{3.4}    \\
    \iff & x \in A
  \end{align*}
  and
  \begin{align*}
         & x \in A \cup (A \cap B)                                     \\
    \iff & (x \in A) \lor (x \in A \cap B)            &  & \by{3.4}    \\
    \iff & (x \in A) \lor ((x \in A) \land (x \in B)) &  & \by{3.1.23} \\
    \iff & x \in A,
  \end{align*}
  by \cref{3.1.4} we have \(A \cap (A \cup B) = A\) and \(A \cup (A \cap B) = A\).
\end{proof}

\begin{ex}\label{ex:3.1.9}
  Let \(A, B, X\) be sets such that \(A \cup B = X\) and \(A \cap B = \emptyset\).
  Show that \(A = X \setminus B\) and \(B = X \setminus A\).
\end{ex}

\begin{proof}[\pf{ex:3.1.9}]
  Since \(X = A \cup B\), we have \(X \setminus B = (A \cup B) \setminus B\).
  To show that \(A = X \setminus B\), it suffices to show that \(A = (A \cup B) \setminus B\).
  Since
  \begin{align*}
         & x \in (A \cup B) \setminus B                                                                   \\
    \iff & (x \in (A \cup B)) \land (x \notin B)                              &  & \by{3.1.27}            \\
    \iff & ((x \in A) \lor (x \in B)) \land (x \notin B)                      &  & \by{3.4}               \\
    \iff & ((x \in A) \land (x \notin B)) \lor ((x \in B) \land (x \notin B))                             \\
    \iff & (x \in A) \land (x \notin B)                                                                   \\
    \iff & x \in A,                                                           &  & (A \cap B = \emptyset)
  \end{align*}
  by \cref{3.1.4} we have \(A = (A \cup B) \setminus B\).
  Thus \(A = X \setminus B\).

  By \cref{3.1.28}(d) we have \(A \cup B = B \cup A = X\) and \(A \cap B = B \cap A = \emptyset\).
  Thus we can use the same argument as above to show that \(X \setminus A = B\).
\end{proof}

\begin{ex}\label{ex:3.1.10}
  Let \(A, B\) be sets.
  Show that the three sets \(A \setminus B\), \(A \cap B\), and \(B \setminus A\) are disjoint, and that their union is \(A \cup B\).
\end{ex}

\begin{proof}[\pf{ex:3.1.10}]
  Since
  \begin{align*}
         & x \in (A \setminus B) \cap (A \cap B)                                                    \\
    \iff & (x \in A \setminus B) \land (x \in A \cap B)                     &  & \by{3.1.23}        \\
    \iff & ((x \in A) \land (x \notin B)) \land ((x \in A) \land (x \in B)) &  & \by{3.1.23,3.1.27} \\
    \iff & (x \in B) \land (x \notin B)                                                             \\
    \iff & x \in \emptyset,                                                 &  & \by{3.2}
  \end{align*}
  by \cref{3.1.4} we have \((A \setminus B) \cap (A \cap B) = \emptyset\).
  Thus \(A \setminus B\) and \(A \cap B\) are disjoint.
  By \cref{3.1.28}(d) we have \(B \cap A = A \cap B\), thus we can use the identical argument as above to show that \(B \setminus A\) and \(A \cap B\) are disjoint.
  Since
  \begin{align*}
         & x \in (A \setminus B) \cap (B \setminus A)                                           \\
    \iff & (x \in A \setminus B) \land (x \in B \setminus A)                   &  & \by{3.1.23} \\
    \iff & ((x \in A) \land (x \notin B)) \land ((x \in B) \land (x \notin A)) &  & \by{3.1.27} \\
    \iff & (x \in A) \land (x \notin A)                                                         \\
    \iff & x \in \emptyset,                                                    &  & \by{3.2}
  \end{align*}
  by \cref{3.1.4} we have \((A \setminus B) \cap (B \setminus A) = \emptyset\).
  Thus \(A \setminus B\) and \(B \setminus A\) are disjoint.
  Since
  \begin{align*}
         & x \in (A \setminus B) \cup (A \cap B) \cup (B \setminus A)                                                           \\
    \iff & (x \in A \setminus B) \lor (x \in A \cap B) \lor (x \in B \setminus A)                              &  & \by{3.4}    \\
    \iff & ((x \in A) \land (x \notin B)) \lor (x \in A \cap B) \lor ((x \in B) \land (x \notin A))            &  & \by{3.1.27} \\
    \iff & ((x \in A) \land (x \notin B)) \lor ((x \in A) \land (x \in B)) \lor ((x \in B) \land (x \notin A)) &  & \by{3.1.23} \\
    \iff & ((x \in A) \land ((x \in B) \lor (x \notin B))) \lor ((x \in B) \land (x \notin A))                                  \\
    \iff & (x \in A) \lor ((x \in B) \land (x \notin A))                                                                        \\
    \iff & ((x \in A) \lor (x \in B)) \land ((x \in A) \lor (x \notin A))                                                       \\
    \iff & (x \in A) \lor (x \in B)                                                                                             \\
    \iff & x \in A \cup B,                                                                                     &  & \by{3.4}
  \end{align*}
  by \cref{3.1.4} we have \((A \setminus B) \cup (A \cap B) \cup (B \setminus A) = A \cup B\).
\end{proof}

\begin{ex}\label{ex:3.1.11}
  Show that the axiom of replacement implies the axiom of specification.
\end{ex}

\begin{proof}[\pf{ex:3.1.11}]
  Let \(A\) be a set.
  Let \(Q(x)\) be a property of any object \(x \in A\).
  Let \(P(x, y)\) be the statement ``\(Q(x)\) is true and \(x = y\)'' for any \(x \in A\) and any object \(y\).
  Suppose that for each \(x \in A\) there is at most one object \(y\) for which \(P(x, y)\) is true.
  Then we have
  \begin{align*}
         & z \in \set{y : P(x, y) \text{ is true for some } x \in A}               \\
    \iff & P(x, z) \text{ is true for some } x \in A                 &  & \by{3.6} \\
    \iff & Q(x) \text{ is true and } x = z                                         \\
    \iff & Q(z) \text{ is true and } z \in A                                       \\
    \iff & z \in \set{x \in A : Q(x) \text{ is true}}                &  & \by{3.5}
  \end{align*}
  Thus by \cref{3.1.4} we have
  \[
    \set{y : P(x, y) \text{ is true for some } x \in A} = \set{x \in A : Q(x) \text{ is true}}.
  \]
  We conclude that \cref{3.6} implies \cref{3.5}.
\end{proof}
