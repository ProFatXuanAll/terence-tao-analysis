\section{Gaps in the rational numbers}\label{sec:4.4}

\begin{ac}[Euclidean algorithm]\label{ac:4.4.1}
  Let \(n \in \Z\) and let \(q \in \Z^+\).
  Then \(\exists!\ m, r \in \Z\) such that \(0 \leq r < q\) and \(n = mq + r\).
\end{ac}

\begin{proof}
  We first show that there exists at least one pairs of \(m, r \in \Z\) satisfy the statement.
  By \cref{4.1.5} exactly one of the following two statements is true:
  \begin{itemize}
    \item \(n \geq 0\).
          Then by \cref{2.3.9} we know that such \(m, r \in \Z\) exist.
    \item \(n < 0\).
          Then by \cref{ac:4.2.5} we have \(-n > 0\) and
          \begin{align*}
                     & \exists\ m, r \in \Z : (0 \leq r < q) \land (-n = mq + r) &  & \text{(by \cref{2.3.9})}     \\
            \implies & (q > q - r > 0) \land (-n = mq + r)                       &  & \text{(by \cref{4.1.11}(a))} \\
            \implies & (q > q - r > 0) \land (n = (-m)q - r)                     &  & \text{(by \cref{ac:4.1.3})}  \\
            \implies & n = (-m)q - q + q - r                                     &  & \text{(by \cref{4.1.6})}     \\
            \implies & n = (-m - 1)q + (q - r).                                  &  & \text{(by \cref{4.1.6})}
          \end{align*}
          Since \(-m - 1 \in \Z\) and \(q > q - r > 0\), by setting \(m' = -m - 1\) and \(r' = q - r\) we see that \(n = m'q + r'\) satisfy the statement.
  \end{itemize}
  From all cases above we conclude that at least one pairs of \(m, r \in \Z\) satisfy the statement.

  Now we show the uniqueness of such \(m, r\).
  Let \(m, m', r, r' \in \Z\) such that
  \[
    (n = mq + r = m'q + r') \land (0 \leq r < q) \land (0 \leq r' < q).
  \]
  Suppose for sake of contradiction that \(r \neq r'\).
  By \cref{4.1.5} exactly one of the following two statements is true:
  \begin{itemize}
    \item \(r > r'\).
          Let \(a = r - r'\)
          By \cref{4.1.11}(a) we know that \(a \in \Z^+\).
          Then we have
          \begin{align*}
                     & mq + r = m'q + r'                                      \\
            \implies & r - r' = (m' - m)q   &  & \text{(by \cref{4.1.6})}     \\
            \implies & m' - m > 0           &  & \text{(by \cref{ac:4.2.6})}  \\
            \implies & m' - m \in \Z^+                                        \\
            \implies & (m' - m)q \geq q     &  & \text{(by \cref{2.2.12}(d))} \\
            \implies & r - r' \geq q                                          \\
            \implies & r \geq q + r' \geq q &  & \text{(by \cref{4.1.11}(b))}
          \end{align*}
          which contradict to \(r < q\).
    \item \(r < r'\).
          By \cref{4.1.10} we have \(r' > r\).
          Using similar argument above we derive a contradiction.
  \end{itemize}
  From all cases we derive contradictions, thus we must have \(r = r'\).
  This means
  \begin{align*}
             & mq + r = m'q + r'                               \\
    \implies & mq + r = m'q + r                                \\
    \implies & mq = m'q          &  & \text{(by \cref{4.1.6})} \\
    \implies & m = m'.           &  & \text{(by \cref{4.1.9})}
  \end{align*}
  Thus we conclude that for every \(n \in \Z\) and \(q \in \Z^+\), \(\exists!\ m, r \in \Z\) such that \(n = mq + r\) and \(0 \leq r < q\).
\end{proof}

\begin{prop}[Interspersing of integers by rationals]\label{4.4.1}
  Let \(x\) be a rational number.
  Then there exists an integer \(n\) such that \(n \leq x < n + 1\).
  In fact, this integer is unique (i.e., for each \(x\) there is only one \(n\) for which \(n \leq x < n + 1\)).
  In particular, there exists a natural number \(N\) such that \(N > x\)
  (i.e., there is no such thing as a rational number which is larger than all the natural numbers).
\end{prop}

\begin{proof}
  By \cref{4.2.1} we know that \(x = a / b\) where \(a, b \in \Z\) and \(b > 0\).
  Since \(a \in \Z\) and \(b \in \Z^+\), by \cref{ac:4.4.1} we know that \(\exists!\ m, r \in \Z\) such that \(a = mb + r\) and \(0 \leq r < b\).
  Then we have
  \begin{align*}
             & (a = mb + r) \land (0 \leq r < b)                                                                      \\
    \implies & (x = \dfrac{a}{b} = m + \dfrac{r}{b}) \land (0 \leq r < b)            &  & \text{(by \cref{4.2.4})}    \\
    \implies & (x = \dfrac{a}{b} = m + \dfrac{r}{b}) \land (0 \leq \dfrac{r}{b} < 1) &  & \text{(by \cref{4.2.9}(e))} \\
    \implies & m \leq x = m + \dfrac{r}{b} < m + 1.                                  &  & \text{(by \cref{4.2.9}(d))}
  \end{align*}
  Note that such \(m\) is unique by \cref{4.4.2}.
  If \(m + 1 < 0\), then by setting \(N = 0\) we have \(x < N\).
  If \(m + 1 \geq 0\), then by setting \(N = m + 1\) we again have \(x < N\).
  Thus we conclude that \(\forall x \in \Q\), \(\exists\ N \in \N\) such that \(x < N\).
\end{proof}

\begin{rmk}\label{4.4.2}
  The integer \(n\) for which \(n \leq x < n + 1\) is sometimes referred to as the \emph{integer part} of \(x\) and is sometimes denoted \(n = \floor{x}\).
\end{rmk}

\begin{prop}[Interspersing of rationals by rationals]\label{4.4.3}
  If \(x\) and \(y\) are two rationals such that \(x < y\), then there exists a third rational \(z\) such that \(x < z < y\).
\end{prop}

\begin{proof}
  We set \(z \coloneqq (x + y) / 2\).
  Since \(x < y\), and \(1 / 2 = 1 // 2\) is positive, we have from \cref{4.2.9} that \(x / 2 < y / 2\).
  If we add \(y / 2\) to both sides using \cref{4.2.9} we obtain \(x / 2 + y / 2 < y / 2 + y / 2\), i.e., \(z < y\).
  If we instead add \(x / 2\) to both sides we obtain \(x / 2 + x / 2 < y / 2 + x / 2\), i.e., \(x < z\).
  Thus \(x < z < y\) as desired.
\end{proof}

\begin{note}
  Despite the rationals having this denseness property, they are still incomplete;
  there are still an infinite number of ``gaps'' or ``holes'' between the rationals, although this denseness property does ensure that these holes are in some sense infinitely small.
\end{note}

\begin{ac}\label{ac:4.4.2}
  Let \(n, m\) be two natural numbers.
  Define \(n\) to be even if \(n = 2m\), and odd if \(n = 2m + 1\).
  Then every natural number is either even or odd, but not both.
\end{ac}

\begin{proof}
  We use induction on \(n\).
  For \(n = 0\), by \cref{2.3.1} and \cref{2.3.2} we have \(0 = 0 \times 2 = 2 \times 0\).
  By \cref{2.3} we have \(0 \neq 2m + 1\).
  Thus \(0\) is even and is not odd, so the base case holds.
  Suppose inductively that for some \(n \geq 0\), \(\exists\ m \in \N\) such that either \(n = 2m\) or \(n = 2m + 1\) is true, but not both.
  Then for \(n + 1\), by induction hypothesis we can split into two cases:
  \begin{itemize}
    \item If \(n = 2m\), then \(n + 1 = 2m + 1\), which means \(n + 1\) is odd.
    \item If \(n = 2m + 1\), then by \cref{2.2.5} and \cref{2.3.4} we have \(n + 1 = 2m + 2 = 2(m + 1)\), which means \(n + 1\) is even.
  \end{itemize}
  By induction hypothesis the two cases can not be true at the same time, thus \(n + 1\) is also either even or odd, but not both.
  This closes the induction.
\end{proof}

\begin{ac}\label{ac:4.4.3}
  Let \(n\) be a natural number.
  If \(n\) is even, then \(n^2\) is also even.
  If \(n\) is odd, then \(n^2\) is also odd.
\end{ac}

\begin{proof}
  We first show that \(n\) is even implies \(n^2\) is even.
  Since \(n\) is even, by \cref{ac:4.4.2} \(\exists\ m \in \N\) such that \(n = 2m\).
  Then we have
  \begin{align*}
    n^2 & = (2m)^2                                          \\
        & = (2m)(2m)         &  & \text{(by \cref{2.3.11})} \\
        & = 2\big(m(2m)\big) &  & \text{(by \cref{2.3.5})}
  \end{align*}
  and thus by \cref{ac:4.4.2} \(n^2\) is even.

  Now we show that \(n\) is odd implies \(n^2\) is odd.
  Since \(n\) is odd, by \cref{ac:4.4.2} \(\exists\ m \in \N\) such that \(n = 2m + 1\).
  Then we have
  \begin{align*}
    n^2 & = (2m + 1)^2                                                    \\
        & = (2m)^2 + 2(2m)1 + 1^2        &  & \text{(by \cref{ex:2.3.4})} \\
        & = (2m)(2m) + 2(2m) + 1         &  & \text{(by \cref{2.3.11})}   \\
        & = 2\big(m(2m)\big) + 2(2m) + 1 &  & \text{(by \cref{2.3.5})}    \\
        & = 2\big(m(2m) + 2m\big) + 1    &  & \text{(by \cref{2.3.4})}
  \end{align*}
  and thus by \cref{ac:4.4.2} \(n^2\) is odd.
\end{proof}

\begin{prop}\label{4.4.4}
  There does not exist any rational number \(x\) for which \(x^2 = 2\).
\end{prop}

\begin{proof}
  Suppose for sake of contradiction that we had a rational number \(x\) for which \(x^2 = 2\).
  Clearly \(x\) is not zero.
  We may assume that \(x\) is positive, for if \(x\) were negative then we could just replace \(x\) by \(-x\)
  (since \(x^2 = (-x)^2\)).
  Thus \(x = p / q\) for some positive integers \(p, q\), so \((p / q)^2 = 2\), which we can rearrange as \(p^2 = 2q^2\).
  Define a natural number \(p\) to be even if \(p = 2k\) for some natural number \(k\), and odd if \(p = 2k + 1\) for some natural number \(k\).
  By \cref{ac:4.4.2}, every natural number is either even or odd, but not both.
  By \cref{ac:4.4.3}, if \(p\) is odd, then \(p^2\) is also odd, which contradicts \(p^2 = 2q^2\).
  Thus \(p\) is even, i.e., \(p = 2k\) for some natural number \(k\).
  Since \(p\) is positive, \(k\) must also be positive.
  Inserting \(p = 2k\) into \(p^2 = 2q^2\) we obtain \(4k^2 = 2q^2\), so that \(q^2 = 2k^2\).

  To summarize, we started with a pair \((p, q)\) of positive integers such that \(p^2 = 2q^2\), and ended up with a pair \((q, k)\) of positive integers such that \(q^2 = 2k^2\).
  Since \(p^2 = 2q^2\), by \cref{2.2.12} we have \(p^2 = q^2 + q^2 \implies p^2 > q^2\).
  If \(p < q\), then by \cref{2.3.6}, \(p^2 < pq\) and \(pq < q^2\).
  So by \cref{2.2.12}, \(p^2 < q^2\), a contradiction.
  Thus we have \(q < p\).
  If we rewrite \(p' \coloneqq q\) and \(q' \coloneqq k\), we thus can pass from one solution \((p, q)\) to the equation \(p^2 = 2q^2\) to a new solution \((p', q')\) to the same equation which has a smaller value of \(p\).
  But then we can repeat this procedure again and again, obtaining a sequence \((p'', q'')\), \((p''', q''')\), etc. of solutions to \(p^2 = 2q^2\), each one with a smaller value of \(p\) than the previous, and each one consisting of positive integers.
  But this contradicts the principle of infinite descent (see \cref{ex:4.4.2}).
  This contradiction shows that we could not have had a rational \(x\) for which \(x^2 = 2\).
\end{proof}

\begin{prop}\label{4.4.5}
  For every rational number \(\varepsilon > 0\), there exists a non-negative rational number \(x\) such that \(x^2 < 2 < (x + \varepsilon)^2\).
\end{prop}

\begin{proof}
  Let \(\varepsilon > 0\) be rational.
  Suppose for sake of contradiction that there is no non-negative rational number \(x\) for which \(x^2 < 2 < (x + \varepsilon)^2\).
  This means that whenever \(x\) is non-negative and \(x^2 < 2\), we must also have \((x + \varepsilon)^2 < 2\)
  (note that \((x + \varepsilon)^2\) cannot equal \(2\), by \cref{4.4.4}).
  Since \(0^2 < 2\), we thus have \(\varepsilon^2 < 2\), which then implies \((2\varepsilon)^2 < 2\), and indeed a simple induction shows that \((n\varepsilon)^2 < 2\) for every natural number \(n\).
  (Note that \(n\varepsilon\) is non-negative for every natural number \(n\) by \cref{ac:4.2.5})
  But, by \cref{4.4.1} we can find an integer \(n\) such that \(n > 2 / \varepsilon\), which implies that \(n\varepsilon > 2\), which implies that \((n\varepsilon)^2 > 4 > 2\), contradicting the claim that \((n\varepsilon)^2 < 2\) for all natural numbers \(n\).
  This contradiction gives the proof.
\end{proof}

\begin{note}
  \cref{4.4.5} indicates that, while the set \(\Q\) of rationals does not actually have \(\sqrt{2}\) as a member, we can get as close as we wish to \(\sqrt{2}\).
  For instance, the sequence of rationals
  \[
    1.4, 1.41, 1.414, 1.4142, 1.41421, \dots
  \]
  seem to get closer and closer to \(\sqrt{2}\), as their squares indicate:
  \[
    1.96, 1.9881, 1.99396, 1.99996164, 1.9999899241, \dots
  \]
  Thus it seems that we can create a square root of \(2\) by taking a ``limit'' of a sequence of rationals.
  This is how we shall construct the real numbers in the next chapter.
\end{note}

\begin{note}
  There is another way to construct the real numbers, using something called ``Dedekind cuts'', which we will not pursue here.
  One can also proceed using infinite decimal expansions, but there are some sticky issues when doing so, e.g., one has to make \(0.999\dots\) equal to \(1.000\dots\), and this approach, despite being the most familiar, is actually more complicated than other approaches.
\end{note}

\exercisesection

\begin{ex}\label{ex:4.4.1}
  Prove \cref{4.4.1}.
\end{ex}

\begin{proof}
  See \cref{4.4.1}.
\end{proof}

\begin{ex}\label{ex:4.4.2}
  A definition: a sequence \(a_0, a_1, a_2, \dots\) of numbers (natural numbers, integers, rationals, or reals) is said to be in \emph{infinite descent} if we have \(a_n > a_{n + 1}\) for all natural numbers \(n\)
  (i.e., \(a_0 > a_1 > a_2 > \dots\)).
  \begin{enumerate}
    \item Prove the \emph{principle of infinite descent}:
          that it is not possible to have a sequence of \emph{natural numbers} which is in infinite descent.
    \item Does the principle of infinite descent work if the sequence \(a_1, a_2, a_3, \dots\) is allowed to take integer values instead of natural number values?
          What about if it is allowed to take positive rational values instead of natural numbers?
          Explain.
  \end{enumerate}
\end{ex}

\begin{proof}{(a)}
  Suppose for sake of contradiction that there exists a sequence of natural numbers \(a_0, a_1, a_2, \dots\) is in infinite descent.
  Since all the \(a_n\) are natural numbers, \(a_n \geq 0\) for all \(n \in \N\).
  Now we use induction on \(k\) to show in fact that \(a_n \geq k\) for all \(k \in \N\) and for all \(n \in \N\).
  For \(k = 0\), we have \(a_n \geq 0\) for all \(n \in \N\), so the base case holds.
  Suppose inductively that for some \(k \geq 0\) we have \(a_n \geq k\) for all \(n \in \N\).
  Then for \(k + 1\), we want to show that \(a_n \geq k + 1\) for all \(n \in \N\).
  By induction hypothesis, \(\forall m \in \N\) such that \(a_m \geq k\), which also implies \(a_{m + 1} \geq k\).
  And since the sequence is in infinite descent, we have \(a_m > a_{m + 1}\).
  Thus we have
  \begin{align*}
             & a_m > a_{m + 1} \geq k                                   \\
    \implies & a_m > k                &  & \text{(by \cref{2.2.12}(b))} \\
    \implies & a_m \geq k + 1         &  & \text{(by \cref{2.2.12}(c))}
  \end{align*}
  and this closes the induction.

  Now we show that such sequence does not exist.
  Since \(\forall k \in \N\), we have \(a_n \geq k\) for all \(n \in \N\).
  We set \(k = a_0\).
  Then \(a_n \geq a_0\), which contradicts to the sequence which is in infinite descent.
  So such sequence does not exist.
\end{proof}

\begin{proof}{(b)}
  By setting \(a_n = -n \ \forall n \in \N\), we can always have \(a_n > a_{n + 1}\).
  So the principle of infinite descent does not work on integers.

  Similarly, by setting \(a_n = 1 / n \ \forall n \in \N\), we can always have \(a_n > a_{n + 1}\).
  So the principle of infinite descent does not work on rationals.
\end{proof}

\begin{ex}\label{ex:4.4.3}
  Fill in the gaps marked (why?) in the proof of \cref{4.4.4}.
\end{ex}

\begin{proof}
  See \cref{4.4.4}.
\end{proof}