\section{Gaps in the rational numbers}\label{i:sec:4.4}

\begin{ac}[Euclidean algorithm]\label{i:ac:4.4.1}
  Let \(n \in \Z\) and let \(q \in \Z^+\).
  Then there exist an unique pair of \((m, r) \in \Z \times \N\) such that \(0 \leq r < q\) and \(n = mq + r\).
\end{ac}

\begin{proof}[\pf{i:ac:4.4.1}]
  We first show that there exists at least one pairs of \((m, r) \in \Z \times \N\) satisfy the statement.
  By \cref{i:4.1.5} exactly one of the following two statements is true:
  \begin{itemize}
    \item \(n \geq 0\).
          Then by \cref{i:2.3.9} we know that there exists a pair of \((m, r) \in \N \times \N\) such that \(0 \leq r < q\) and \(n = mq + r\).
          By \cref{i:ac:4.1.2} we have \(m \in \Z\).
          Thus there exists a pair of \((m, r) \in \Z \times \N\) such that \(0 \leq r < q\) and \(n = mq + r\).
    \item \(n < 0\).
          Then by \cref{i:ac:4.2.7} we have \(-n > 0\) and by \cref{i:2.3.9} there exists a pair of \((m, r) \in \N \times \N\) such that \(0 \leq r < q\) and \(-n = mq + r\).
          Fix one such pair \((m, r)\).
          Since \(0 \leq r\), by \cref{i:4.1.11}(d) we have \(-r \leq 0\), and by \cref{i:4.1.11}(b) we have \(q - r \leq q\).
          Since \(r < q\), by \cref{i:4.1.11}(a) we have \(q - r > 0\).
          Thus by \cref{i:4.1.11}(e) we have \(0 < q - r \leq q\).
          Now observe that
          \begin{align*}
            n & = -(-n)                         &  & \by{i:ac:4.1.6}         \\
              & = -(mq + r)                     &  & \by{i:2.3.9}            \\
              & = -(mq + q + (-q) + r)          &  & \by{i:4.1.6}            \\
              & = -((m + 1) q + (r - q))        &  & \by{i:4.1.6,i:ac:4.1.4} \\
              & = (-1) ((m + 1) q + (r - q))    &  & \by{i:ac:4.1.5}         \\
              & = (-1) (m + 1) q + (-1) (r - q) &  & \by{i:4.1.6}            \\
              & = -(m + 1) q + (q - r).         &  & \by{i:ac:4.1.5,i:4.1.6}
          \end{align*}
          Since \(-(m + 1) \in \Z\) and \(q > q - r \geq 0\), by setting \(m' = -m - 1\) and \(r' = q - r\) we see that \(n = m'q + r'\) satisfy the statement.
  \end{itemize}
  From all cases above we conclude that at least one pairs of \((m, r) \in \Z \times \N\) satisfy the statement.

  Now we show the uniqueness of such \((m, r) \in \Z \times \N\).
  Let \((m, r), (m', r') \in \Z \times \N\) such that
  \[
    (n = mq + r = m'q + r') \land (0 \leq r < q) \land (0 \leq r' < q).
  \]
  Suppose for sake of contradiction that \(r \neq r'\).
  By \cref{i:4.1.5} exactly one of the following two statements is true:
  \begin{itemize}
    \item \(r > r'\).
          Let \(a = r - r'\)
          By \cref{i:4.1.11}(a) we know that \(a \in \Z^+\).
          Then we have
          \begin{align*}
                     & mq + r = m'q + r'                                     \\
            \implies & r - r' = (m' - m)q    &  & \by{i:4.1.6}               \\
            \implies & m' - m > 0            &  & \by{i:ac:4.2.8,i:ac:4.2.9} \\
            \implies & m' - m \geq 1         &  & \by{i:2.2.12}[e]           \\
            \implies & (m' - m)q \geq q      &  & \by{i:2.3.6}               \\
            \implies & r - r' \geq q                                         \\
            \implies & r \geq q + r' \geq q. &  & \by{i:4.1.11}[b]
          \end{align*}
          But this contradict to \(r < q\).
    \item \(r < r'\).
          By \cref{i:4.1.10} we have \(r' > r\).
          Using similar argument above we derive a contradiction.
  \end{itemize}
  From all cases above we derive contradictions, thus we must have \(r = r'\).
  This means
  \begin{align*}
             & mq + r = m'q + r'                   \\
    \implies & mq + r = m'q + r  &  & \by{i:4.1.3} \\
    \implies & mq = m'q          &  & \by{i:4.1.6} \\
    \implies & m = m'.           &  & \by{i:4.1.9}
  \end{align*}
  Thus such \((m, r) \in \Z \times \N\) is unique.
\end{proof}

\begin{prop}[Interspersing of integers by rationals]\label{i:4.4.1}
  Let \(x\) be a rational number.
  Then there exists an integer \(n\) such that \(n \leq x < n + 1\).
  In fact, this integer is unique (i.e., for each \(x\) there is only one \(n\) for which \(n \leq x < n + 1\)).
  In particular, there exists a natural number \(N\) such that \(N > x\)
  (i.e., there is no such thing as a rational number which is larger than all the natural numbers).
\end{prop}

\begin{proof}[\pf{i:4.4.1}]
  By \cref{i:4.2.1} we know that \(x = a / b\) where \(a, b \in \Z\) and \(b > 0\).
  Since \(a \in \Z\) and \(b \in \Z^+\), by \cref{i:ac:4.4.1} we know that there exists a pair of \((m, r) \in \Z \times \N\) such that \(a = mb + r\) and \(0 \leq r < b\).
  Then we have
  \begin{align*}
             & (a = mb + r) \land (0 \leq r < b)                                                                \\
    \implies & \pa{x = \dfrac{a}{b} = m + \dfrac{r}{b}} \land (0 \leq r < b)               &  & \by{i:4.2.4}    \\
    \implies & \pa{x = \dfrac{a}{b} = m + \dfrac{r}{b}} \land \pa{0 \leq \dfrac{r}{b} < 1} &  & \by{i:4.2.9}[e] \\
    \implies & m \leq x = m + \dfrac{r}{b} < m + 1.                                        &  & \by{i:4.2.9}[d]
  \end{align*}

  Next we show the uniqueness of such \(n\).
  Suppose there exists another \(n' \in \Z\) such that \(n' \leq x < n' + 1\).
  Then we have
  \begin{align*}
             & (n \leq x < n + 1) \land (n' \leq x < n' + 1)                       \\
    \implies & (n < n' + 1) \land (n' < n + 1)               &  & \by{i:4.2.9}[c]  \\
    \implies & (n' + 1 - n > 0) \land (n + 1 - n' > 0)       &  & \by{i:4.2.9}[d]  \\
    \implies & (n' + 1 - n \geq 1) \land (n + 1 - n' \geq 1) &  & \by{i:2.2.12}[e] \\
    \implies & (n' \geq n) \land (n \geq n')                 &  & \by{i:4.2.9}[d]  \\
    \implies & n' = n.                                       &  & \by{i:4.2.9}[a]
  \end{align*}
  Thus such \(n\) is unique.

  Finally we show that there exists an \(N \in \N\) such that \(N > x\).
  By \cref{i:4.2.9}(a) we split into three cases:
  \begin{itemize}
    \item \(x = 0\).
          Then by setting \(N = 1\) we have \(N > x\).
    \item \(x < 0\).
          Then by setting \(N = 0\) we have \(N > x\).
    \item \(x > 0\).
          From the proof above we know that there exists an \(n \in \Z\) such that \(n \leq x < n + 1\).
          Since \(x > 0\), by \cref{i:4.2.9}(c) we know that \(n + 1 > 0\).
          Thus \(n + 1 \in \N\).
          By setting \(N = n + 1\) we have \(N > x\).
  \end{itemize}
  From all cases above we conclude that there exists an \(N \in \N\) such that \(x < N\).
\end{proof}

\begin{rmk}\label{i:4.4.2}
  The integer \(n\) for which \(n \leq x < n + 1\) is sometimes referred to as the \emph{integer part} of \(x\) and is sometimes denoted \(n = \floor{x}\).
\end{rmk}

\begin{prop}[Interspersing of rationals by rationals]\label{i:4.4.3}
  If \(x\) and \(y\) are two rationals such that \(x < y\), then there exists a third rational \(z\) such that \(x < z < y\).
\end{prop}

\begin{proof}[\pf{i:4.4.3}]
  We set \(z \coloneqq (x + y) / 2\).
  Since \(x < y\), and \(1 / 2 = 1 // 2\) is positive, we have from \cref{i:4.2.9} that \(x / 2 < y / 2\).
  If we add \(y / 2\) to both sides using \cref{i:4.2.9} we obtain \(x / 2 + y / 2 < y / 2 + y / 2\), i.e., \(z < y\).
  If we instead add \(x / 2\) to both sides we obtain \(x / 2 + x / 2 < y / 2 + x / 2\), i.e., \(x < z\).
  Thus \(x < z < y\) as desired.
\end{proof}

\begin{note}
  Despite the rationals having this denseness property, they are still incomplete;
  there are still an infinite number of ``gaps'' or ``holes'' between the rationals, although this denseness property does ensure that these holes are in some sense infinitely small.
\end{note}

\begin{ac}\label{i:ac:4.4.2}
  Let \(n \in \N\).
  Define \(n\) to be \emph{even} if \(n = 2m\) for some \(m \in \N\), and \emph{odd} if \(n = 2m + 1\) for some \(m \in \N\).
  Then every natural number is either even or odd, but not both.
\end{ac}

\begin{proof}[\pf{i:ac:4.4.2}]
  We induct on \(n\).
  For \(n = 0\), by \cref{i:2.3.1,i:2.3.2} we have \(0 = 0 \times 2 = 2 \times 0\).
  By \cref{i:2.3} we have \(0 \neq 2m + 1\).
  Thus \(0\) is even and is not odd, so the base case holds.
  Suppose inductively that for some \(n \in N\), there exists some \(m \in \N\) such that either \(n = 2m\) or \(n = 2m + 1\) is true, but not both.
  Then we need to show that the same statement holds for \(n + 1\).
  By induction hypothesis we can split into two cases:
  \begin{itemize}
    \item \(n = 2m\) for some \(m \in \N\).
          Then \(n + 1 = 2m + 1\), which means \(n + 1\) is odd.
    \item \(n = 2m + 1\) for some \(m \in \N\).
          Then by \cref{i:2.2.5,i:2.3.4} we have \(n + 1 = 2m + 2 = 2(m + 1)\), which means \(n + 1\) is even.
  \end{itemize}
  Thus \(n + 1\) is either even or odd.
  Now we show that we cannot have \(n + 1\) be both even and odd.
  Suppose for sake of contradiction that \(n + 1\) is both even and odd.
  Then there exist \(m, k \in \N\) such that \(n + 1 = 2m = 2k + 1\).
  By \cref{i:2.3} we know that \(2m = n + 1 > 0\), thus by \cref{i:2.3.3} we must have \(m > 0\).
  By \cref{i:2.2.12}(e) we have \(m \geq 1\), so by \cref{i:4.1.11}(b) we have \(m - 1 \geq 0\), and by definition \(2(m - 1) + 1\) is odd.
  Now we use \cref{i:4.1.6} to rewrite \(2m = 2 (m - 1 + 1) = 2 (m - 1) + 2\).
  Therefore by \cref{i:2.2.10} \(n + 1 = 2m \implies n = 2 (m - 1) + 1\), which means \(n\) is odd.
  But by \cref{i:2.2.10} again we have \(n + 1 = 2k + 1 \implies n = 2k\), which means \(n\) is even, contradict to induction hypothesis that \(n\) cannot be both even and odd.
  Therefore \(n + 1\) cannot be both even and odd.
  This closes the induction.
\end{proof}

\begin{ac}\label{i:ac:4.4.3}
  Let \(n\) be a natural number.
  If \(n\) is even, then \(n^2\) is also even.
  If \(n\) is odd, then \(n^2\) is also odd.
\end{ac}

\begin{proof}[\pf{i:ac:4.4.3}]
  We first show that \(n\) is even implies \(n^2\) is even.
  Since \(n\) is even, by \cref{i:ac:4.4.2} there exists an \(m \in \N\) such that \(n = 2m\).
  By \cref{i:ac:2.3.1} we have \(m (2m) \in \N\).
  Since
  \begin{align*}
    n^2 & = (2m)^2                         \\
        & = (2m) (2m)   &  & \by{i:2.3.11} \\
        & = 2 (m (2m)), &  & \by{i:2.3.5}
  \end{align*}
  by \cref{i:ac:4.4.2} this means \(n^2\) is even.

  Now we show that \(n\) is odd implies \(n^2\) is odd.
  Since \(n\) is odd, by \cref{i:ac:4.4.2} there exists an \(m \in \N\) such that \(n = 2m + 1\).
  By \cref{i:ac:2.3.1} we know that \(m (2m) \in \N\), thus by \cref{i:ac:2.2.1} we have \(m (2m) + 2m \in \N\).
  Since
  \begin{align*}
    n^2 & = (2m + 1)^2                                   \\
        & = (2m)^2 + 2 (2m) + 1^2   &  & \by{i:ex:2.3.4} \\
        & = (2m) (2m) + 2 (2m) + 1  &  & \by{i:2.3.11}   \\
        & = 2 (m (2m)) + 2 (2m) + 1 &  & \by{i:2.3.5}    \\
        & = 2 (m (2m) + 2m) + 1,    &  & \by{i:2.3.4}
  \end{align*}
  by \cref{i:ac:4.4.2} this means \(n^2\) is odd.
\end{proof}

\begin{prop}\label{i:4.4.4}
  There does not exist any rational number \(x\) for which \(x^2 = 2\).
\end{prop}

\begin{proof}[\pf{i:4.4.4}]
  Suppose for sake of contradiction that we had a rational number \(x\) for which \(x^2 = 2\).
  Clearly, \(x\) is not zero by \cref{i:4.3.12}(c).
  We may assume that \(x\) is positive, for if \(x\) were negative then we could just replace \(x\) by \(-x\)
  (since \(x^2 = (-x)^2\)).
  Thus \(x = p / q\) for some positive integers \(p, q\), so \((p / q)^2 = 2\), which we can rearrange as \(p^2 = 2q^2\).
  By \cref{i:ac:4.4.2}, every natural number is either even or odd, but not both.
  By \cref{i:ac:4.4.3}, if \(p\) is odd, then \(p^2\) is also odd, which contradicts \(p^2 = 2q^2\).
  Thus \(p\) is even, i.e., \(p = 2k\) for some natural number \(k\).
  Since \(p\) is positive, \(k\) must also be positive.
  Inserting \(p = 2k\) into \(p^2 = 2q^2\) we obtain \(4k^2 = 2q^2\), so that \(q^2 = 2k^2\).

  To summarize, we started with a pair \((p, q)\) of positive integers such that \(p^2 = 2q^2\), and ended up with a pair \((q, k)\) of positive integers such that \(q^2 = 2k^2\).
  Now we claim that \(p^2 = 2q^2 \implies q < p\).
  We prove the claim by contradiction.
  Suppose for sake of contradiction that \(q \geq p\).
  \begin{itemize}
    \item If \(q = p\), then we have \(p^2 = q^2\).
          But \(p^2 = 2q^2 = q^2 + q^2\) implies \(q^2 = 0\), and by \cref{i:4.3.10}(b) this means \(q = 0\), which contradicts to \(q > 0\).
    \item If \(q > p\), then by \cref{i:4.3.10}(c) we have \(q^2 > p^2\).
          Since \(q > 0\), by \cref{i:4.3.10}(b) we have \(q^2 > 0\).
          But by \cref{i:2.2.12}(f) \(p^2 = 2q^2 = q^2 + q^2\) implies \(p^2 > q^2\), which contradicts to \(q^2 > p^2\).
  \end{itemize}
  From all cases above we derive contradiction.
  Thus we must have \(p^2 = 2q^2 \implies q < p\).
  If we rewrite \(p' \coloneqq q\) and \(q' \coloneqq k\), we thus can pass from one solution \((p, q)\) to the equation \(p^2 = 2q^2\) to a new solution \((p', q')\) to the same equation which has a smaller value of \(p\).
  But then we can repeat this procedure again and again, obtaining a sequence \((p'', q'')\), \((p''', q''')\), etc. of solutions to \(p^2 = 2q^2\), each one with a smaller value of \(p\) than the previous, and each one consisting of positive integers.
  But this contradicts the principle of infinite descent (see \cref{i:ex:4.4.2}).
  This contradiction shows that we could not have had a rational \(x\) for which \(x^2 = 2\).
\end{proof}

\begin{prop}\label{i:4.4.5}
  For every rational number \(\varepsilon > 0\), there exists a non-negative rational number \(x\) such that \(x^2 < 2 < (x + \varepsilon)^2\).
\end{prop}

\begin{proof}[\pf{i:4.4.5}]
  Let \(\varepsilon > 0\) be rational.
  Suppose for sake of contradiction that there is no non-negative rational number \(x\) for which \(x^2 < 2 < (x + \varepsilon)^2\).
  This means that whenever \(x\) is non-negative and \(x^2 < 2\), we must also have \((x + \varepsilon)^2 < 2\)
  (note that \((x + \varepsilon)^2\) cannot equal \(2\), by \cref{i:4.4.4}).
  Since \(0^2 < 2\), we thus have \(\varepsilon^2 < 2\), which then implies \((2\varepsilon)^2 < 2\), and indeed a simple induction shows that \((n\varepsilon)^2 < 2\) for every natural number \(n\).
  (Note that \(n\varepsilon\) is non-negative for every natural number \(n\) by \cref{i:ac:4.2.7})
  But, by \cref{i:4.4.1} we can find an integer \(n\) such that \(n > 2 / \varepsilon\), which implies that \(n\varepsilon > 2\), which implies that \((n\varepsilon)^2 > 4 > 2\), contradicting the claim that \((n\varepsilon)^2 < 2\) for all natural numbers \(n\).
  This contradiction gives the proof.
\end{proof}

\begin{note}
  \cref{i:4.4.5} indicates that, while the set \(\Q\) of rationals does not actually have \(\sqrt{2}\) as a member, we can get as close as we wish to \(\sqrt{2}\).
  For instance, the sequence of rationals
  \[
    1.4, 1.41, 1.414, 1.4142, 1.41421, \dots
  \]
  seem to get closer and closer to \(\sqrt{2}\), as their squares indicate:
  \[
    1.96, 1.9881, 1.99396, 1.99996164, 1.9999899241, \dots
  \]
  Thus it seems that we can create a square root of \(2\) by taking a ``limit'' of a sequence of rationals.
  This is how we shall construct the real numbers in \cref{i:ch:5}.
\end{note}

\begin{note}
  There is another way to construct the real numbers, using something called ``Dedekind cuts'', which we will not pursue here.
  One can also proceed using infinite decimal expansions, but there are some sticky issues when doing so, e.g., one has to make \(0.999\dots\) equal to \(1.000\dots\), and this approach, despite being the most familiar, is actually more complicated than other approaches.
\end{note}

\exercisesection

\begin{ex}\label{i:ex:4.4.1}
  Prove \cref{i:4.4.1}.
\end{ex}

\begin{proof}[\pf{i:ex:4.4.1}]
  See \cref{i:4.4.1}.
\end{proof}

\begin{ex}\label{i:ex:4.4.2}
  A definition: a sequence \(a_0, a_1, a_2, \dots\) of numbers (natural numbers, integers, rationals, or reals) is said to be in \emph{infinite descent} if we have \(a_n > a_{n + 1}\) for all natural numbers \(n\)
  (i.e., \(a_0 > a_1 > a_2 > \dots\)).
  \begin{enumerate}
    \item Prove the \emph{principle of infinite descent}:
          that it is not possible to have a sequence of \emph{natural numbers} which is in infinite descent.
    \item Does the principle of infinite descent work if the sequence \(a_1, a_2, a_3, \dots\) is allowed to take integer values instead of natural number values?
          What about if it is allowed to take positive rational values instead of natural numbers?
          Explain.
  \end{enumerate}
\end{ex}

\begin{proof}[\pf{i:ex:4.4.2}(a)]
  Suppose for sake of contradiction that there exists a sequence of natural numbers \(a_0, a_1, \dots\) is in infinite descent.
  Now we claim that if \(k \in \N\), then \(a_n \geq k\) for all \(n \in \N\).
  We induct on \(k\) to prove the claim.
  For \(k = 0\), by \cref{i:ac:2.2.4} we have \(a_n \geq 0\) for all \(n \in \N\), so the base case holds.
  Suppose inductively that for some \(k \in \N\) we have \(a_n \geq k\) for all \(n \in \N\).
  Then for \(k + 1\), we want to show that \(a_n \geq k + 1\) for all \(n \in \N\).
  By induction hypothesis we have \(a_n \geq k\) for all \(n \in \N\).
  Since the sequence \(a_0, a_1, \dots\) is in infinite descent, we know that \(a_n > a_{n + 1} \geq k\) for all \(n \in \N\).
  Thus we have
  \begin{align*}
             & \forall n \in \N, a_n > a_{n + 1} \geq k &  & \byIH            \\
    \implies & \forall n \in \N, a_n > k                &  & \by{i:2.2.12}[b] \\
    \implies & \forall n \in \N, a_n \geq k + 1.        &  & \by{i:2.2.12}[e]
  \end{align*}
  This closes the induction.

  Now we show that such sequence does not exist.
  From the proof above we see that \(a_1 \geq k\) for all \(k \in \N\).
  If we set \(k = a_0\), then we must have \(a_1 \geq a_0\).
  Since the sequence is in infinite descent, we must have \(a_0 > a_1\).
  But both \(a_1 \geq a_0\) and \(a_0 > a_1\) being true contradict to \cref{i:2.2.13}.
  So we cannot have a sequence of natural number which is in infinite descent.
\end{proof}

\begin{proof}[\pf{i:ex:4.4.2}(b)]
  By setting \(a_n = -n\) for all \(n \in \N\), we can always have \(a_n > a_{n + 1}\).
  So the principle of infinite descent does not work on integers.

  Similarly, by setting \(a_n = 1 / n\) for all \(n \in \N\), we can always have \(a_n > a_{n + 1}\).
  So the principle of infinite descent does not work on rationals.
\end{proof}

\begin{ex}\label{i:ex:4.4.3}
  Fill in the gaps marked (why?) in the proof of \cref{i:4.4.4}.
\end{ex}

\begin{proof}[\pf{i:ex:4.4.3}]
  See \cref{i:4.4.4}.
\end{proof}
